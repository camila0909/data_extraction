UNIVERSIDADE FEDERAL DE SANTA CATARINA
DEPARTAMENTO DE MATEM ´ATICA

Waldir de Souza

COMO UM JOGO DE CARA E COROA PODE TE
LEVAR AO MUNDO DAS FINAN ¸CAS QUANTITATIVAS

Florian´opolis

19 de dezembro de 2018

Ficha de identificação da obra elaborada pelo autor, através do Programa de Geração Automática da Biblioteca Universitária da UFSC.de Souza, Waldir    COMO UM JOGO DE CARA E COROA PODE TE LEVAR AOMUNDO DAS FINANÇAS QUANTITATIVAS / Waldir  de Souza; orientador, Vinicius  Viana Luiz Albani, 2018.   73 p.   Dissertação (mestrado profissional) -Universidade Federal de Santa Catarina, Centro deCiências Físicas e Matemáticas, Programa de PósGraduação em Matemática, Florianópolis, 2018.   Inclui referências.    1. Matemática. 2. Modelo Binomial. 3. ModeloCAPM. I. Viana Luiz Albani, Vinicius . II.Universidade Federal de Santa Catarina. Programa dePós-Graduação em Matemática. III. Título.COMO UM JOGO DE CARA E COROA PODE TE
LEVAR AO MUNDO DAS FINAN ¸CAS QUANTITATIVAS
por
Waldir de Souza

Esta Disserta¸c˜ao foi julgada aprovada para a obten¸c˜ao do T´ı-
tulo de “Mestre em Matem´atica”, e aprovada em sua forma ﬁnal pelo
Programa de Mestrado Proﬁssional em Matem´atica.

Prof. Dr. Celso Melchiades Doria
Coordenador do Curso

Banca Examinadora

Prof. Dr. Vinicius Viana Luiz Albani
UFSC
Orientador

Prof Dr Wagner Barbosa Muniz
UFSC

Prof. Dr. Celso Melchiades Doria
UFSC

Prof. Dr Fabio Junior Margotti
UFSC

Florian´opolis, de 19 de dezembro de 2018.

`A minha fam´ılia, em especial minha es-
posa Marilza Bonifacio de Souza, minha
m˜ae Donilia Francisca de Souza, meus ir-
m˜aos Alcione, Sonia e Luciano.

AGRADECIMENTOS

`A Deus em primeiro lugar.
`A todos os professores que de certa forma contribu´ıram ao longo
da minha vida acadˆemica para meu crescimento acadˆemico e proﬁssi-
onal, em especial `a meu Orientador, Dr Vin´ıcius Viana Luiz Albani,
pelo empenho dedicado ´a elabora¸c˜ao deste trabalho.

`A todos os meus amigos, em especial os docentes de matem´atica

do IFSC onde trabalho e `a turma de mestrado.

`A CAPES, e `a UFSC pela realiza¸c˜ao do curso de Mestrado

PROFMAT.

RESUMO

Neste trabalho mostramos que com a matem´atica do ensino M´edio ali-
ada a alguns conceitos um pouco mais avan¸cados em teoria da probabi-
lidade e em combinat´oria, ´e poss´ıvel chegar a um modelo razoavelmente
preciso em ﬁnan¸cas quantitativas; ou seja, o Modelo Binomial. Com ele
veremos como preciﬁcar contratos derivativos via o princ´ıpio da replica-
¸c˜ao e via o modelo de pre¸co de ativo de capital (CAPM) encontraremos
estrat´egias de investimento ´otimo, de acordo com uma fun¸c˜ao de utili-
dade dada. Veremos tamb´em como usar estes modelos com dados reais,
que est˜ao dispon´ıveis em sites especializados em ﬁnan¸cas.

Palavras-chave: An´alise combinat´oria. Probabilidade. Modelo. Fi-
nan¸cas

ABSTRACT

In this work we show that with the mathematics of High School allied to
some more advanced concepts from Probability theory and Combina-
torics, it is possible to achieve a precise model in quantitative ﬁnances,
that is, the Binomial Model. Under such model, we shall see how to
price appropriately derivative contracts via the principle of replication.
Via the CAPM model we shall also ﬁnd optimal investment strategies,
according to a given utility function. In addition, we shall see how to
use these models with real data, which are available on charge from
ﬁnancial websites.

Keywords: Combinatorial analysis. Probability. Model. Finance

LISTA DE FIGURAS

Figura 1 Diagrama de ´arvore- Lan¸camento de moedas . . . . . . . . . . . 23
Figura 2 Deﬁni¸c˜ao frequˆencial . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 26
`Arvore Binomial de um per´ıodo. . . . . . . . . . . . . . . . . . . . . . . . 34
Figura 3
`Arvore Binomial particular de um per´ıodo. . . . . . . . . . . . . 36
Figura 4
`Arvore Binomial geral de trˆes per´ıodos. . . . . . . . . . . . . . . . . 41
Figura 5
`Arvore Binomial particular de trˆes per´ıodos . . . . . . . . . . . . 42
Figura 6
`Arvore de pre¸cos de a¸c˜ao (topo) e de pre¸cos de op¸c˜ao
Figura 7
(base) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 69
`Arvore do Portf´olio ´otimo . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 70
Figura 8

SUM ´ARIO

INTRODU ¸C ˜AO . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
17
1
NO ¸C ˜AO DE PROBABILIDADE E ESTAT´ISTICA 19
2
NO ¸C ˜AO INTUITIVA DE PROBABILIDADE . . . . . . . . . . 19
2.1
EXPERIMENTO ALEAT ´ORIO . . . . . . . . . . . . . . . . . . . . . . . 20
2.2
ESPA ¸CO AMOSTRAL . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 21
2.3
EVENTO . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 22
2.4
`ARVORE DE PROBABILIDADE . . . . . . . . . . . . . . . . . . . . . 22
2.5
PROCESSO ESTOC ´ASTICO . . . . . . . . . . . . . . . . . . . . . . . . . 24
2.6
DEFINI ¸C ˜OES DE PROBABILIDADE . . . . . . . . . . . . . . . . . 25
2.7
2.7.1 Frequˆencial . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 25
2.7.2 Cl´assica . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 27
2.7.3 Axiom´atica . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 27
REGRAS PARA O C ´ALCULO DAS PROBABILIDADES 28
2.8
AN ´ALISE COMBINAT ´ORIA . . . . . . . . . . . . . . . . . . . . . . . . . 30
2.9
MODELO BINOMIAL . . . . . . . . . . . . . . . . . . . . . . . . .
3
33
MODELO BINOMIAL DE UM PER´IODO . . . . . . . . . . . . . 33
3.1
MODELO BINOMIAL MULTIPER´IODO . . . . . . . . . . . . . . 41
3.2
MODELO DE PRE ¸CO DE ATIVO DE CAPITAL 51
4
O MODELO CAPM . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 51
4.1
APLICA ¸C ˜AO . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
65
5
DEFINI ¸C ˜OES E EXEMPLO . . . . . . . . . . . . . . . . . . . . . . . . . 65
5.1
5.1.1 Avalia¸c˜ao Neutra ao Risco . . . . . . . . . . . . . . . . . . . . . . . 65
5.1.2 Determina¸c˜ao de ˜p; u e d . . . . . . . . . . . . . . . . . . . . . . . . . 65
5.1.3 Pre¸co da A¸c˜ao via o Modelo Binomial de trˆes pe-

r´ıodos . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 66
5.1.4 Indu¸c˜ao Retroativa . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 67
5.1.5 Exemplo . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 67
CONSIDERA ¸C ˜OES FINAIS . . . . . . . . . . . . . . . . . . . .
71
6
73
Referˆencias . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

17

1 INTRODU ¸C ˜AO

O mercado ﬁnanceiro possui muitos diferentes nichos em que
agentes negociam bens e servi¸cos atrav´es de ´org˜aos, como bolsas de
valores, que estabelecem regras e garantias. Alguns exemplos bem co-
nhecidos desses nichos s˜ao:

i Mercado de a¸c˜oes, como os de Nova York, Londres, S˜ao Paulo e

T´oquio;

ii Mercado de t´ıtulos, que lidam com t´ıtulos do governo e outros;

iii Mercado de cˆambio, nos quais as moedas s˜ao compradas e vendi-

das;

iv Mercado de commodities, onde ativos f´ısicos como petr´oleo, ouro,

cobre, trigo ou eletricidade s˜ao negociados;

v Mercados de futuros e op¸c˜oes, nos quais os contratos derivativos

s˜ao negociados.

Nesse trabalho trataremos de objetos conhecidos como derivativos ﬁ-
nanceiros, produtos derivativos, obriga¸c˜oes contingenciadas ou apenas
derivativos, que s˜ao contratos que podem dar aos investidores uma
grande variedade de oportunidades para adaptar suas estrat´egias `as
suas necessidades de investimento, como, por exemplo, redu¸c˜ao de ex-
posi¸c˜ao ao risco de grandes perdas.

A negocia¸c˜ao oﬁcial de op¸c˜oes come¸cou em 1973 no Chicago Bo-
ard Options Exchange (CBOE), em que, inicialmente, apenas op¸c˜oes de
compra de algumas das a¸c˜oes mais l´ıquidas1 foram negociadas. Desde
ent˜ao, este mercado cresceu vertiginosamente e, em alguns casos, exce-
deu signiﬁcativamente o mercado das a¸c˜oes subjacentes. Muitas op¸c˜oes
s˜ao registradas e liquidadas atrav´es de um banco. Este banco tamb´em
´e respons´avel pela coleta de margem de quem emite a op¸c˜ao. Essa mar-
gem ´e uma quantia que ´e mantida pelo banco em nome do emissor da
op¸c˜ao,que garanta que ele seja capaz de cumprir suas obriga¸c˜oes,caso
o pre¸co do ativo mova-se contra ele.

`A medida que o n´umero e o tipo de produtos derivativos au-
mentaram,houve um crescimento correspondente na complexidade da
preciﬁca¸c˜ao de op¸c˜oes,o que tornou este um assunto de pesquisa aca-
dˆemica e corporativa bastante ativo at´e o momento.

1Termo usado para contratos e objetos muito negociados

18

As op¸c˜oes tˆem dois usos principais: especula¸c˜ao e cobertura de
risco. No segundo caso, estas podem ser vistas como um seguro contra
movimentos adversos do subjacente. Observe que, uma carteira (capi-
tal total investido em diferentes ativos, derivativos, t´ıtulos e etc.) que
cont´em apenas ativos cai quando o pre¸co dos ativos cai, enquanto que
uma carteira que contem somente op¸c˜oes aumenta de valor. Ent˜ao,
em algum lugar entre estes dois extremos ´e poss´ıvel encontrar uma es-
trat´egia de investimento em que um pequeno movimento imprevis´ıvel
no ativo n˜ao resulte em nenhum movimento imprevis´ıvel no valor da
carteira. Esta rela¸c˜ao ´e instantaneamente livre de risco. A redu¸c˜ao
do risco aproveitando essas correla¸c˜oes entre o ativo e a op¸c˜ao ´e cha-
mada de cobertura de risco. Dentre todos os derivativos,talvez o mais
simples seja a op¸c˜ao de compra europeia,o qual ´e um contrato que,em
um tempo futuro conhecido como data de expira¸c˜ao ou vencimento,o
titular da op¸c˜ao poder´a comprar um certo ativo ou a¸c˜ao subjacente por
uma quantidade prescrita,conhecida como pre¸co de exerc´ıcio ou strike.
Assim,o valor de uma op¸c˜ao de compra depende do pre¸co da a¸c˜ao subja-
cente,do pre¸co de exerc´ıcio, da data de expira¸c˜ao e tamb´em de uma ’ale-
atoriedade’ do pre¸co do ativo,chamada de volatilidade. Quanto maior a
volatilidade,mais irregular ser´a o gr´aﬁco do pre¸co do ativo como fun¸c˜ao
do tempo. Este contrato derivativo pode ser usado,por exemplo,para
um investidor auferir lucro com uma a¸c˜ao cujo pre¸co sobe repentina-
mente e acima do strike. No vencimento,o investidor exerce a op¸c˜ao e
obter´a um lucro dado pela diferen¸ca entre o pre¸co da a¸c˜ao e o strike. Se
o pre¸co da a¸c˜ao for menor ou igual ao strike,a op¸c˜ao n˜ao vale nada. Ou-
tra op¸c˜ao europeia importante ´e a op¸c˜ao de venda,que permite ao seu
titular vender a a¸c˜ao subjacente,no vencimento,por um valor prescrito
ou strike. Quem vendeu a op¸c˜ao ´e ent˜ao obrigado a comprar o ativo
pelo strike. Assim,o titular de uma op¸c˜ao de compra quer que o pre¸co
do ativo suba,pois,quanto maior o pre¸co do ativo no vencimento,maior
ser´a o lucro. J´a o titular de uma op¸c˜ao de venda quer o pre¸co do
ativo caia o mais baixo poss´ıvel. Existem ainda as vers˜oes americanas
das op¸c˜oes acima, que podem ser exercidas a qualquer momento at´e o
vencimento da op¸c˜ao e as op¸c˜oes ex´oticas,como a op¸c˜ao lookback,que
depende do valor m´aximo atingido pelo ativo at´e o vencimento. Nosso
papel nesta disserta¸c˜ao ser´a mostrar que atrav´es do Modelo Binomial,
num ambiente sem arbitragem (isto ´e,em que n˜ao se pode ter lucro
sem investimento algum),usando ferramentas matem´aticas acess´ıveis a
alunos do ensino m´edio,´e poss´ıvel calcular o pre¸co justo de contratos
derivativos usando dados reais. Isso ´e de fundamental importˆancia para
que investidores consigam obter estrat´egias de investimento eﬁcientes.

19

2 NO ¸C ˜AO DE PROBABILIDADE E ESTAT´ISTICA

2.1 NO ¸C ˜AO INTUITIVA DE PROBABILIDADE

O primeiro trabalho escrito que se tem not´ıcia e que envolve
uma ideia intuitiva de probabilidade data de 1477. Trata-se de um
coment´ario feito `a Divina Com´edia (Dante), no qual h´a referˆencia `as
probabilidades associadas aos v´arios resultados decorrentes do jogo de
trˆes dados. Mas foi no s´eculo XVIII, com os chamados jogos de azar,
que surgiram os primeiros estudos comprovados de probabilidade. Jo-
gar astr´agalos, que ´e um osso do tarso que tem forma quase c´ubica
lembrando um dado, fazia parte do lazer de soldados gregos e romanos.
Grandes nomes da Hist´oria da Matem´atica s˜ao respons´aveis pelo corpo
de conhecimentos que constitui hoje a Teoria das Probabilidades: Blaise
Pascal (1623-1662), Pierre De Fermat (1601-1665), Christiaan Huygens
(1629-1695), Isaac Newton (1642-1727), Jacob Bernoulli (1654-1705),
Pierre-Simon Laplace (1749-1827), Thomas Bayes (1702-1761), Andr´ei
Nikol´ayevich Kolmogorov (1903-1987) entre outros.

Segundo (FELLER, 2008) a estat´ıstica,em rela¸c˜ao `a probabili-
dade, foi desenvolvida principalmente por Ronald Aylmer Fisher (1890
-1962) e Richard Von Mises (1883-1953). A no¸c˜ao de espa¸co amostral
vem de Richard V. Mises. Essa no¸c˜ao possibilitou construir uma teoria
estritamente matem´atica de probabilidade baseada na teoria das medi-
das. Essa abordagem apareceu nos anos 20 sob a inﬂuˆencia de muitos
autores. Um tratamento axiom´atico que representa o desenvolvimento
moderno foi dado por A. Kolmogorov, que citaremos mais vezes em
nosso trabalho.

A teoria da probabilidade permite que se calcule a chance de

ocorrˆencia de um n´umero em um experimento aleat´orio.

Existem v´arias abordagens a respeito de probabilidade como se

coloca nos exemplos a seguir:

• A chance de se obter cara com uma moeda honesta ´e de 50%.

Julgamento estat´ıstico: estima a frequˆencia de uma determinada
caracter´ıstica entre os membros de uma classe.

• A chance de que o Brasil adote o regime mon´arquico ´e muito

pequena

Julgamento de credibilidade: avalia o grau de conﬁan¸ca que te-
mos a respeito da ocorrˆencia de determinado elemento.

20

Estas t´ecnicas de julgamentos foram desenvolvidas por diferentes
estudiosos ao longo dos ´ultimos trˆes s´eculos e o nosso objetivo ´e obter
algumas no¸c˜oes tiradas de cada uma delas, sem, entretanto, nenhum
aprofundamento espec´ıﬁco.

Examinando as seguintes aﬁrma¸c˜oes:
I. ´E prov´avel que Jo˜ao v´a ao teatro amanh˜a.

II. ´E prov´avel que Ad˜ao e Eva tenham existido.

Consegue-se perceber que em ambas est˜ao presentes as ideias de:
incerteza ou grau de conﬁan¸ca que depositamos naquilo que aﬁr-
mamos.

A palavra prov´avel tamb´em d´a ideia de futuro, mas na aﬁr-
ma¸c˜ao II estamos falando de algo que deve ter ocorrido no passado
- se ´e que ocorreu! Isto porque na aﬁrma¸c˜ao II a ”probabilidade” n˜ao
est´a ligada ao tempo, mas sim, `a eventual veracidade da pr´opria
aﬁrma¸c˜ao.

A Probabilidade e a Estat´ıstica se relacionam de um modo bas-
tante curioso. Essencialmente, a probabilidade constitui um ve´ıculo
que permite ao estat´ıstico utilizar as informa¸c˜oes de uma amostra para
realizar inferˆencias a respeito da popula¸c˜ao, ou descrever esta ´ultima,
da qual a amostra ´e extra´ıda. Nos tipos de problemas com que lida
a teoria das probabilidades, a popula¸c˜ao ´e supostamente conhecida, e
o problema consiste em calcular a probabilidade de se observar uma
amostra particular. Em estat´ıstica, ocorre exatamente o oposto: a po-
pula¸c˜ao ´e supostamente desconhecida, a amostra conhecida e se deseja
realizar inferˆencias acerca da popula¸c˜ao. Por conseguinte, a probabi-
lidade raciocina da popula¸c˜ao para a amostra, enquanto a estat´ıstica
atua de modo inverso, partindo da amostra para a popula¸c˜ao.

Al´em disso, em Teoria da Probabilidade assume-se um espa¸co
amostral e uma medida de probabilidade abstrata e tenta-se encontrar
leis que possam valer para o maior n´umero de medidas de probabilida-
des poss´ıveis (por isso usa-se medida de probabilidade abstrata).

2.2 EXPERIMENTO ALEAT ´ORIO

Experimento aleat´orio ´e aquele que poder´a ser repetido sob as
mesmas condi¸c˜oes indeﬁnidamente. Tal experimento apresenta varia-
¸c˜oes de resultados, n˜ao sendo poss´ıvel aﬁrmar a priori qual ser´a seu
resultado antes que o mesmo tenha sido realizado. Em an´alise combi-
nat´oria (uma sub´area de Probabilidade que trataremos futuramente)

21

´e poss´ıvel,descrever todos os poss´ıveis resultados (as possibilidades),
pois trabalhamos com espa¸cos amostrais ﬁnitos. O lan¸camento de um
dado constitui um experimento aleat´orio, pois esse experimento poder´a
ser repetido quantas vezes desejarmos. Antes do lan¸camento, n˜ao po-
deremos dizer qual ser´a o resultado, mas somos capazes de relatar os
poss´ıveis resultados: sair o n´umero 1, 2, 3, 4, 5 ou 6.

Podemos citar como um exemplo com inﬁnitas possibilidades o
ˆangulo entre o ponteiro dos segundos e o marcador das 12 horas em um
rel´ogio, quando esse ponteiro gira continuamente. Da mesma maneira
os experimentos abaixo s˜ao aleat´orios:

ε1 : Retirar uma carta de um baralho com 52 cartas e observar

seu naipe.

ε2: Retirar com ou sem reposi¸c˜ao bolas de uma urna que cont´em

5 bolas brancas e 6 pretas e observar a cor.

ε3: Contar o n´umero total de pe¸cas defeituosas na produ¸c˜ao di´a-

ria da m´aquina A.

ε4: Jogar uma moeda 10 vezes e observar o n´umero de caras.

ε5: Sortear um aluno de determinada classe.

A varia¸c˜ao de resultados ´e devida a uma multiplicidade de causas

que n˜ao podemos controlar, as quais denominamos acaso.

2.3 ESPA ¸CO AMOSTRAL

Ao conjunto de todos os poss´ıveis resultados de um experimento

aleat´orio chamaremos Espa¸co amostral e indicaremos por S.

Exemplos:

ε1 : Retirar uma carta de um baralho e observar o naipe.

S1 = {ouro, copas, paus, espadas}

ε2 : Lan¸car um dado e observar o n´umero na face voltada para

cima.

22

S2 = {1, 2, 3, 4, 5, 6}

ε3 : Contar o n´umero total de pe¸cas defeituosas na produ¸c˜ao

di´aria da m´aquina A.

S3 = {0, 1, 2, 3, 4, ..., n}

2.4 EVENTO

Qualquer conjunto de resultados de um experimento denomina-
se evento. Sendo evento um subconjunto de S, indicaremos os eventos
por letras mai´usculas: A, B, C, ...

Exemplo:
Seja o experimento ε : lan¸car um dado e observar a face voltada

para cima. Temos:

Espa¸co Amostral: S = {1, 2, 3, 4, 5, 6}.
Seja o evento A: sair um n´umero par, ent˜ao A = {2, 4, 6}

Pode-se classiﬁcar um evento como sendo simples ou composto:
Evento simples ´e aquele formado por um ´unico elemento do es-

pa¸co amostral, ´e constitu´ıdo de um ´unico resultado de S.

Evento composto ´e aquele que possui mais de um elemento, ´e
constitu´ıdo de mais de um resultado de S, portanto, no exemplo acima,
o evento A ´e composto.
O espa¸co amostral S e o conjunto vazio φ tamb´em s˜ao eventos, e s˜ao
chamados respectivamente de evento certo e evento imposs´ıvel.
Dois eventos A e B s˜ao denominados mutuamente exclusivos se eles n˜ao
puderem ocorrer simultaneamente, isto ´e, A ∩ B = φ

2.5 `ARVORE DE PROBABILIDADE

Em combinat´oria ou probabilidade, com espa¸cos amostrais ﬁni-
tos, um diagrama de ´arvore (tamb´em denominado ´arvore de pro-
babilidades) pode ser usado para representar um espa¸co de probabili-
dade. Tamb´em pode ser usado para representar esse espa¸co de proba-
bilidades as v´arias possibilidades de uma permuta¸c˜ao ou combina¸c˜ao,
neste caso, ´e mais adequado cham´a-lo de ´arvore de possibilidades.
Esse tipo de diagrama fornece uma maneira conveniente de organizar
as informa¸c˜oes de um conjunto de eventos condicionais.

23

P (Coroa) = 1
2

P (Cara) = 1
2

Coroa

P (Coroa) = 1
2

P (Cara) = 1
2

Cara

P (Coroa) = 1
2

P (Cara) = 1
2

Coroa

Cara

Coroa

Cara

Figura 1 – Diagrama de ´arvore- Lan¸camento de moedas

Diagrama de ´arvores podem representar s´eries de eventos in-
dependentes (como lan¸camento de moedas como na ﬁgura acima) ou
eventos n˜ao independentes (como retirar cartas de um baralho, sem re-
posi¸c˜ao). Cada n´o no diagrama representa um evento e est´a associado
com a probabilidade desse evento. O n´o da raiz representa o evento
certo e,portanto tem probabilidade de valor 1. Cada conjunto de n´os
irm˜aos representa uma exclusiva e exaustiva parti¸c˜ao do evento genitor.
A constru¸c˜ao de um diagrama de ´arvores ´e feita simplesmente
atrav´es da ramiﬁca¸c˜ao de todas as possibilidades de todos os experi-
mentos.

Para reduzir o n´umero de n´os e consequentemente o tempo de
processamento, existem as ´arvores binomiais recombinantes, na qual
dois intervalos de tempos consecutivos, um movimento de subida se-
guido por um movimento de descida ´e igual ´a um movimento de descida

24

seguido por um movimento de subida. Se a ´arvore n˜ao for recombinante,
no terceiro passo ter´a 23 = 8 n´os, e na recombinante seriam apenas 4.
Sendo assim, uma ´arvore n˜ao recombinante possui 2i n´os no i-´esimo
passo, enquanto a recombinante possui apenas i+1 n´os (MATAREZIO,
2009).

2.6 PROCESSO ESTOC ´ASTICO

Dentro da teoria das probabilidades, um processo estoc´astico
´e uma fam´ılia de vari´aveis aleat´orias representando a evolu¸c˜ao de um
sistema de valores com o tempo. ´E a contraparte probabil´ıstica de um
processo determin´ıstico. Ao inv´es de um processo que possui um ´unico
modo de evoluir, como nas solu¸c˜oes de equa¸c˜oes diferenciais ordin´a-
rias, por exemplo, em um processo estoc´astico h´a uma indetermina¸c˜ao:
mesmo que se conhe¸ca a condi¸c˜ao inicial, existem v´arias, por vezes
inﬁnitas, dire¸c˜oes nas quais o processo pode evoluir.

As vari´aveis correspondentes aos diversos tempos podem ser com-
pletamente diferentes, o ´unico requisito ´e que esses valores diferentes
estejam todos no mesmo espa¸co, isto ´e, no contradom´ınio da fun¸c˜ao.
Uma abordagem poss´ıvel ´e modelar as vari´aveis aleat´orias como fun-
¸c˜oes aleat´orias de um ou v´arios argumentos determin´ısticos, na maioria
dos casos, em rela¸c˜ao ao parˆametro do tempo. Apesar de os valores
aleat´orios de um processo estoc´astico em momentos diferentes parece-
rem vari´aveis aleat´orias independentes, nas situa¸c˜oes mais comuns, eles
exibem uma complexa dependˆencia estat´ıstica.

Exemplo de processos estoc´asticos incluem ﬂutua¸c˜oes nos merca-
dos de a¸c˜oes e nas taxas de cˆambio, dados m´edicos como temperatura,
press˜ao sangu´ınea e varia¸c˜oes nos potenciais el´etricos do c´erebro regis-
trados em um eletroencefalograma, ﬂuxo turbulento de um l´ıquido ou
g´as, varia¸c˜oes no campo magn´etico da Terra, mudan¸cas aleat´orias no
n´ıvel de sinais de r´adio sintonizados na presen¸ca de dist´urbios mete-
orol´ogicos, ﬂutua¸c˜ao da corrente em um circuito el´etrico na presen¸ca
de ru´ıdo t´ermico, movimentos aleat´orios como o movimento Browniano
ou passeios aleat´orios, N lan¸camentos de uma moeda, processo de Pois-
son (processo estoc´astico cont´ınuo que conta o n´umero de eventos de
interesse at´e um determinado tempo e as propriedades estudadas para
esses elementos), entre outros.

Uma generaliza¸c˜ao de um processo estoc´astico, o campo aleat´o-
rio, ´e deﬁnido ao permitir que as vari´aveis sejam parametrizadas por
membros de um espa¸co topol´ogico ao inv´es do tempo. Exemplos de

25

campos aleat´orios incluem imagens de est´atica, topograﬁa, ondas de
superf´ıcie e varia¸c˜oes na composi¸c˜ao de um material heterogˆeneo.

Mais genericamente, segundo (KAC; LOGAN, 1979) e (NELSON,
1985) qualquer tipo de evolu¸c˜ao temporal, determin´ıstica ou essenci-
almente probabil´ıstica, que seja analis´avel em termos de probabilidade
pode ser chamada de processo estoc´astico.

2.7 DEFINI ¸C ˜OES DE PROBABILIDADE

2.7.1 Frequˆencial

Os estudos iniciais dessa deﬁni¸c˜ao foram feitos por Jacques Ber-
noulli (1654-1705) em sua obra ”Ars Conjectandi”(1713). Seja ε um
experimento aleat´orio que ´e repetido n vezes e Ei um evento associado
a ε. Chama-se frequˆencia relativa de Ei nas n repeti¸c˜oes de ε ao valor:

f rEi =

nEi
n

(2.1)

, sendo nEj o n´umero de ocorrˆencias do evento Ej

Por exemplo se o experimento aleat´orio for o arremesso de uma
repre-
moeda, e o evento Ei corresponde a ”cara”, ent˜ao a fra¸c˜ao
senta o n´umero de vezes que caiu cara, ou seja, que ocorreu o evento,
sobre os n arremessos efetuados.

nEi
n

‘A medida que o n´umero de arremessos aumenta, ou seja, ‘a
medida que n aumenta, a fra¸c˜ao tende a se estabilizar e se aproxima de
algum n´umero ﬁxo, que ent˜ao pode medir a probabilidade de ocorrˆencia
do evento. ( Lei dos Grandes N´umeros) Pode-se ent˜ao escrever (1.1),
quando n −→ ∞, da seguinte forma:

lim
n→∞

f rEi = lim
n→∞

nEi
n

= P (Ei)

(2.2)

A existˆencia do limite 2.2 jamais poderia ser comprovada em
qualquer situa¸c˜ao real, visto que n˜ao ´e poss´ıvel realizar uma sequˆencia
inﬁnita de experiˆencias reais. No entanto ele representa um modelo
matem´atico bastante interessante.

Ainda no exemplo citado, em repetidos arremessos de uma mo-

26

1
eda ”honesta”, espera-se que a propor¸c˜ao de caras se aproxime de
2
de forma que atribui-se este valor a P (Ei) . A ﬁgura a seguir repre-
senta um gr´aﬁco poss´ıvel para estes arremessos, com n variando at´e
100 arremessos de uma moeda supostamente honesta.

Figura 2 – Deﬁni¸c˜ao frequˆencial

27

.

2.7.2 Cl´assica

Essa deﬁni¸c˜ao ´e dada pelo matem´atico Pierre-Simion Laplace Se
um experimento ε pode resultar em N diferentes e igualmente prov´aveis
resultados, e se nEi desses resultados correspondem ao evento Ei, ent˜ao,
a probabilidade de Ei ´e dada por:

P (Ei) =

nEi
N

Exemplo 1. Considere o experimento aleat´orio ε de lan¸car um dado e
observar a face voltada para cima. Tem-se o seguinte espa¸co amostral:

S = {1, 2, 3, 4, 5, 6}.

E1: face ´e igual a 1 ou 2.

E1 = {1, 2}

E2: face ´e igual a 3.

E2 = {3}

P (E2) =

E3: face ´e um n´umero par. E1 = {2, 4, 6} P (E1) =

P (E1) =
1
6

2
6

3
6

P (Ei) =

n´umero de ocorrˆencias do evento i
n´umero total de casos poss´ıveis

Observa¸c˜oes:

(i) Quando se usa esta deﬁni¸c˜ao, considera-se S ﬁnito, o que a

torna restrita.

(ii) Os N resultados poss´ıveis s˜ao considerados equiprov´aveis, ou
seja, cada resultado do espa¸co amostral tem a mesma probabilidade de
ocorrer. Diz-se que o espa¸co amostral ´e equiprov´avel.

No exemplo anterior o espa¸co amostral ´e equiprov´avel, visto que
se o dado for honesto, a probabilidade de cair qualquer uma das faces ´e
a mesma. Esta deﬁni¸c˜ao n˜ao poderia ser usada caso houvesse um dado
tendencioso, por exemplo.

2.7.3 Axiom´atica

Deﬁni¸c˜ao dada por Andrei Kolmogorov: seja ε um experimento
aleat´orio e S um espa¸co amostral associado a ε. A cada evento Ei,
associa-se um n´umero real representado por P (Ei), e denominado de
probabilidade de Ei, satisfazendo as seguintes propriedades:

28

(i) 0 (cid:54) P (Ei) (cid:54) 1, 0.

(ii) P (S) = 1, 0.

(iii) Se Ei e Ej s˜ao eventos mutuamente exclusivos, ent˜ao

P (Ei ∪ Ej) = P (Ei) + P (Ej) .

Das propriedades acima, pode-se deduzir as seguintes:

(iv) Se Ek , para k = 1, 2, ..., n forem eventos mutuamente exclusivos

dois a dois, ent˜ao:

(cid:32) n
(cid:91)

P

k=1

(cid:33)

Ek

=

n
(cid:88)

k=1

P (Ek) .

(v) Se φ for o conjunto vazio, ent˜ao P (φ) = 0.

(vi) Se Ei for o evento complementar de Ei, ent˜ao:

P (Ei) = 1 − P (cid:0)Ei

(cid:1) .

2.8 REGRAS PARA O C ´ALCULO DAS PROBABILIDADES

Teorema 2.8.1. Teorema da soma

1. Para 2 eventos: se Ei e Ej forem dois eventos quaisquer, ent˜ao

P (Ei ∪ Ej) = P (Ei) + P (Ej) − P (Ei ∩ Ej)

2. Para 3 eventos: se Ei, Ej e Ek forem trˆes eventos quaisquer,

ent˜ao

P (Ei ∪ Ej ∪ Ek) = P (Ei) + P (Ej) + P (Ek)

− P (Ei ∩ Ej) − P (Ei ∩ Ek) − P (Ej ∩ Ek)
+ P (Ei ∩ Ej ∩ Ek)

29

3. Para n eventos, por indu¸c˜ao:

(cid:32) n
(cid:91)

(cid:33)

Ei

P

i=1

=

+

n
(cid:88)

i=1

P (Ei) −

n
(cid:88)

1(cid:54)i(cid:54)j

P (Ei ∩ Ej)

n
(cid:88)

1<i<j<k

P (Ei ∩ Ej ∩ Ek)

+ ... + (−1)n+1 P

(cid:32) n
(cid:92)

(cid:33)

Ei

i=1

Deﬁni¸c˜ao 1. Sejam Ei e Ej dois eventos de um espa¸co amostral,
com P (Ej) (cid:54)= 0 , ent˜ao a probabilidade de ocorrer o evento Ei, tendo
ocorrido o evento Ej, ´e indicada por P (Ei/Ej) e deﬁnida pela rela¸c˜ao:

P (Ei/Ej) =

P (Ei ∩ Ej)
P (Ej)

Teorema 2.8.2. (Regra do Produto) Partindo da deﬁni¸c˜ao de proba-
bilidade condicional, pode-se explicitar P (Ei ∩ Ej) e obter a regra do
produto para dois eventos:

ou

P (Ei ∩ Ej) = P (Ej) · P (Ei/Ej)

P (Ei ∩ Ej) = P (Ei) · P (Ej/Ei)

Deﬁni¸c˜ao 2. Dois eventos s˜ao considerados independentes quando a
ocorrˆencia de um deles n˜ao depende ou n˜ao est´a vinculada `a ocorrˆencia
do outro, isto ´e, P (Ei/Ej) = P (Ei) e P (Ej/Ei) = P (Ej).

Corol´ario 1. A regra do produto para dois eventos independentes ´e
dada por:

P (Ei ∩ Ej) = P (Ei) · P (Ej)

Teorema 2.8.3. (Regra de Bayes).
Sejam A1, A2, . . . , An, n eventos mutuamente exclusivos tais que
A1 ∪ A2 ∪ . . . ∪ An = S. Sejam P (Ai) as probabilidades conhecidas
de todos os eventos Ai e B um evento qualquer de S tal que conhece-
mos todas as probabilidades condicionais P (B/Ai). Ent˜ao para cada

30

”i” teremos

P (Ai/B) =

P (Ai) · P (B/Ai)

n
(cid:88)

j=1

[P (Aj) · P (B/Aj)]

(2.3)

O resultado acima ´e bastante importante, pois relaciona probabilidades
a priori :P (Ai) com probabilidades a posteriori : P (Ai/B), probabili-
dade de Ai depois que ocorrer B.

Exemplo 2. Um fabricante produz motores para carros em trˆes f´abricas
(A, B e C), que respondem, respectivamente, por 40%, 35% e 25% de
sua produ¸c˜ao total. Registros hist´oricos indicam que 2% da produ¸c˜ao de
A ´e defeituosa, assim como 1% da de B, e 3% da f´abrica C. Escolhemos
1 motor aleatoriamente, e ele ´e defeituoso.
Qual a probabilidade dele ter sido produzido na f´abrica B ?
Resolu¸c˜ao: Chamando B o evento ”fabricado em B” e d o evento ”Motor
defeituoso”, podemos escrever:
Uma pe¸ca defeituosa pode provir de qualquer uma das 3 f´abricas (e s´o
de uma). Logo, s˜ao eventos mutuamente excludentes. Portanto:
P (d) = P (A) · P (d/A) + P (B) · P (d/B) + P (C) · P (d/C)
P (B/d) = P (B∩d)
Assim : P (d) = (0, 40 · 0, 02) + (0, 35 · 0, 01) + (0, 25 · 0, 03) = 0, 019
E, portanto, P (B). = 0,035cdot0,01

P (d) = P (B)·P (d/B)

= 0, 184 = 18, 4%

0,019

P (d)

2.9 AN ´ALISE COMBINAT ´ORIA

O que ´e An´alise Combinat´oria ou simplesmente Combinat´oria?
Segundo os autores (CARVALHO et al., 2004) Carvalho, Pitombeira e
Morgado, a maior parte dos alunos do 2o grau responderia que ela ´e
o estudo das combina¸c˜oes, arranjos e permuta¸c˜oes. Isso no entanto ´e
uma resposta parcial pois, embora combina¸c˜oes, arranjos e permuta-
¸c˜oes fa¸cam parte da An´alise Combinat´oria, s˜ao conceitos que permitem
resolver um tipo de problemas de An´alise Combinat´oria: os de conta-
gem de certos tipos de subconjuntos de um conjunto ﬁnito, sem que
seja necess´ario enumerar seus elementos. No entanto, a An´alise Com-
binat´oria trata de v´arios outros tipos de problemas e disp˜oe, al´em das
combina¸c˜oes, arranjos e permuta¸c˜oes, de outras t´ecnicas para atac´a-los:
o princ´ıpio da inclus˜ao-exclus˜ao, o princ´ıpio das gavetas de Dirichlet,
as fun¸c˜oes geradoras, a teoria de Ramsey s˜ao exemplos de t´ecnicas po-
derosas de An´alise Combinat´oria. O princ´ıpio das gavetas de Dirichlet,
tamb´em chamado de princ´ıpio da casas dos pombos pois o problema

31

que originou esse princ´ıpio diz que se n+1 pombos s˜ao colocados em
n casas, pelo menos uma casa ter´a mais que um pombo. Isso ´e mais
simples ou pelo menos t˜ao simples quanto o estudo das combina¸c˜oes,
arranjos e permuta¸c˜oes. De maneira mais geral, podemos dizer que a
An´alise Combinat´oria ´e a parte da Matem´atica que analisa estruturas
e rela¸c˜oes discretas. Dois tipos de problemas que ocorrem frequente-
mente em An´alise Combinat´oria s˜ao:

1) Demonstrar a existˆencia de subconjuntos de elementos de um

conjunto ﬁnito dado e que satisfazem certas condi¸c˜oes;

2) Contar ou classiﬁcar os subconjuntos de um conjunto ﬁnito e que
satisfazem certas condi¸c˜oes dadas. A solu¸c˜ao de um problema
combinat´orio exige quase sempre engenhosidade e a compreens˜ao
plena da situa¸c˜ao descrita pelo problema.

32

33

3 MODELO BINOMIAL

Neste cap´ıtulo usaremos como referˆencia o cap´ıtulo 1 do livro
(SHREVE, 2012). Estudaremos a preciﬁca¸c˜ao de t´ıtulos de renda ﬁxa
p´os-ﬁxados e preﬁxados. A ﬁm de desenvolver as ´arvores binomiais de
pre¸cos unit´arios dos t´ıtulos, ´e necess´ario o desenvolvimento de ´arvores
binomiais de taxas de juros e de fatores de juros acumulados. O objetivo
do Modelo Binomial de Preciﬁca¸c˜ao de Op¸c˜oes para a¸c˜oes que n˜ao
pagam dividendos ´e preciﬁcar op¸c˜oes em fun¸c˜ao do valor de sua a¸c˜ao, de
forma relativamente simples, assumindo a possibilidade de apenas dois
valores de pre¸co da a¸c˜ao no vencimento da op¸c˜ao: a a¸c˜ao ou aumenta
at´e dado pre¸co maior ou diminui at´e determinado pre¸co menor.

3.1 MODELO BINOMIAL DE UM PER´IODO

O Modelo Binomial para pre¸cos de ativos ﬁnanceiros ´e uma fer-
ramenta poderosa para entender a teoria de pre¸cos de arbitragem e
probabilidade. Nesta se¸c˜ao ser´a apresentado o Modelo Binomial de um
per´ıodo, o qual tem como generaliza¸c˜ao o Modelo Binomial multipe-
r´ıodo, que ´e mais realista e ser´a apresentado na pr´oxima se¸c˜ao.

Para o modelo geral de um per´ıodo como ilustrado na Figura 3,
tem-se apenas o in´ıcio, ou tempo zero, e o ﬁnal, ou tempo um. No
tempo zero, o pre¸co de uma a¸c˜ao, denotado por S0, ´e uma quantidade
positiva conhecida, j´a no tempo um, o pre¸co desta mesma a¸c˜ao pode
assumir dois valores positivos, denotados por S1(H) e S1(T ), em que H
representa cara e T coroa. Assim, imagina-se que uma moeda ´e jogada
e o resultado deste lance determina o pre¸co no momento um. Note que
n˜ao se assume que esta moeda seja justa, ou seja, a probabilidade de
dar cara n˜ao precisa ser 50%. Assumimos apenas que a probabilidade
de dar cara ´e um n´umero positivo p,menor que 1 e que a probabilidade
de dar coroa ´e q = 1 − p, o qual tamb´em ´e um n´umero positivo.

O resultado do lance de moedas e, portanto, o pre¸co da a¸c˜ao no
momento um, ´e conhecido apenas no momento um, e n˜ao no tempo
zero. Daqui em diante, qualquer quantidade n˜ao conhecida no tempo
zero ser´a referida como aleat´oria porque depende da experiˆencia do
lan¸camento de uma moeda. Sejam os dois n´umeros positivos

u =

S1(H)
S0

e d =

S1(T )
S0

.

(3.1)

34

S1(H) = uS0

S0

S1(T ) = dS0

Figura 3 – `Arvore Binomial de um per´ıodo

Assumimos que d < u, pois, se ao inv´es tiv´essemos d > u, pode-
r´ıamos ter d < u apenas renomeando os lados da moeda em quest˜ao.
Se tiv´essemos d = u, ent˜ao o pre¸co da a¸c˜ao no tempo um n˜ao se-
ria realmente aleat´orio e, portanto, o modelo n˜ao seria interessante.
Referimo-nos a u como o fator de acr´escimo e d como o fator de de-
cr´escimo no pre¸co da a¸c˜ao. ´E intuitivamente ´util pensar em u como
sendo maior do que 1 e d como sendo menor do que 1, o que explicaria
os nomes fator de acr´escimo e fator de decr´escimo, mas essas restri¸c˜oes
n˜ao s˜ao necessariamente verdadeiras no modelo apresentado aqui.

Outra vari´avel que introduzimos no modelo ´e a taxa de juros r,
tal que, a cada real investido no momento zero, render´a 1 + r reais no
tempo um. Por outro lado, um real tomado emprestado no tempo zero
resultar´a em uma d´ıvida de 1 + r reais no tempo um. Em particular, a
taxa de juros para empr´estimos ´e a mesma usada para investimentos,
al´em disso, ´e quase sempre verdade que r ≥ 0, e este ´e o caso a se
ter em mente. No entanto, no que ser´a exposto a seguir, ´e necess´ario
apenas que r > −1.

Uma caracter´ıstica essencial de mercados eﬁcientes ´e que se uma
estrat´egia de investimento consegue transformar uma quantia nula em
algum lucro, ent˜ao, tamb´em deve correr o risco de levar a um preju´ızo.
Caso contr´ario, haveria uma arbitragem, isto ´e, uma estrat´egia de in-
vestimento que com zero reais de investimento, tem probabilidade zero
de preju´ızo e uma probabilidade positiva de se obter lucro. Modelos
matem´aticos que admitem arbitragem n˜ao podem ser usados para an´a-
lise, pois sempre haveria a possibilidade de um capital positivo surgir
do zero. Portanto, para excluir a arbitragem do Modelo Binomial de
um per´ıodo, ´e necess´ario assumir:

0 < d < 1 + r < u.

35

(3.2)

A desigualdade d > 0 se deve ao fato de pre¸cos de a¸c˜oes serem positi-
vos. As outras duas desigualdades em (3.2) decorrem da ausˆencia de
arbitragem. Mais precisamente, se d ≥ 1 + r, pode-se come¸car com
nenhum capital e, no momento zero, tomar um empr´estimo para com-
prar a a¸c˜ao. At´e no pior dos cen´arios, ou seja, se der coroa, a a¸c˜ao
no momento um valer´a o suﬁciente para saldar o empr´estimo, e al´em
disso, h´a uma probabilidade positiva de gerar lucro l´ıquido (valor da
a¸c˜ao menos o pagamento do empr´estimo), pois u > d ≥ 1 + r. Isto
conﬁguraria uma arbitragem. Por outro lado, se u ≤ 1 + r, pode-se
vender a a¸c˜ao a descoberto e investir o saldo `a taxa r, deste modo,
no tempo um, o saldo seria multiplicado por 1 + r e seria maior que o
valor da a¸c˜ao no melhor dos cen´arios, isto ´e, se desse cara. Portanto,
pagar´ıamos o valor da a¸c˜ao e ainda ter´ıamos lucro com probabilidade
positiva (no caso de dar coroa).

Observe que, a Inequa¸c˜ao (3.2) ´e equivalente a ausˆencia de arbi-
tragem no modelo aqui tratado. Ou seja, Se n˜ao h´a arbitragem, ent˜ao
vale (3.2) e vice-versa.

Note que ´e bastante comum se ter d = u−1 e este ser´a o caso
em muitos dos exemplos aqui tratados. No entanto, para o modelo de
mercado binomial fazer sentido, apenas a Inequa¸c˜ao (3.2) ´e necess´aria.
Apesar da sua simplicidade, o Modelo Binomial est´a sendo tra-
tado aqui devido a trˆes raz˜oes principais. Primeiramente porque, dentro
desse modelo, o conceito de pre¸co de arbitragem ( pre¸co justo quando
n˜ao temos arbitragem que ´e encontrado usando a medida neutra ao
risco) e a sua rela¸c˜ao com pre¸co neutro ao risco podem ser compre-
endidos de maneira clara. Em segundo lugar, este modelo ´e bastante
usado na pr´atica, pois, para um n´umero suﬁciente de per´ıodos, ele for-
nece uma aproxima¸c˜ao razoavelmente precisa de modelos em tempo-
cont´ınuo. Num certo sentido, o Modelo Binomial se comporta como
uma discretiza¸c˜ao expl´ıcita de modelos em tempo cont´ınuo. Final-
mente, dentro do Modelo Binomial de preciﬁca¸c˜ao de ativos, ´e poss´ıvel
desenvolver a teoria de esperan¸cas condicionais e martingais, que s˜ao
fundamentais em modelos de tempo cont´ınuo.

Uma op¸c˜ao de compra ´e o direito de comprar o ativo por um
pre¸co de exerc´ıcio K numa data futura, com isso protege o risco de
subida do ativo. Existe a op¸c˜ao de compra Europeia em que vocˆe exerce
o direito de compra no vencimento e a Americana em que vocˆe exerce
o direito de compra at´e a data do vencimento. O caso aqui tratado
´e quando S1(T ) < K < S1(H). Da´ı, se der coroa, a op¸c˜ao expira

36

sem valor ( a compra n˜ao ´e efetivada), se der cara, a op¸c˜ao pode ser´a
exercida e produz um lucro de S1(H) − K. Ou seja, a op¸c˜ao no tempo
um tem o seguinte payoﬀ (valores poss´ıveis) max{0, S1 − K} = (S1 −
K)+. Esse payoﬀ ´e a recompensa da op¸c˜ao. A quest˜ao fundamental ´e o
quanto a op¸c˜ao vale a pena no tempo zero, antes de saber se o resultado
ser´a cara ou coroa.

Exemplo 3. Seja S0 = $4 , u = 2 , d = 1/2 e r = 1/4.
Assim,

S1(H) = u · S0 = $8 e S1(T ) = d · S0 = $2.

Conforme Figura 4 abaixo.

S0 = 4

S1(H) = 8

S1(T ) = 2

Figura 4 – `Arvore Binomial particular de um per´ıodo.

Suponha que o pre¸co de exerc´ıcio da op¸c˜ao de compra europeia
seja K = 5 e que o capital inicial do investidor seja X0 = $1, 20.
O investidor compra ∆0 = 1
2 fra¸c˜oes da a¸c˜ao no tempo zero. Como
S(0) = $4, o investidor deve usar seu capital inicial X0 = $1, 20 e
tomar $0, 80 emprestado a taxa r para fazer essa opera¸c˜ao. Portanto,
o caixa ﬁca X0 − ∆0 · S0 = −0, 80 (isto ´e, tem-se uma d´ıvida de $0, 80).
No tempo um, a posi¸c˜ao de caixa vai ser (1 + r) · (X0 − ∆0 · S0) = −1
(ou seja, tem-se uma d´ıvida de $1, 00). Por outro lado, no tempo um, a
2 ·S1(H) = 4 ou 1
fra¸c˜ao de a¸c˜ao pode valer 1
2 ·S1(T ) = 1. Em particular,
se der cara, o valor da carteira ser´a

X1(H) = ∆0 · S1(H) + (1 + r) · (X0 − ∆0 · S0) = 3,

e se der coroa, ser´a

X1(T ) = ∆0 · S1(T ) + (1 + r) · (X0 − ∆0 · S0) = 0.

37

Em ambos os casos, o valor da carteira concorda com o valor da op¸c˜ao
no tempo um, o qual ´e

[S1(H) − 5]+ = 3 ou [S1(T ) − 5]+ = 0.

Portanto, o payoﬀ da op¸c˜ao foi reproduzido atrav´es do investimento
na a¸c˜ao e na conta banc´aria (empr´estimo `a taxa r). A riqueza inicial
de $1, 20, necess´aria para conﬁgurar o portf´olio de replica¸c˜ao descrito
acima, ´e o pre¸co de n˜ao arbitragem da op¸c˜ao no tempo zero. Se algu´em
pudesse vender a op¸c˜ao por mais do que isso, digamos, por $1, 21, ent˜ao
o vendedor poderia investir $0, 01 `a taxa r e usar $1, 20 para reproduzir
a op¸c˜ao. No momento um, o vendedor poderia pagar a op¸c˜ao, inde-
pendentemente se der cara ou coroa, e ainda ter´a um lucro de $0, 01
resultante do investimento `a taxa r. Isto ´e uma arbitragem porque o
vendedor da op¸c˜ao n˜ao precisa de dinheiro inicialmente, e, sem risco
de perda, garante um lucro de $0, 01 no momento um.

Por outro lado, se algu´em pudesse comprar a op¸c˜ao por menos de
$1, 20, digamos, por $1, 19, ent˜ao deve-se comprar a op¸c˜ao e conﬁgurar
o inverso da estrat´egia de negocia¸c˜ao de replica¸c˜ao descrita acima. Em
particular, vender meia a¸c˜ao a descoberto, o que gera uma renda de
$2, 00, usar $1, 19 para comprar a op¸c˜ao, investir $0, 80 `a taxa r e in-
vestir em uma conta separada o $0.01 restante. No momento um, se der
cara, ´e preciso $4, 00 para pagar a metade da a¸c˜ao. A op¸c˜ao comprada
no momento zero vale $3, 00 e os $0, 80 investidos no tempo zero valem
$1, 00. J´a, se no tempo um der coroa, ´e necess´ario $1, 00 para pagar a
metade da a¸c˜ao. Nesse caso, a op¸c˜ao n˜ao vale nada, mas os $0, 80 in-
vestidos no tempo zero valem $1, 00. Em ambos os casos, o comprador
consegue saldar a d´ıvida e ainda possui o montante resultante do $0.01
investido na conta separada no tempo zero. Portanto, sempre haver´a
arbitragem se o pre¸co da op¸c˜ao no tempo zero for diferente de $1, 20 e
n˜ao haver´a arbitragem se o pre¸co da op¸c˜ao for exatamente $1, 20.

Note que o argumento desenvolvido no Exemplo 3 depende de

v´arios pressupostos, dentre estes podemos citar:

a) as a¸c˜oes podem ser subdivididas em fra¸c˜oes negoci´aveis;

b) a taxa de juros para investir ´e a mesma taxa de juros para em-

pr´estimos;

c) o pre¸co de compra da a¸c˜ao ´e o mesmo de venda;

d) o pre¸co de uma a¸c˜ao s´o pode atingir dois valores a partir de um

dado pre¸co no per´ıodo anterior.

38

Um contrato derivativo ou, simplesmente, derivativo, ´e um con-
trato que no tempo um paga uma certa quantia V1(H) se der cara e
V1(T ), uma quantia possivelmente distinta, se der coroa. Uma op¸c˜ao
de compra europeia ´e um tipo particular de derivativo, um segundo
tipo de derivativo ´e a op¸c˜ao de venda europeia, que tem como payoﬀ
no tempo um (K − S1)+, onde K ´e uma constante. Um terceiro deri-
vativo ´e um contrato a termo, cujo valor no tempo um ´e S1 − K. Para
determinar o pre¸co V0 no tempo zero de um derivativo, ´e necess´ario
reproduzir seu payoﬀ, desenvolvendo uma estrat´egia de investimento
similar a apresentada no Exemplo 3. Suponha, por exemplo, que te-
nhamos um capital inicial de X0 e compramos ∆0 fra¸c˜oes da a¸c˜ao no
tempo zero. Logo, temos em caixa a posi¸c˜ao

X0 − ∆0 · S0.

O valor desta carteira no tempo um ´e

X1 = (1 + r) · X0 + ∆0 · [S1 − (1 + r) · S0].

Para reproduzir o payoﬀ do derivativo ´e necess´ario escolher X0 e ∆0 de
modo que

X1(H) = V1(H) e X1(T ) = V1(T ).

Note que, V1(H) e V1(T ) s˜ao dados, mas o resultado no tempo um
depende do resultado do lan¸camento da moeda, isto ´e, se tivermos cara
ou coroa. A replica¸c˜ao do payoﬀ do derivativo exige que

X0 + ∆0 ·

X0 + ∆0 ·

(cid:18) 1

1 + r

(cid:18) 1

1 + r

(cid:19)

· S1(H) − S0

=

(cid:19)

· S1(T ) − S0

=

1
1 + r

1
1 + r

X0 = X0 − ∆0S0 + ∆0S0

· V1(H)

(3.3)

· V1(T )

(3.4)

X1 = (1 + r) · (X0 − ∆0S0) + ∆0S1

X1 = (1 + r)X0 + ∆0[S1) − (1 + r)S0]

Trazendo X1 para o tempo zero temos:

X1 ·

1
1 + r

(cid:18)

= X0 + ∆0

S1 ·

(cid:19)

− S0

1
1 + r

39

X1(H) ·

X1(T ) ·

1
1 + r
1
1 + r

= X0 − ∆0S0 +

= X0 − ∆0S0 +

1
1 + r
1
1 + r

∆0S1(H)

∆0S1(T )

Multiplicando por ˜p e ˜q, obtemos :

(˜pX1(H)+˜qX1(T ))·

(cid:18) 1

(cid:19)

1 + r

= X0−∆0S0+

1
1 + r

∆0[˜pS1(H)+˜qS1(T )] = X0.

Ent˜ao escolhemos ˜p e ˜q tal que

S0 =

1
1 + r

[˜pS1(H) + ˜qS1(T )]

(3.5)

E a equa¸c˜ao para X0

X0 =

1
1 + r

[˜pV1(H) + ˜qV1(T )]

(3.6)

Podemos ent˜ao encontrar ˜p diretamente a partir da Equa¸c˜ao (3.5) na
forma:

S0 =

1
1 + r

· [˜puS0 + (1 − ˜p) dS0] =

S0
1 + r

[(u − d) ˜p + d] .

Portanto,

˜p =

1 + r − d
u − d

˜q =

u − 1 − r
u − d

(3.7)

(3.8)

Observe que ˜p e ˜q s˜ao escolhidos para fazer com que a taxa m´edia
de crescimento da a¸c˜ao seja igual `a taxa de crescimento do investimento
em uma conta banc´aria, temos que a taxa m´edia de crescimento de
qualquer carteira de a¸c˜oes combinada com uma conta banc´aria ´e igual
a taxa de crescimento do investimento em outra conta banc´aria. Para
encontrar ∆0 basta subtrair (3.3) de (3.4) para obter a F´ormula do
“delta-hedging”

∆0 =

V1(H) − V1(T )
S1(H) − S1(T )

.

(3.9)

Em suma, se um agente come¸ca com um capital dado por (3.6)
e, no tempo zero, compra ∆0 fra¸c˜oes da a¸c˜ao, com ∆0 dado por (3.9),
ent˜ao, no tempo um, se der cara, o agente ter´a uma carteira no valor
de V1(H), e se der coroa, o portf´olio valer´a V1(T ). Ou seja, o agente

40

cobriu uma posi¸c˜ao vendida do derivativo. Este derivativo que paga V1
no tempo um deve ter o seguinte pre¸co no tempo zero:

V0 =

1
1 + r

[˜pV1(H) + ˜qV1(T )] .

(3.10)

Observe que este pre¸co n˜ao introduz uma arbitragem no mercado com-
preendido de uma conta banc´aria e de uma a¸c˜ao. Qualquer outro pre¸co
no tempo zero introduziria uma arbitragem.

Embora tenhamos determinado o pre¸co de n˜ao arbitragem de um
derivativo pela cria¸c˜ao de uma cobertura para uma posi¸c˜ao vendida no
derivativo, pode-se tamb´em considerar a cobertura para uma posi¸c˜ao
comprada. Mais precisamente, um agente com uma posi¸c˜ao comprada
possui um ativo de certo valor, e o agente pode construir uma cober-
tura para se proteger de uma eventual perda desse valor. ´E assim que
funciona uma cobertura de risco. O n´umero de fra¸c˜oes da a¸c˜ao em um
cobertura comprado ´e o negativo do n´umero dado por (3.9).

Os n´umeros ˜p e ˜q fornecidos por (3.7) e (3.8) s˜ao ambos positivos
devido `a condi¸c˜ao de n˜ao arbitragem em (3.2), e somam um. Por esse
motivo, podemos consider´a-los como probabilidades de cara e coroa,
respectivamente. Eles n˜ao s˜ao as probabilidades reais, que chamamos
de p e q, mas sim as chamadas probabilidades neutras ao risco ou de
risco-neutro. Sob as probabilidades reais, a taxa m´edia de crescimento
do pre¸co da a¸c˜ao ´e estritamente maior do que a taxa de crescimento de
um investimento na conta banc´aria, caso contr´ario, ningu´em iria querer
incorrer no risco associado a investir na a¸c˜ao. Assim, p e q = 1−p devem
satisfazer

S0 <

[pV1(H) + qV1(T )]

(3.11)

1
1 + r

enquanto que ˜p e ˜q satisfazem (3.5). Se a taxa m´edia de crescimento
da a¸c˜ao fosse exatamente a mesma da taxa de crescimento do investi-
mento na conta banc´aria, ent˜ao os investidores deveriam ser neutros em
rela¸c˜ao ao risco, n˜ao exigindo uma compensa¸c˜ao por assumir o risco,
nem estariam dispostos a pagar mais por isso. No entanto, este n˜ao ´e
o caso, e, portanto, ˜p e ˜q n˜ao podem ser as probabilidades reais. Eles
s˜ao apenas n´umeros que auxiliam na solu¸c˜ao das equa¸c˜oes (3.3) e (3.4)
para encontrar X0 e ∆0.Se quisermos construir um portf´olio cujo valor
no tempo um seja V1, ent˜ao seu valor no tempo zero deve ser dado por
(3.6), de modo que sua taxa m´edia de crescimento sob as probabilida-
des neutras ao risco seja a mesma taxa de crescimento do investimento
na conta banc´aria.

A Equa¸c˜ao (3.10) para encontrar o pre¸co no tempo zero do de-

41

rivativo com payoﬀ V1 ´e chamada de f´ormula de preciﬁca¸c˜ao neutra ao
risco para o Modelo Binomial de per´ıodo ´unico. Note que as probabili-
dades reais p e q n˜ao aparecerem nesta equa¸c˜ao, pois, a constru¸c˜ao da
cobertura de risco para uma posi¸c˜ao vendida no derivativo depende so-
mente do tamanho dos movimentos de acr´escimo e decr´escimo no pre¸co
da a¸c˜ao (ou seja, os valores u e d).

3.2 MODELO BINOMIAL MULTIPER´IODO

Nesta se¸c˜ao estenderemos as ideias da se¸c˜ao anterior apresen-
tando o Modelo Binomial com v´arios per´ıodos. De maneira intuitiva,
n´os jogamos uma moeda repetidamente n vezes, e sempre que tiver-
mos cara, o pre¸co da a¸c˜ao se move ”para cima”atrav´es do fator u, en-
quanto que, sempre que tivermos coroa, o pre¸co da a¸c˜ao se move ”para
baixo”atrav´es do fator d. Al´em da a¸c˜ao, h´a tamb´em neste mercado uma
conta banc´aria em que qualquer capital investido rende a taxa de juros
constante r. No que se segue, a ´unica suposi¸c˜ao que fazemos sobre esses
parˆametros ´e a condi¸c˜ao de n˜ao arbitragem 0 < d < 1 + r < u.
Na Figura 5, o pre¸co inicial da a¸c˜ao ´e denotado por S0 > 0.

Figura 5 – `Arvore Binomial geral de trˆes per´ıodos

42

O pre¸co no tempo um ent˜ao pode ser S1(H) = u · S0, se o primeiro
lance resultar em cara, ou S1(T ) = d · S0, se o primeiro lance resultar
em coroa. Ap´os o segundo lan¸camento, o pre¸co ser´a um dos seguintes:

S2(HH) = u · S1(H) = u2 · S0
S2(HT ) = d · S1(H) = du · S0
S2(T H) = u · S1(T ) = ud · S0
S2(T T ) = d · S1(T ) = d2 · S0.

Depois de trˆes lan¸camentos, h´a oito sequˆencias de moedas poss´ıveis,
embora nem todas elas resultem em pre¸cos de a¸c˜oes diferentes no tempo
3.

Exemplo 4. Considere o modelo de trˆes per´ıodos com S0 = $4 ,u = 2
e d = 1
2 . Temos a ´arvore binomial dos poss´ıveis pre¸cos das a¸c˜oes mos-
trados na Figura 6.

Figura 6 – `Arvore Binomial particular de trˆes per´ıodos

Dado o Modelo Binomial de trˆes per´ıodos da Figura 5, considere
um contrato derivativo europeu que conﬁra o direito de comprar uma
a¸c˜ao por K reais no tempo dois. Ap´os esta discuss˜ao, o conceito ser´a

43

estendido para um derivativo europeu arbitr´ario que expira no tempo
N ≥ 2. No vencimento, o pagamento de uma op¸c˜ao de compra com
pre¸co de exerc´ıcio K e vencimento no tempo dois ´e V2 = (S2 − K)+, em
que V2 e S2 dependem do primeiro e do segundo lan¸camentos da moeda.
Queremos ent˜ao determinar o pre¸co sem arbitragem para esta op¸c˜ao
no tempo zero. Suponha que um agente venda esta op¸c˜ao no tempo
zero por V0 reais. Ele ent˜ao compra ∆0 fra¸c˜oes da a¸c˜ao, investindo
V0 −∆0 ·S0 reais na conta banc´aria para ﬁnanciar isso. Como a quantia
de V0 − ∆0 · S0 ´e negativa, ent˜ao o agente est´a tomando um empr´estimo
`a taxa r de ∆0 · S0 − V0 reais. No tempo um, o agente tem uma posi¸c˜ao
vendida na op¸c˜ao avaliada em:

X1 = ∆0S1 + (1 + r) · (V0 − ∆0 · S0)

(3.12)

Observe que S1 e X1 dependem do resultado do primeiro lan¸camento,
isto ´e, se der cara ou coroa. Assim, existem realmente duas equa¸c˜oes
impl´ıcitas em (3.12):

X1(H) = ∆0S1(H) + (1 + r) · (V0 − ∆0 · S0),

(3.13)

e

X1(T ) = ∆0S1(T ) + (1 + r) · (V0 − ∆0 · S0).

(3.14)

Ap´os o primeiro sorteio, o agente tem um portf´olio avaliado em
X1 reais e pode reajustar sua estrat´egia de investimento (isto ´e, seu
“hedge”). Suponha que ele decida agora ter ∆1 fra¸c˜oes da a¸c˜ao, em
que ∆1 depende do primeiro lance, pois, no tempo um o agente sabe se
deu cara ou coroa, e dependendo do resultado, ∆1 pode assumir valores
distintos. Ent˜ao, ele investe o restante de sua riqueza,
X1 − ∆1 · S1, na conta banc´aria. No pr´oximo per´ıodo, sua riqueza ser´a
dada pelo lado direito da equa¸c˜ao abaixo, no entanto, esta deve igualar
V2. Ou seja,

V2 = ∆1 · S2 + (1 + r)(X1 − ∆1 · S1).

(3.15)

Observe que S2 e V2 dependem do resultados dos dois primeiros lan¸ca-
mentos da moeda. Considerando todos os quatro resultados poss´ıveis,
podemos reescrever (3.15) nas seguintes quatro equa¸c˜oes

V2(HH) = ∆1(H) · S2(HH) + (1 + r)(X1(H) − ∆1(H) · S1(H)) (3.16)

V2(HT ) = ∆1(H) · S2(HT ) + (1 + r)(X1(H) − ∆1(H) · S1(H)) (3.17)

44

V2(T H) = ∆1(T ) · S2(T H) + (1 + r)(X1(T ) − ∆1(T ) · S1(T )) (3.18)

V2(T T ) = ∆1(T ) · S2(T T ) + (1 + r)(X1(T ) − ∆1(T ) · S1(T ))

(3.19)

Agora temos seis equa¸c˜oes, duas representadas por (3.12) e quatro re-
presentadas por (3.15), em que aparecem as seis inc´ognitas: V0, ∆0,
∆1(T ), ∆1(H), X1(H) e X1(T ).

Para resolver estas equa¸c˜oes, e assim determinar o pre¸co V0, da
op¸c˜ao no tempo zero, e as inc´ognitas ∆0, ∆1(T ) e ∆1(H), na carteira
de replica¸c˜ao, come¸camos subtraindo (3.19) de (3.18) e resolvendo para
∆1(T ) encontramos a f´ormula do “delta-hedging”:

∆1(T ) =

V2(T H) − V2(T T )
S2(T H) − S2(T T )

(3.20)

substituindo esta f´ormula em (3.5) e (3.3), temos que

X1(T ) =

1
1 + r

· [˜pV2(T H) + ˜qV2(T T )]

(3.21)

onde ˜p e ˜q s˜ao as probabilidades neutras ao risco dadas por (3.7) e
(3.8) da primeira se¸c˜ao deste cap´ıtulo. A Equa¸c˜ao (3.21) tamb´em pode
ser obtida ao se multiplicar (3.18) por ˜p e (3.19) por ˜q e, adicionar os
resultados. Observe que, o fato de

˜pS2(T H) + ˜qS2(T T ) = (1 + r) · S1(T )

(3.22)

implica que os termos envolvendo ∆1(T ) desapare¸cam.

A Equa¸c˜ao (3.21) nos d´a o valor que o portf´olio de replica¸c˜ao
deve ter no momento um se o pre¸co da a¸c˜ao vai do tempo zero para o
tempo um. Essa quantidade ´e deﬁnida como sendo o pre¸co da op¸c˜ao
no momento um, se o primeiro lance de moeda resultar em coroa, por
isso denotado por V1(T ). Ou seja,

V1(T ) =

1
1 + r

· [˜pV2(T H) + ˜qV2(T T )]

(3.23)

que ´e outro exemplo da f´ormula de preciﬁca¸c˜ao neutra ao risco. Esta
f´ormula ´e an´aloga `a f´ormula (3.10) mas com um per´ıodo a mais. As duas
primeiras equa¸c˜oes, (3.20) e (3.21), conduzem, de forma semelhante, `as
f´ormulas

∆1(H) =

V2(HH) − V2(HT )
S2(HH) − S2(HT )

(3.24)

e X1(H) = V1(H), em que V1(H) ´e o pre¸co da op¸c˜ao no momento em

45

que se o primeiro lance resultar em cara, deﬁnido por

V1(H) =

1
1 + r

· [˜pV2(HH) + ˜qV2(HT )].

(3.25)

Esta equa¸c˜ao tamb´em ´e an´aloga `a f´ormula em (3.10), mas, novamente,
com um per´ıodo a mais.

Finalmente, se ﬁzermos X1(H) = V1(H) e X1(T ) = V1(T ) nas
duas equa¸c˜oes impl´ıcitas em (3.12), temos que as solu¸c˜oes dessas equa-
¸c˜oes para ∆0 e V0 s˜ao as mesmas de (3.3) e (3.4), ou seja, as quantidades
dadas por (3.9) e (3.10), respectivamente.

Para concluir, note que temos trˆes processos estoc´asticos (∆0, ∆1),
(X0; X1; X2) e (V0; V1; V2). Por processo estoc´astico, queremos dizer
uma sequˆencia de vari´aveis aleat´orias indexadas pelo tempo. Essas
quantidades s˜ao aleat´orias porque dependem dos lan¸camentos de moe-
das. De fato, pois o ´ındice de cada vari´avel indica o n´umero de lan¸ca-
mentos da moeda que a mesma depende. Se come¸carmos com qualquer
riqueza inicial X0 e valores espec´ıﬁcos para ∆0, ∆1(T ), ∆1(H), ent˜ao
podemos calcular o valor da carteira atrav´es da equa¸c˜ao da riqueza

Xn+1 = ∆nSn+1 + (1 + r) · (Xn − ∆n · Sn).

(3.26)

Esta ´e uma equa¸c˜ao contingente que deﬁne vari´aveis aleat´orias, cujos
valores reais s˜ao conhecidos apenas quando os resultados do lan¸camen-
tos da moeda s˜ao conhecidos. No entanto,j´a no momento zero, esta
equa¸c˜ao nos permite calcular qual ser´a o valor da carteira em todos
os tempos subsequentes para cada cen´ario de lan¸camentos da moeda.
Para um derivativo que expira no tempo dois, a vari´avel aleat´oria V2
´e especiﬁcada contratualmente e dependente do resultado do lan¸ca-
mento da moeda. Por exemplo, se o lan¸camento da moeda resultar
em ω1ω2 (pontos amostrais), ent˜ao o pre¸co da a¸c˜ao no tempo dois ser´a
S2(ω1ω2) e o valor da op¸c˜ao de compra europeia ser´a V2(ω1ω2). Que-
remos determinar X0, ∆0, ∆1(H), e ∆1(T ), de modo que, com X2
dado, ao aplicarmos a f´ormula (3.26) recursivamente, este deve satisfa-
zer X2(ω1ω2) = V2(ω1ω2), independentemente dos valores de ω1 e ω2.
Deste modo, temos tamb´em que V1(H) = X1(H) e V1(T ) = X1(T ). No
caso geral, isto ´e, para n per´ıodos, usamos Xn e ∆n para representar
o n´umero de fra¸c˜oes da a¸c˜ao detidas no portf´olio no tempo n e o capi-
tal no tempo n (ou o valor do portf´olio no tempo n), respectivamente.
Quando X0 e ∆0 s˜ao escolhidos de modo a replicar um contrato deriva-
tivo, usamos o s´ımbolo Vn ao inv´es de Xn, o qual ´e chamado de pre¸co
(sem arbitragem) do derivativo no tempo n.

46

Observe que as mesmas ideias usadas para replicar uma op¸c˜ao
de compra Europeia no modelo de dois per´ıodos tamb´em ´e usado aqui,
independentemente do n´umero de per´ıodos e da deﬁni¸c˜ao do payoﬀ do
contrato derivativo, dado que este contrato s´o passa a ser exercido num
tempo previamente especiﬁcado, n˜ao havendo a possibilidade de exer-
c´ıcio antecipados, como acontece com as chamadas op¸c˜oes americanas.

Deﬁni¸c˜ao 3. Para n = 1, 2, · · · , N , a vari´avel Vn(ω1ω2 · · · ωn) no Te-
orema 3.2.1 ´e deﬁnida como sendo o pre¸co do contrato derivativo no
tempo n, se os resultados dos primeiros lan¸camentos da moeda forem
ω1ω2 · · · ωn. O pre¸co deste derivativo no tempo zero ´e deﬁnido como
V0

Teorema 3.2.1 (Replica¸c˜ao no Modelo Binomial Multiper´ıodo). Con-
sidere o Modelo Binomial de preciﬁca¸c˜ao de ativos com N per´ıodos,
fatores de acr´escimo u e decr´escimo d satisfazendo a condi¸c˜ao de n˜ao
arbitragem 0 < d < 1 + r < u, e com as probabilidades neutras ao risco
˜p e ˜q dadas por

˜p =

1 + r − d
u − d

(3.27)

˜q =

u − 1 − r
u − d
Seja VN uma vari´avel aleat´oria (representando o payoﬀ de um
contrato derivativo no tempo N ), dependendo dos N primeiros lances
de uma moeda. S˜ao deﬁnidas recursivamente (para tr´as no tempo) a
sequencia de vari´aveis aleat´orias VN −1, VN −2, ..., V0 pela equa¸c˜ao

(3.28)

Vn(ω1ω2 · · · ωn) =

1
1 + r

[˜pVn+1(ω1ω2 · · · ωnH) + ˜qVn+1(ω1ω2 · · · ωnT )]

(3.29)

de modo que cada Vn depende das n primeiros lances ω1ω2 · · · ωn

da moeda, em que n varia entre N − 1 e 0. Em seguida, deﬁnimos

∆n(ω1ω2 · · · ωn) =

(cid:20) Vn+1(ω1ω2 · · · ωnH) − Vn+1(ω1ω2 · · · ωnT )
Sn+1(ω1ω2 · · · ωnH) − Sn+1(ω1ω2 · · · ωnT )

(cid:21)

(3.30)

onde, novamente, n varia entre 0 e N − 1.
Se assumirmos que X0 = V0 e avan¸carmos recursivamente no tempo, os
valores do portf´olio X1, X2, · · · XN s˜ao dados por (3.30). Desta maneira
´e poss´ıvel obter a seguinte rela¸c˜ao:

XN (ω1ω2 · · · ωn) = VN (ω1ω2 · · · ωn)

para todo ω1ω2 · · · ωn .

47

Demonstra¸c˜ao. Ser´a provado por indu¸c˜ao antecipada em n que

Xn(ω1ω2 · · · ωn) = Vn(ω1ω2 · · · ωn)

(3.31)

onde n varia entre 0 e N . O caso de n = 0 ´e dado pela deﬁni¸c˜ao de
X0 como sendo igual a V0. O caso de n = N ´e o que ser´a mostrado a
seguir.

Para a etapa de indu¸c˜ao, assumimos que (3.31) vale para algum
valor de n menor que N e mostraremos que ´e v´alido para n + 1. Assim,
para ω1ω2 · · · ωn arbitr´arios, mas ﬁxos, assumimos por hip´otese de in-
du¸c˜ao que (3.31) vale. N˜ao sabemos ainda se ωn+1 = H ou ωn+1 = T ,
ent˜ao consideramos os dois casos. Primeiro usamos (3.26) para calcular
Xn+1(ω1ω2 · · · ωnH) , logo

Xn+1(ω1ω2 · · · ωnH) = ∆n(ω1ω2 · · · ωn)uSn(ω1ω2 · · · ωn)

+ (1 + r) · Xn(ω1ω2 · · · ωn)
− (1 + r) · ∆n(ω1ω2ωn) · Sn(ω1ω2 · · · ωn).

Para simpliﬁcar a nota¸c˜ao, suprimimos ω1ω2 · · · ωn e escrevemos esta
equa¸c˜ao simplesmente por

Xn+1(H) = ∆nuSn + (1 + r)(Xn − ∆n · Sn),

(3.32)

com ω1ω2 · · · ωn suprimido da mesma forma, temos, de (3.30), que

∆n =

Vn+1(H) − Vn+1(T )
Sn+1(H) − Sn+1(T )

=

Vn+1(H) − Vn+1(T )
(u − d)Sn

.

(3.33)

Substituindo isto em (3.32) e usando a hip´otese de indu¸c˜ao (3.31) e a
Deﬁni¸c˜ao (3.29) de Vn, temos que

Xn+1(H) = (1 + r)Xn + ∆n · Sn[u − (1 + r)]

= (1 + r)Vn +

(Vn+1(H) − Vn+1(T ))[u − (1 + r)]
u − d

= (1 + r)Vn + ˜qVn+1(H) − ˜qVn+1(T )
= ˜pVn+1(H) + ˜qVn+1(T ) + ˜qVn+1(H) − ˜qVn+1(T )
= Vn+1(H)

Ou seja,

Xn+1(ω1ω2 · · · ωnH) = Vn+1(ω1ω2 · · · ωnH).

(3.34)

48

De maneira completamente an´aloga, temos que:

Xn+1(ω1ω2 · · · ωnT ) = Vn+1(ω1ω2 · · · ωnT ).

(3.35)

Consequentemente, independentemente de ωn+1 = H ou ωn+1 = T ,
temos que

Xn+1(ω1ω2 · · · ωnωn+1) = Vn+1(ω1ω2 · · · ωnωn+1).

Como ω1ω2 · · · ωnωn+1 e n s˜ao arbitr´arios, a etapa de indu¸c˜ao est´a
completa.

O Modelo Binomial Multiper´ıodo ´e chamado completo porque
cada contrato derivativo pode ser replicado via negocia¸c˜oes com a a¸c˜ao
subjacente e aplica¸c˜oes na conta banc´aria. Em um mercado completo,
todo contrato derivativo possui um pre¸co ´unico no tempo zero que
impede oportunidades de arbitragem, e este ´e o pre¸co da Deﬁni¸c˜ao 3.
O Teorema 3.2.1 tamb´em pode ser aplicado `as chamadas op¸c˜oes
dependentes de caminho, bem como t´ıtulos derivativos cujo pagamento
depende apenas do pre¸co ﬁnal da a¸c˜ao. Para ilustrar esse ponto, temos
o exemplo a abaixo.

Exemplo 5. Suponha que S0 = $4, u = 2, d = 1
2 e a taxa de juros
r = 4. Ent˜ao ˜p = ˜q = 1
2 . Considere uma op¸c˜ao Lookback ( quando a
ajuste de pre¸co ´e calculado pela diferen¸ca entre o pre¸co entre o pre¸co a
vista no vencimento e o maior pre¸co a vista registrado durante o per´ıodo
da op¸c˜ao), que tem como payoﬀ

V3 = max
0≤n≤3

Sn − S3.

Ent˜ao: V3(HHH) = S3(HHH) − S3(HHH) = 32 − 32 = 0

V3(HHT ) = S2(HH) − S3(HHT ) = 16 − 8 = 8

V3(HT H) = S1(H) − S3(HT H) = 8 − 8 = 0

V3(HT T ) = S1(H) − S3(HT T ) = 8 − 2 = 6

V3(T HH) = S3(T HH) − S3(T HH) = 8 − 8 = 0

V3(T HT ) = S2(T H) − S3(T HT ) = 4 − 2 = 2

V3(T T H) = S0 − S3(T T H) = 4 − 2 = 2

49

V3(T T T ) = S0 − S3(T T T ) = 4 − 0, 50 = 3, 50.

Usando a f´ormula (3.29), ´e poss´ıvel calcular:

V2(HH) = 4

5 [ 1

2 V3(HHH) + 1

2 V3(HHT )] = 3, 20

V2(HT ) = 4

5 [ 1

2 V3(HT H) + 1

2 V3(HT T )] = 2, 40

V2(T H) = 4

5 [ 1

2 V3(T HH) + 1

2 V3(T HT )] = 0, 80

V2(T T ) = 4

5 [ 1

2 V3(T T H) + 1

2 V3(T T T )] = 2, 20

V1(H) = 4

5 [ 1

2 V2(HH) + 1

2 V2(HT )] = 2, 24

V1(T ) = 4
5 [ 1
E Finalmente

2 V2(T H) + 1

2 V2(T T )] = 1, 20

V0 = 4

5 [ 1

2 V1(H) + 1

2 V1(T )] = 1, 376.

Se um agente vende a op¸c˜ao Lookback no tempo zero por $1, 38,

ele pode proteger sua posi¸c˜ao vendida na op¸c˜ao, basta comprar

∆0 =

subjacente.

V1(H) − V1(T )
S1(H) − S1(T )

=

2, 24 − 1, 20
8 − 2

= 0, 17 fra¸c˜oes da a¸c˜ao

Isso custa $0, 69, deixando um capital de 1, 38 − 0, 69 = $0, 68
para investir na conta banc´aria com juros de 25%. No tempo um, ele
ter´a $0, 85 na conta. Se a a¸c˜ao sobe de pre¸co para $8, ent˜ao no mo-
mento um, suas fra¸c˜oes de a¸c˜ao valem $1, 39, e ent˜ao o valor total da
carteira ´e de $2, 24, isto ´e, V1(H). Se a a¸c˜ao cair de pre¸co para $2, en-
t˜ao no momento um, suas a¸c˜oes valem $0, 35 e, portanto, o valor total
de seu portf´olio ´e de $1, 20, isto ´e, V1(T ). Continuando esse processo,
o agente pode ter certeza de ter um portf´olio que vale V3 no tempo trˆes,
n˜ao importando o resultado do jogo de moedas.

50

.

51

4 MODELO DE PRE ¸CO DE ATIVO DE CAPITAL

4.1 O MODELO CAPM

No cap´ıtulo anterior, vimos que a metodologia de preciﬁca¸c˜ao
por arbitragem ´e uma das maneiras diferentes de modelar os pre¸cos de
ativos, a outra ´e o modelo (CAPM) 1, que se baseia no equil´ıbrio entre
oferta e demanda entre investidores que possuem fun¸c˜oes de utilidade
que convertem unidades de consumo em unidades de satisfa¸c˜ao. Estu-
daremos agora o Modelo CAPM que fornece informa¸c˜oes qualitativas
muito ´uteis sobre os mercados, mas n˜ao produz os resultados quantitati-
vos precisos dispon´ıveis atrav´es da metodologia sem arbitragem. Neste
cap´ıtulo, mostramos o problema de maximizar um resultado esperado,
obtido com um certo investimento usando um modelo CAPM.

No modelo de pre¸co sem arbitragem, existem duas medidas de
probabilidade: a medida de probabilidade real e a medida neutra ao
risco. Ao avaliar t´ıtulos derivativos, precisamos apenas considerar a
medida neutra ao risco, no entanto, existem duas situa¸c˜oes em que a
medida de probabilidade real se torna relevante, a saber, na gest˜ao de
ativos e na gest˜ao de riscos. Na gest˜ao de ativos, nos preocupamos
com o retorno real esperado (e n˜ao o de risco neutro). Na gest˜ao de
riscos, nos preocupamos com a probabilidade real de um evento ca-
tastr´oﬁco. Em ambas as situa¸c˜oes, no entanto, h´a uma fun¸c˜ao para
a medida de probabilidade neutra ao risco. Para o gerenciamento de
riscos, a carteira cujo risco est´a sendo avaliado normalmente cont´em
t´ıtulos derivativos cujos pre¸cos te´oricos em v´arios cen´arios devem ser
computados usando a medida neutra ao risco. Para o gerenciamento
de ativos, a medida neutra ao risco ser´a usada como descrito neste
cap´ıtulo.

Antes de continuar, precisamos deﬁnir alguns conceitos funda-
mentais para o que se segue, a saber, esperan¸ca condicional, pre¸co de
estado e o processo derivada de Radon-Nikod´ym:

1Modelo de Pre¸co de Ativo de Capital

52

Deﬁni¸c˜ao 4 (Esperan¸ca condicional). No Modelo Binomial de N
per´ıodos, sejam dados n entre 1 e N , e o evento ω1 · · · ωn arbitr´a-
rio, mas ﬁxo. Ent˜ao, este evento tem 2N −n possibilidades de con-
tinua¸c˜ao, denotada por ωn+1 · · · ωN . Denote por #H(ωn+1 · · · ωN ) e
#T (ωn+1 · · · ωN ) o n´umero de caras e de coroas, respectivamente, na
sequˆencia ωn+1 · · · ωN . Ent˜ao, deﬁnimos a esperan¸ca condicional da
vari´avel aleat´oria X baseada nas informa¸c˜oes dispon´ıveis no tempo n
como sendo

˜En[X](ω1 · · · ωn) =
(cid:88)

˜p#H(ωn+1···ωN ) ˜q#T (ωn+1···ωN )X(ω1 · · · ωnωn+1 · · · ωN )

ωn+1···ωN

˜E0[X] que ´e a esperan¸ca
Os dois casos extremos de condicionamento s˜ao
condicional de X baseada em nenhuma informa¸c˜ao, que deﬁnimos por
˜E0[X] = ˜E[X], e ˜EN [X], esperan¸ca condicional de X baseada no co-
nhecimento de todas as jogadas at´e o momento N, que deﬁnimos por
˜EN [X] = X.

A esperan¸ca condicional ´e uma vari´avel aleat´oria que depende da sequˆen-
cia de eventos ω1 · · · ωn. Intuitivamente, a esperan¸ca condicional, res-
tringe uma dada vari´avel aleat´oria a um conjunto de eventos menor,
isto ´e, ao conjunto de informa¸c˜oes dispon´ıveis at´e o tempo n. Observe
que as esperan¸cas condicionais acima foram calculadas usando as pro-
babilidades neutras ao risco ˜p e ˜q. Isto ´e indicado pelo til surgido na
nota¸c˜ao ˜En. As esperan¸cas condicionais tamb´em podem ser calculadas
usando as probabilidades reais p e q, e estas ser˜ao denotadas por En.
Sendo N um n´umero positivo com 0 ≤ n ≤ N , e X e Y vari´aveis
aleat´orias, valem tamb´em as seguintes propriedades para a esperan¸ca
condicional:

a) Linearidade En[c1X + c1Y ] = c1En[X] + c2En[Y ], c1, c2 cons-

tantes

b) Tirando o que ´e conhecido

Se X depende apenas dos n primeiros eventos, ent˜ao,

En[XY ] = XEn[Y ];

c) Itera¸c˜ao Se 1 ≤ n ≤ m ≤ N , ent˜ao,

En [Em[X]] = En[X];

53

d) Independˆencia Se X ´e independente dos n primeiros eventos,

ent˜ao,

En[X] = E[X];

e) Desigualdade de Jensen’s Se ϕ(x) ´e uma fun¸c˜ao convexa de

vari´avel independente x, ent˜ao

En[ϕ(X)] ≥ ϕ(En[X]).

Para maiores detalhes sobre esperan¸cas condicionais no Modelo Bino-
mial, veja o livro (SHREVE, 2012).

Deﬁni¸c˜ao 5. Em um Modelo Binomial de N per´ıodos, seja P a medida
de probabilidade real, e ˜P a medida de probabilidade de risco-neutro.
Assumimos que P (ω) > 0 e ˜P (ω) > 0 para cada sequˆencia de lan¸camen-
tos de moeda ω ∈ Ω. Deﬁna a derivada de Radon-Nikodym (vari´avel
aleat´oria) Z(ω) =

˜P (ω)
P (ω) para todo ω ∈ Ω.

Deﬁni¸c˜ao 6. No Modelo Binomial de N per´ıodos, com medida de
probabilidade real P e medida de probabilidade de risco neutro ˜P , seja
Z a derivada de Radon-Nikod´ym de ˜P com respeito a P , isto ´e,

Z(ω1 · · · ωN ) =

˜P (ω1 · · · ωN )
P (ω1 · · · ωN )

=

(cid:18) ˜p
p

(cid:19)#H(ω1···ωN ) (cid:18) ˜q
q

(cid:19)#T (ω1···ωN )

,

(4.1)
onde #H(ω1 · ω2 · · · ωN ) denota o n´umero de caras que aparecem na
sequˆencia (ω1 · ω2 · · · ωN ) e #T (ω1 · ω2 · · · ωN ) denota o n´umero de
coroas que aparecem nesta sequˆencia. A densidade de probabilidade
da vari´avel aleat´oria pre¸co de estado ´e

ζ(ω) =

Z(ω)
(1 + r)N ,

(4.2)

onde ζ(ω)P (ω) ´e chamado pre¸co de estado correspondente a ω. O
Processo derivada de Radon-Nikod´yn ´e deﬁnido por:

Zn = En[Z], n = 0, 1, ..., N.

(4.3)

Em particular, ZN = Z e Z0 = 1.

No contexto da Deﬁni¸c˜ao 6, podemos calcular a esperan¸ca sob a medida
de probabilidade de risco neutro de uma vari´avel aleat´oria Y atrav´es

54

do c´alculo da esperan¸ca sob a medida de probabilidade real, basta usar
E[ZY ]. Se Y depender apenas dos n primeiros lan¸camentos de mo-
eda, onde n < N , este c´alculo pode ser simpliﬁcado ainda mais, como
veremos no lema abaixo:

Lema 4.1.1. Assuma as condi¸c˜oes da Deﬁni¸c˜ao 5 Sejam n um inteiro
entre 0 e N e Y uma vari´avel aleat´oria que depende apenas das n
primeiras jogadas da moeda. Ent˜ao, ˜E[Y ] = E[ZnY ].

A prova desse lema se encontra no cap´ıtulo 3 do livro do (SH-
REVE, 2012). Uma aplica¸c˜ao do Lema 4.1.1 ocorre se n´os tivermos uma
sequˆencia particular de N lan¸camentos de moeda ω1 · · · ωn, e deﬁnirmos

Y (ω1 · · · ωnωn+1 · · · ωN ) =

(cid:40)

1,
0,

se ω1 · · · ωn = ω1 · · · ωn
caso contr´ario.

Em outras palavras, Y assume o valor 1, se tivermos ﬁxado an-
tecipadamente o resultado dos n primeiros lances como sendo ω1 · · · ωn,
e assim, os demais lan¸camentos ωn+1 · · · ωN s˜ao irrelevantes.

Ent˜ao

˜E[Y ] = ˜P (ω1 · · · ωn = ω1 · · · ωn) = ˜p#H(ω1···ωn) ˜q#T (ω1···ωn),

onde #H(ω1 · · · ωn) e #T (ω1 · · · ωn) denotam o n´umero de caras e co-
roas, respectivamente, na sequˆencia ω1 · · · ωn. Por outro lado,

E[Y Zn] = Zn(ω1 · · · ωn)P (ω1 · · · ωn = ω1 · · · ωn)

= Znp#H(ω1···ωn)q#T (ω1···ωn)

O Lema 4.1.1 aﬁrma que essas duas quantidades s˜ao iguais e,

portanto,

Zn(ω1 · · · ωn) =

(cid:18) ˜p
p

(cid:19)#H(ω1···ωn) (cid:18) ˜q
q

(cid:19)#T (ω1···ωn)

.

Teorema 4.1.2. Considere um Modelo Binomial de N per´ıodos com
0 < d < 1 + r < u (condi¸c˜ao de n˜ao arbitragem). Suponha que a
probabilidade real de cara seja p > 0 e a probabilidade real de coroa seja
q > 0. As probabilidades de risco-neutro para cara e coroa s˜ao dadas

55

s˜ao tamb´em positivas e dadas por:

˜p =

1 + r − d
u − d

e ˜q =

u − 1 − r
u − d

.

Sejam P e ˜P , respectivamente, as medidas de probabilidade real e a de
risco neutro, seja Z a derivada de Radon-Nikod´yn de ˜P com rela¸c˜ao a
P , e seja Zn, n = 0, 1, ..., N , o processo derivada de Radon-Nikod´ym.
Considere um derivativo cujo payoﬀ seja dado por VN e que pode de-
pender de todas os N lan¸camentos da moeda. Para n = 0, 1, ..., N , o
pre¸co no momento n deste derivativo ´e dado por:

Vn = ˜En

(cid:20)

VN
(1 + r)N −n

(cid:21)

=

(1 + r)n
Zn

En

(cid:21)

(cid:20) ZN VN
(1 + r)N

=

1
ζn

En[ζN VN ],

(4.4)

onde a densidade do processo de pre¸co de estado ζn ´e deﬁnida por
ζn = Zn

(1+r)n para n = 0, 1, ...., N .

Agora, estabelecemos o problema do modelo CAPM. Por uma
fun¸c˜ao de utilidade, devemos deﬁnir uma fun¸c˜ao cˆoncava n˜ao decres-
cente, deﬁnida no conjunto dos n´umeros reais. Esta fun¸c˜ao pode assu-
mir o valor −∞, mas n˜ao o valor +∞. Uma fun¸c˜ao de utilidade comum
´e ln (x), que normalmente ´e deﬁnida apenas para x > 0. Adotamos a
conven¸c˜ao de que ln (x) = −∞ para x ≤ 0, ent˜ao isso ´e deﬁnido para
cada x e ´e n˜ao decrescente e cˆoncava. Lembre-se que uma fun¸c˜ao U ´e
cˆoncava se

U (αx + (1 − αy)) ≥ αU (x) + (1 − α)U (y)

(4.5)

para todo x, y ∈ R e α ∈ (0, 1). Dizemos U ´e estritamente cˆoncava se
a desigualdade em (4.5) ´e estrita sempre que x (cid:54)= y , e de fato vamos
assumir que U ´e estritamente cˆoncava e ﬁnita. Toda uma classe de
fun¸c˜oes de utilidade pode ser obtida escolhendo primeiro um n´umero
p < 1, p (cid:54)= 0, e um outro n´umero c ∈ R, deﬁna :

Up(x) =





1

p (x − c)p,
0,
−∞,
−∞,

se x > c,
se 0 < p < 1 e x = c,
se 0 < p < 1 e x = c,
se x < c.

Para estas fun¸c˜oes, o ´ındice de avers˜ao ao de risco absoluto − U (cid:48)(cid:48)

U (cid:48) ´e a

fun¸c˜ao hiperb´olica

1 − p
p − x

para x > c.

56

Esta classe de fun¸c˜oes ´e chamado de HARA (avers˜ao ao risco absoluto
hiperb´olico). A fun¸c˜ao correspondente HARA para p = 0 ´e :

(cid:40)

U0(x) =

ln (x − c),
−∞,

se x > c,
se x ≤ c.

2 e $99, 00 com probabilidade 1

A concavidade das fun¸c˜oes de utilidade ´e assumida para captu-
rar a rela¸c˜ao entre risco e retorno. Por exemplo, considere uma aposta
que vale $1, 00 com probabilidade 1
2 , a
recompensa esperada ´e de $50, 00, mas um agente avesso ao risco pre-
feriria ter $50, 00 em vez da aposta. Denote por X essa recompensa
aleat´oria, ou seja, P (X = 1) = P (X = 99) = 1
2 .
Para uma fun¸c˜ao de utilidade cˆoncava, temos da desigualdade de Jen-
sen’s que E[U (X)] ≤ U (E[X]). De fato, se U (x) = ln (x), ent˜ao
E[ln (X)] = $2, 30 e ln (E[X]) = $3, 91. Se modelarmos o comporta-
mento do agente como maximiza¸c˜ao da utilidade esperada de recom-
pensa, nosso modelo indicaria que um agente prefere a recompensa n˜ao
aleat´oria E[X] = 50 sobre a recompensa aleat´oria X.
Ao comparar utilidade esperada de pagamentos, em vez de retornos
esperados, e escolhendo a fun¸c˜ao de utilidade de forma criteriosa, po-
demos capturar a atitude de um investidor para a rela¸c˜ao entre risco e
retorno.
Consideremos um Modelo Binomial de N-per´ıodo com os parˆametros
usuais 0 < d < 1 + r < u. Um agente come¸ca com riqueza inicial X0 e
pretende investir na a¸c˜ao e na conta banc´aria, de modo a maximizar o
esperado utilidade de sua riqueza em tempo de N. Em outras palavras,
o agente tem uma fun¸c˜ao de utilidade U e deseja resolver o seguinte
problema.

Exemplo 6. Problema do investimento ideal: Dado X0, encontrar um
processo de portf´olio ∆0; ∆1 · · · ∆N −1
que maximiza

E[U (XN )]

(4.6)

sujeito `a equa¸c˜ao de riqueza

Xn+1 = ∆nSn+1 + (1 + r)(Xn − ∆nSn), n = 0, 1, ..., N − 1.

(4.7)

Observe que a esperan¸ca em (4.6) ´e calculada usando a medida de proba-
bilidade real P. O agente ´e avesso ao risco e usa sua fun¸c˜ao de utilidade
U para capturar a rela¸c˜ao entre risco real e retorno real. N˜ao faz sen-
tido fazer isso sob a medida neutra ao risco porque, nesse caso, tanto a
a¸c˜ao quanto a conta banc´aria tˆem a mesma taxa de retorno; um agente

57

que procura maximizar a ˜E[U (X)] investiria apenas na conta banc´aria.

Exemplo 7. Considere o modelo da Figura 6 mas apenas para dois pe-
r´ıodos, no qual a taxa de juros ´e r = 1
4 , de modo que a medida de proba-
bilidade de risco-neutro ´e ˜P (HH) = ˜P (HT ) = ˜P (T H) = ˜P (T T ) = 1
4 .
Suponha que a medida de probabilidade real seja
9 e P (T T ) = 1
9 P (HT ) = P (T H) = 2
P (HH) = 4
9 .
Considere um agente que come¸ca com X0 = 4 e quer escolher ∆0,
∆1(H) e ∆1(T ) a ﬁm de maximizar E[ln (X2)]. Note que

X1(H) = 8∆0 +

5
4

(4 − 4∆0) = 3∆0 + 5

(4.8)

X1(T ) = 2∆0 +

5
4

(4 − 4∆0) = −3∆0 + 5

(4.9)

X2(HH) = 16∆1(H) +

5
4

(X1(H) − 8∆1(H)) = 6∆1(H) +

X2(HT ) = 4∆1(T ) +

5
4

(X1(T ) − 8∆1(T )) = −6∆1(T ) +

15
4

∆0 +

15
4

∆0 +

X2(T H) = 4∆1(T ) +

5
4

(X1(T ) − 2∆1(T )) =

X2(T T ) = ∆1(T ) +

5
4

(X1(T ) − 2∆1(T )) = −

3
2

3
2

∆1(T ) −

∆1(T ) −

15
4

15
4

∆0 +

∆0 +

25
4

25
4

25
4

25
4

(4.10)

(4.11)

(4.12)

(4.13)

Assim sendo,

E[ln(X2)] =

+

+

+

4
9
2
9
2
9
1
9

(cid:18)

ln

6∆1(H) +

15
4

∆0 +

(cid:19)

25
4

+

ln

ln

(cid:18)

(cid:18) 3
2

(cid:18)

ln

−

−6∆1(H) +

∆0 +

15
4
15
4

25
4
(cid:19)
25
4

(cid:19)

+

+

(cid:19)

∆1(T ) −

∆0 +

3
2

∆1(T ) −

15
4

∆0 +

25
4

O objetivo ´e maximizar esta ´ultima express˜ao.

58

Com esse ﬁm, calculamos as Derivadas parciais

∂[E[ln (X2)]]
∂∆0

=

−

=

·

·

4
9
2
9
5
12

15
4
15
4
(cid:18)

1
X2(HH)
1
X2(T H)
4
X2(HH)

+

−

·

2
9
1
9

15
4
15
4
2
X2(HT )

·

+

+

1
X2(HT )
1
X2(T T )

−

2
X2(T H)

−

1
X2(T T )

(cid:19)

∂[E[ln (X2)]]
∂∆1(H)

=

=

4
9
4
3

·

(cid:18)

6
X2(HH)
2
X2(HH)

−

−

2
9

·

6
X2(HT )
(cid:19)
1
X2(HT )

∂[E[ln (X2)]]
∂∆1(T )

=

=

2
9
1
6

·

3
2
(cid:18)

1
X2(T H)

−

1
9

·

3
2

2
X2(T H)

−

1
X2(T T )

1
X2(T T )
(cid:19)

Igualando essas derivadas a zero, obtemos as trˆes equa¸c˜oes a seguir:

4
X2(HH)

+

2
X2(HT )

=

2
X2(T H)

+

1
X2(T T )

2
X2(HH)
2
X2(T H)

=

=

1
X2(HT )
1
X2(T T )

Efetuando o produto cruzado em (4.15) e (4.16), obtˆem-se

X2(HH) = 2X2(HT )

X2(T H) = 2X2(T T ).

(4.14)

(4.15)

(4.16)

(4.17)

(4.18)

Substituindo estas equa¸c˜oes em (4.14) e novamente efetuando o produto
cruzado, obtemos a terceira equa¸c˜ao:

X2(HT ) = 2X2(T T ).

(4.19)

59

Isso nos d´a as trˆes equa¸c˜oes lineares (4.17) a (4.19) nas quatro inc´og-
nitas
X2(HH), X2(HT ), X2(T H) e X2(T T ).
Uma forma de concluir ´e de considerar as f´ormulas (4.10) ´a (4.13)
em termos de trˆes inc´ognitas ∆1(H), ∆1(T ) e ∆0, substituindo e re-
solvendo as trˆes equa¸c˜oes lineares resultantes em trˆes inc´ognitas. Isso
levar´a `as solu¸c˜oes ∆0 = 5
9 ,∆1(H) = 25
27 . Achamos
o portf´olio ideal, mas o m´etodo usado pode ser simpliﬁcado, pois, em
particular, `a medida que o n´umero de per´ıodos aumenta, o n´umero de
vari´aveis ∆n(ω) cresce exponencialmente, e na ´ultima etapa resolvemos
um sistema de equa¸c˜oes lineares nessas vari´aveis.

54 e ∆1(T ) = 25

Uma maneira alternativa de concluir ´e buscar uma quarta equa-
¸c˜ao envolvendo X2(HH), X2(HT ), X2(T H) e X2(T T ) para acompa-
nhar as trˆes equa¸c˜oes (4.17) `a (4.19), e depois resolver essas quatro
equa¸c˜oes em quatro inc´ognitas. Para isso recorremos ao cap´ıtulo 2 do
livro (SHREVE, 2012) em que encontramos o seguinte teorema e seu
corol´ario:

Teorema 4.1.3. Considere o Modelo Binomial com N per´ıodos. Seja
∆0; ∆1 · · · ∆N −1 um processo de portf´olio adaptado, X0 um n´umero real
e deixe o processo de riqueza X1 · · · XN ser gerado recursivamente por

Xn+1 = ∆nSn+1 + (1 + r)(Xn − ∆nSn), n = 0, 1, ..., N − 1.

(4.20)

Ent˜ao o processo de riqueza descontado Xn
um Martingal sob a medida de risco neutro, ou seja,

(1+r)n para n = 0, 1, ...., N , ´e

Xn(1 + r)n = ˜En

(cid:20) Xn+1
(1 + r)n+1

(cid:21)

(4.21)

para n = 0, 1, ...., N − 1.

Corol´ario: Sob as condi¸c˜oes do Teorema anterior, temos

E

(cid:104) Xn
(1+r)n

(cid:105)

= X0 para n = 0, 1, ...., N . Agora, usando o corol´ario acima

para n = 2, podemos escrever a quarta equa¸c˜ao,

4 =

16
25

(cid:20) 1
4

X2(HH) +

1
4

X2(HT ) +

1
4

X2(T H) +

1
4

(cid:21)

X2(T T )

.

(4.22)

Agora basta resolver o sistema de equa¸c˜oes (4.17) `a (4.19) e (4.30) para

60

obtermos,

X2(HH) =

100
9

,X2(HT ) = X2(T H) =

50
9

e X2(T T ) =

25
9

.

(4.23)

Podemos, ent˜ao, encontrar ∆1(H), ∆1(T ) e ∆0 pelo algoritmo do Te-
orema 3.2.1 do cap´ıtulo 2. Em particular,

∆1(H) =

X2(HH) − X2(HT )
S2(HH) − S2(HT )

=

25
54

∆1(T ) =

X2(T H) − X2(T T )
S2(T H) − S2(HT )

=

X1(H) =

X1(T ) =

(cid:18) 1
2
(cid:18) 1
2

4
5

4
5

X2(HH) +

X2(T H) +

1
2

1
2

X2(HT )

=

(cid:19)

X2(T T )

=

25
27
(cid:19)

∆0 =

X1(H) − X1(T )
S1(H) − S1(T )

=

5
9

.

(4.24)

(4.25)

(4.26)

(4.27)

(4.28)

20
3

10
3

O segundo m´etodo de concluir o exemplo anterior usou a Equa-
¸c˜ao (4.30), que decorre do fato de o valor descontado esperado de um
processo de carteira sob a medida de risco neutro ser sempre igual ao
valor inicial X0, ou seja,
˜E

= X0. Esta equa¸c˜ao introduz a medida neutra ao risco para
a solu¸c˜ao do problema (6), mesmo que apenas a medida de probabili-
dade real apare¸ca na descri¸c˜ao do problema. Isso sugere que podemos
substituir o problema 6 pelo seguinte problema:

(cid:104) XN
(1+r)N

(cid:105)

Exemplo 8. Dado X0,encontrar uma vari´avel aleat´oria XN (sem levar
em conta o processo de portf´olio) que maximiza E[U (XN )] sujeito a
˜E

(cid:105)

(cid:104) XN
(1+r)N =

X0

0, ∆∗

1, · · · ∆∗

Lema 4.1.4. Suponha ∆∗
blema 6 e X ∗
tempo de N. Ent˜ao X ∗
ponha X ∗
∆∗
0, ∆∗
N, e este processo de portf´olio ´e ideal para o problema 6.

N −1 um processo ideal para o pro-
N ´e a vari´avel aleat´oria de riqueza ideal correspondente em
N ´e ideal para o problema 8. Por outro lado, su-
N ideal para o problema 8. Ent˜ao, h´a um processo de portf´olio
N no tempo

N −1 que come¸ca com X0 inicial, e tem valor X ∗

1, · · · ∆∗

Esse Lema separa o problema de investimento ´otimo, Exemplo
6, em dois passos gerenci´aveis: o primeiro ´e encontrar uma vari´avel

61

aleat´oria XN que resolva o problema do Exemplo 8; e o segundo ´e
construir o portf´olio que come¸ca com X0 e replica XN , esse segundo
passo usa o algoritmo do Teorema 3.2.1. Resta apenas descobrir como
realizar o primeiro passo. Antes de dar o m´etodo geral, examinamos o
Problema do E Exemplo 6 dentro do contexto de Exemplo 7.

Exemplo 9. (Continua¸c˜ao do Exemplo 7) Em primeiro lugar, calcular
o processo derivada de Radon-Nikod´ym ˜P com respeito a P, isto ´e Zn

Z(HH) =

˜P (HH)
P (HH)

=

9
16

Z(HT ) =

˜P (HT )
P (HT )

=

9
8

Z(T H) =

˜P (T H)
P (T H)

=

9
8

Z(T T ) =

˜P (T T )
P (T T )

=

9
4

.

Para simpliﬁcar, usamos subscritos para indicar os diferentes valores
da densidade do pre¸co de estado

ζ1 = ζ(HH) =

Z(HH)
(1 + r)2 =

9
25

ζ2 = ζ(HT ) =

Z(HT )
(1 + r)2 =

18
25

ζ3 = ζ(T H) =

Z(T H)
(1 + r)2 =

18
25

ζ4 = ζ(T T ) =

Z(T T )
(1 + r)2 =

36
25

.

p2 = P (HT ) = 2
9
p4 = P (T T ) = 1
9 .

N´os tamb´em usamos a nota¸c˜ao
p1 = P (HH) = 4
9
p3 = P (HT ) = 2
9
Finalmente, denotamos
x1 = X2(HH), x2 = X2(HT ), x3 = X2(T H) e x4 = X2(T T ).
Com estas nota¸c˜oes, o problema do Exemplo 8 pode ser escrito como
encontrar um vetor (x1, x2, x3, x4) que maximize

4
(cid:88)

m=1

pmU (xm),

62

sujeito a

4
(cid:88)

m=1

pmζmxm = X0.

Desenvolvendo as equa¸c˜oes acima e usando o fato de que a fun¸c˜ao de
utilidade em quest˜ao ´e o logaritmo, reescrevemos isso como :
encontrar um vetor (x1, x2, x3, x4) que maximize

4
9

ln (x1) +

2
9

ln (x2) +

2
9

ln (x3) +

1
9

ln (x4)

(4.29)

sujeito a

9
25
O Lagrangeano para esse problema ´e

18
25

x1 +

2
9

4
9

·

·

(x2 + x3) +

1
9

·

36
25

x4 = 4

(4.30)

L =

4
9

− λ

ln (x1) +
(cid:18) 4
9

9
25

·

2
9

ln (x2) +

2
9

ln (x3) +

x1 +

2
9

·

18
25

(x2 + x3) +

1
9
1
9

·

ln (x4)

(cid:19)

x4 − 4

.

36
25

As equa¸c˜oes do multiplicador de Lagrange s˜ao

∂
∂x1

∂
∂x2

∂
∂x3

∂
∂x4

L =

L =

L =

L =

4
9

2
9

2
9

1
9

(cid:18) 1
x1
(cid:18) 1
x2
(cid:18) 1
x3
(cid:18) 1
x4

− λ

− λ

− λ

− λ

(cid:19)

(cid:19)

(cid:19)

(cid:19)

9
25

18
25

18
25

36
25

= 0

= 0

= 0

= 0

(4.31)

(4.32)

(4.33)

(4.34)

O que implica em

,

,

x2 =

x1 =

25
9λ
25
18λ

25
18λ
25
36λ
λ e substituindo estas f´ormulas na Equa¸c˜ao (4.30),

x3 =

x4 =

.

,

Resolvemos para 1

temos que

4
9λ

+

2
9λ

+

2
9λ

+

1
9λ

= 4.

63

(4.35)

Isso mostra que 1

λ = 4. Conclui-se que a riqueza ideal em tempo dois ´e

X2(HH) = x1 =

X2(T H) = x3 =

100
9

50
9

, X2(HT ) = x2 =

, X2(T T ) = x4 =

50
9

,

25
9

Isso concorda com a f´ormula (4.23).Agora, podemos calcular o portf´olio
ideal do processo, ou seja ∆0, ∆1(H)e ∆1(T ) como ﬁzemos seguindo
essa f´ormula.

Em geral, a solu¸c˜ao do Exemplo 8 segue as linhas do exemplo
anterior. Este ´e um problema complicado pelo fato de que tanto as
probabilidades reais como as probabilidade de risco neutro aparecem
na formula¸c˜ao do problema. Consequentemente, introduz-se a derivada
de Randon-Nikod´ym Z de ˜P com respeito a P para reescrever a equa¸c˜ao
do Exemplo 8 sem referˆencia `a medida neutra ao risco. Esta restri¸c˜ao
torna-se

E

(cid:21)

(cid:20) ZN XN
(1 + r)N

= X0.

(4.36)

(1+r)N , e assim E[ζXN ] = X0.

Podemos reescrever essa equa¸c˜ao em termos da densidade de pre¸co de
estado ζ = Z
Em um modelo de N per´ıodos, h´a M = 2N poss´ıveis sequˆencias de
eventos ω, que podem ser listados como ω1 · · · ωM usando sobrescritos
para indicar que ωm ´e uma sequˆencia completa de lan¸camentos de mo-
eda, n˜ao a moeda lan¸cada de alguma sequˆencia.
Deﬁna ζm = ζ(ωm),
Ent˜ao o problema do Exemplo 8 pode ser reformulado da seguinte ma-
neira:

e xm = XN (ωm).

pm = P (ωm)

Exemplo 10. Dado X0, encontrar um vetor (x1, x2, · · · , xM ) que ma-
ximize

M
(cid:88)

pmU (xm)

sujeito a

m=1

M
(cid:88)

m=1

pmζmxm = X0.

64

O Lagrangeano para esse problema ´e

L =

M
(cid:88)

m=1

pmU (xm) − λ

(cid:32) M
(cid:88)

m=1

(cid:33)

pmζmxm − X0

(4.37)

e as equa¸c˜oes do multiplicador de Lagrange s˜ao

∂
∂∆xm

L = pmU (cid:48)(xm) − λpmζm = 0, m = 1; 2; · · · M.

(4.38)

Essas equa¸c˜oes se reduzem a

U (cid:48)(xm) = λζm, m = 1; 2; · · · M.

(4.39)

Considerando as deﬁni¸c˜oes de xm e ζm,vamos reescrever isso como

U (cid:48)(XN ) =

λZ
(1 + r)N

(4.40)

Neste ponto, precisamos inverter a fun¸c˜ao U (cid:48). J´a que U ´e estritamente
cˆoncava em todos os pontos e ﬁnita, sua derivada tem uma fun¸c˜ao
inversa que chamamos de I. Por exemplo, se U (x) = ln x, ent˜ao
U (cid:48)(x) = 1
x , resolvemos para x = 1
determina a fun¸c˜ao inversa I(y) = 1
inversa, obteremos:

y , e isso
y . Depois de determinar esta fun¸c˜ao

x . Chamando y = U (cid:48)(x) = 1

XN = I

(cid:21)

(cid:20)

λZ
(1 + r)N

.

(4.41)

Isto nos d´a uma f´ormula para XN em termos do multiplicador λ. Re-
solvemos para o multiplicador λ e substituindo XN na Equa¸c˜ao (4.36)
temos:

(cid:20)

E

Z
(1 + r)N I

(cid:18) λZ

(cid:19)(cid:21)

(1 + r)N

= X0

(4.42)

Depois de resolver esta equa¸c˜ao para λ, substitu´ımos, na Equa-
¸c˜ao (4.41) para obter XN , e ent˜ao usamos o algoritmo do Teorema 3.2.1
do cap´ıtulo 2, para encontrar o processo de portf´olio ´otimo ∆0, · · · ∆N −1.
Todas estas etapas foram realizadas no Exemplo 9. Resumimos essa
discuss˜ao no teorema abaixo:

Teorema 4.1.5. O problema do Exemplo 6 pode ser resolvido com:

1- encontrar a solu¸c˜ao da Equa¸c˜ao (4.42),

65

2- calcular XN pela Equa¸c˜ao (4.41),

3- usar XN no algoritmo do Teorema 3.2.1 para determinar o portf´o-
lio ´otimo ∆0, · · · ∆N −1 e correspondentes valores (x1, x2, · · · , xM ).

66

67

5 APLICA ¸C ˜AO

5.1 DEFINI ¸C ˜OES E EXEMPLO

Neste cap´ıtulo apresentaremos como usar as ideias introduzidas
nos cap´ıtulos anteriores, agora com dados reais obtidos a partir de p´a-
ginas da internet como o Google Finance ou o Yahoo Finance. Al´em
disso, um modelo realista ´e o de (COX et al., 1979) em que ´e assumido
que os movimentos de pre¸cos de uma a¸c˜ao s˜ao dados por um n´umero
grande de pequenos movimentos binomiais.

5.1.1 Avalia¸c˜ao Neutra ao Risco

O princ´ıpio de avalia¸c˜ao neutra ao risco, aﬁrma que para avaliar
uma op¸c˜ao (ou qualquer outro derivativo) podemos assumir o seguinte:

1) O retorno esperado de todos os t´ıtulos negociados ´e a taxa de

juros livre de risco.

2) Os ﬂuxos de caixa futuros podem ser avaliados descontando os

seus valores esperados na taxa de juros livre de risco.

Usaremos o livro (HULL et al., 2013) para fazer o pr´oximo exem-

plo no Modelo Binomial

5.1.2 Determina¸c˜ao de ˜p; u e d

N´os constru´ımos uma ´arvore binomial para representar o com-
portamento do pre¸co de uma a¸c˜ao em um mundo neutro ao risco. Os
parˆametros ˜p, u e d devem fornecer valores para a m´edia e a variˆan-
cia do pre¸co de estoque durante um intervalo de tempo δt. O retorno
esperado de uma a¸c˜ao ´e a taxa de juros livre de risco, R. Assim, o
valor esperado do pre¸co da a¸c˜ao no ﬁnal de um per´ıodo de intervalo δt
´e S0eRδt, onde S0 ´e o pre¸co da a¸c˜ao no in´ıcio do intervalo de tempo.
Segue que

S0eRδt = ˜pS0u + ˜qS0d

(5.1)

68

ou

eRδt = ˜pu + ˜qd

(5.2)

O desvio padr˜ao da varia¸c˜ao percentual do pre¸co da a¸c˜ao em
um intervalo de tempo pequeno δt ´e σ
δt, a variˆancia dessa altera-
¸c˜ao percentual ´e σ2δt, a variˆancia de uma vari´avel Q ´e deﬁnida como
E[Q2] − [E(Q)]2. Segue que

√

σ2δt = ˜pu2 + ˜qd2 − [˜pu + ˜qd]2

(5.3)

As equa¸c˜oes (5.2) e (5.3) imp˜oem duas condi¸c˜oes em ˜p, u e d.
1
.
Uma terceira condi¸c˜ao usada no modelo de (COX et al., 1979) ´e u =
d
Pode ser mostrado que fornecido um δt pequeno, as trˆes condi¸c˜oes
implicam que

˜p =

1 + r − d
u − d
√

u = eσ

δt

Onde

d = e−σ

√

δt

1 + r = eRδt

(5.4)

(5.5)

(5.6)

(5.7)

A vari´avel 1 + r ´e as vezes referida como o fator de crescimento.
Observe que nesse caso a taxa de juros R representa, de fato, a taxa de
juros anualizada, diferente da taxa r usada nos cap´ıtulos anteriores.

5.1.3 Pre¸co da A¸c˜ao via o Modelo Binomial de trˆes per´ıodos

Como vimos no Cap´ıtulo 2, no tempo zero, o pre¸co da a¸c˜ao, S0,
´e conhecido. No tempo 1 ou ∆t1, h´a dois pre¸cos poss´ıveis,S0u e S0d;
no tempo 2 ou ∆t2, h´a trˆes pre¸cos poss´ıveis, S0u2, S0ud e S0d2; e assim
por diante. Em geral, no momento i∆t, existem 1 + i pre¸cos para a
a¸c˜ao : S0ujdi−j; (j = 0, ...., i) . Observe que a rela¸c˜ao u =
´e usada
no c´alculo do pre¸co da a¸c˜ao em cada n´o da ´arvore binomial. Por exem-
plo, S0u2d = S0u. Note tamb´em que a ´arvore ´e recombinante, pois um
movimento de subida seguido por um movimento de descida leva ao
mesmo pre¸co da a¸c˜ao, assim como um movimento de descida seguido
por um movimento de subida.

1
d

69

5.1.4 Indu¸c˜ao Retroativa

Como vimos no Cap´ıtulo 2, as op¸c˜oes s˜ao avaliadas come¸cando
no ﬁnal da ´arvore (tempo N) e trabalhando para tr´as, esse procedi-
mento ´e conhecido como indu¸c˜ao retroativa. O valor da op¸c˜ao ´e conhe-
cido no tempo N. Por exemplo, uma op¸c˜ao de venda tem como payoﬀ
max{SN − K; 0} e uma op¸c˜ao de compra max{K − SN ; 0}, onde SN
´e o pre¸co da a¸c˜ao no momento N e K ´e o pre¸co de exerc´ıcio. Como
pressup˜oe-se um mundo neutro ao risco, o valor em cada n´o no tempo
N − 1 pode ser calculado como o valor esperado no tempo N descon-
tada a taxa R por um per´ıodo de tempo δt. Da mesma forma, o valor
em cada n´o no tempo N − 2 pode ser calculado como o valor esperado
no tempo N − 1 descontados por um per´ıodo de tempo δt `a taxa R, e
assim por diante.

5.1.5 Exemplo

Vejamos agora um exemplo com dados reais de uma op¸c˜ao de
Venda. Considere os valores de fechamento da a¸c˜ao da Vale do Rio
Doce no per´ıodo de 25/11/2017 `a 28/5/2018 quando o fechamento da
a¸c˜ao em 25/11 ´e de $10, 90. A taxa SELIC ´e de 6, 5% ao ano. Com
nossa nota¸c˜ao usual, isto signiﬁca que S0 = 10, 90, R = 0, 065, e fare-
mos o exemplo a seguir usando os 6 primeiros valores da tabela abaixo,
e como na tabela os valores s˜ao semanais e temos 52 semanas no ano
T = 5
52

Suponha que dividamos a vida da op¸c˜ao em 6 intervalos de dura-
¸c˜ao de uma semana com o prop´osito de construir uma ´arvore binomial

com 5 ramos. Ent˜ao δt =

, equivalente ´a uma semana, e usando as

equa¸c˜oes (5.4) `a (5.7) e os dados de fechamento da a¸c˜ao da Vale do Rio
Doce nos dias citados acima, calculamos a s´erie de retornos logar´ıtmicos

1
52

Xn = log(

xn+1
xn

).

(5.8)

70

Valores da
A¸c˜ao da Vale do Rio Doce de 27/11/2017
`a 28/05/2018
29/01 R$ 12,54
05/02 R$ 12,91
12/02 R$ 14,12
19/02 R$ 14,20
26/02 R$ 13,39
05/03 R$ 12,89
12/03 R$ 12,80
19/03 R$ 12,51
26/03 R$ 12,72

02/04 R$ 12,66
09/04 R$ 13,12
16/04 R$ 14,00
23/04 R$ 13,95
30/04 R$ 14,08
07/05 R$ 14,61
14/05 R$ 14,58
21/05 R$ 14,03
28/05 R$ 13,44

27/11 R$ 10,90
04/12 R$ 10,78
11/12 R$ 11,17
18/12 R$ 11,92
25/12 R$ 12,23
01/01 R$ 13,09
08/01 R$ 13,53
15/01 R$ 13,36
22/01 R$ 13,11

Tabela 1 – A¸c˜oes Vale do Rio Doce

A partir dessa nova s´erie temporal, calculamos a M´edia amostral
ˆµ, a Variˆancia amostral e o Desvio padr˜ao amostral, onde xn ´e o pre¸co
da a¸c˜ao para o dia n. O que nos d´a os seguintes resultados:

(cid:80)N

ˆµ = 1
N
(cid:80)n
i=1(Xn−ˆµ)2
n

i=1 Xn = 0, 0349895
= 0, 00028473

ˆσ2 =

(cid:113) (cid:80)n

√

i=1(Xn−ˆµ)2
n

= 0, 01687408

ˆσ =
u = eσ
d = e−σ
δt = 0, 9976662721826407
1 + r = eRδt = 1, 001250781575623

δt = 1, 002342753841012
√

˜p =

(1 + r − d)
(u − d)

= 0, 7666741889838615

˜q = 1 − ˜p = 0, 233325811016139,
e o fator de desconto por per´ıodo = e−Rδt = 0, 99875078092458.

No modelo Binomial, a Figura 7 mostra que em cada n´o existem
dois n´umeros: o topo mostra o pre¸co da a¸c˜ao no n´o e abaixo est´a o
valor da op¸c˜ao no n´o. A probabilidade de um movimento de subida
´e sempre 1, 002342753841012 e a probabilidade de um movimento de
descida ´e sempre 0, 9976662721826407.

O pre¸co das a¸c˜oes em cada n´o j; j = 0, 1, ...i no tempo iδt;
i = 0, 1, ..5 ´e calculado como S0ujdi−j. Os pre¸cos das op¸c˜oes nos n´os
ﬁnais s˜ao calculados como max{X − SN ; 0}. Os pre¸cos das op¸c˜oes nos
pen´ultimos n´os s˜ao calculados a partir dos pre¸cos da op¸c˜ao nos n´os
ﬁnais. Primeiro, n˜ao assumimos o exerc´ıcio da op¸c˜ao nos n´os. Isso sig-
niﬁca que o pre¸co da op¸c˜ao ´e calculado como o valor presente do pre¸co

esperado da op¸c˜ao um passo depois.

71

Figura 7 – `Arvore de pre¸cos de a¸c˜ao (topo) e de pre¸cos de op¸c˜ao (base)

Neste caso temos um ativo objeto atualmente cotado em $10,90
e a sua op¸c˜ao de compra preciﬁcada, atrav´es do modelo em $0,01. A
cada poss´ıvel altera¸c˜ao da a¸c˜ao, a op¸c˜ao estaria preciﬁcada em um novo
valor, por exemplo: com a a¸c˜ao em $10,82 a op¸c˜ao estaria preciﬁcada
em $0,05.
J´a no Modelo CAPM, resolvendo o mesmo exemplo, devemos supor
valores para as medidas de probabilidades reais p e q. Sejam p = 0, 3 e
q = 0, 7, primeiramente calculamos os valores de E[U (XN )], usando a
fun¸c˜ao de utilidade U (x) = ln (x), e tomando a inversa de sua derivada,
U (cid:48)(x) =
. Utilizando a f´ormula (4.42) e, em seguida, calculando os
valores de XN pela Equa¸c˜ao (4.41). Finalmente, usamos esses valores
de XN , no algoritmo do Teorema 3.2.1 para determinar o portf´olio
´otimo ∆0, · · · ∆N −1 e correspondentes valores (X1, X2, · · · , XN ).

1
x

Esses c´alculos nos levam `a: Z0 = 109, 06, Z1 = 14, 22, Z2 = 1, 85,
Z3 = 0, 24, Z4 = 0, 03, Z5 = 0, 004, e partindo de X0 = 10, 90, encon-
tramos λ =
e calculamos X1 = 0, 81, X2 = 6, 66, X3 = 54, 43,

1
X0
X4 = 444, 50 e X5 = 3629, 53.

72

Ap´os isso, constru´ımos a ´arvore da ﬁgura 8 recombinante de tr´as

para frente :

Figura 8 – `Arvore do Portf´olio ´otimo

Por ﬁm, calculamos o portf´olio ideal atrav´es da f´ormula (3.30) e
obtemos os resultados ﬁnais. Nesse exemplo os resultados desse port-
f´olio nos mostram que devemos tomar emprestado dinheiro para che-
garmos `a op¸c˜ao ideal: ∆0 = −1453, 97;
∆1(H) = −740, 72;
∆1(T ) = −27, 58;
∆2(HH) = −314, 88;
∆2(HT ) = ∆2(T H) = −2349, 38;
∆2(T T ) = −19273, 50;
∆3(HHH) = −113, 88;
∆3(HHT ) = ∆3(HT H) = −934, 27;
∆3(HT T ) = ∆3(T HT ) = ∆3(T T H) = −7664, 44;
∆3(T T T ) = −62876, 37.

73

6 CONSIDERA ¸C ˜OES FINAIS

Nesse trabalho ﬁzemos uma aplica¸c˜ao pr´atica do Modelos Bi-
nomial e CAPM. O Modelo Binomial, com um n´umero suﬁciente de
per´ıodos fornece uma boa aproxima¸c˜ao para modelos em tempo con-
t´ınuo. Nesse modelo usamos as probalidades neutras ao risco, e uma
taxa de juros e construimos uma ´arvore recombinante para calcular o
pre¸co da a¸c˜ao no tempo n, e depois usamos uma indu¸c˜ao retroativa para
calcular o pre¸co da op¸c˜ao no tempo zero. NO Modelo CAPM, precisa-
mos usar as probabilidades reais e a neutra ao risco, e uma fun¸c˜ao de
Utilidade para determinarmos o portif´olio ideal. No nosso exemplo, o
resultado implica que devemos tomar emprestado os valores.

74

75

REFERˆENCIAS

CARVALHO, P. C. P.; CARVALHO, J. B. P. de; FERNANDEZ,
P.; MORGADO, A. An´alise combinat´oria e probabilidade. Editora
SBM, 2004.

COX, J. C.; ROSS, S. A.; RUBINSTEIN, M. et al. Option pricing: A
simpliﬁed approach. Journal of ﬁnancial Economics, Amsterdam,
v. 7, n. 3, p. 229–263, 1979.

FELLER, W. An introduction to probability theory and its
applications. [S.l.]: John Wiley & Sons Oxford, England: Wiley,
2008.

HULL, J.; TREEPONGKARUNA, S.; COLWELL, D.; HEANEY, R.;
PITT, D. Fundamentals of futures and options markets. [S.l.]:
Pearson Higher Education AU, 2013.

KAC, M.; LOGAN, J. Fluctuation phenomena. Studies in
Statistical Mechanics, v. 7, 1979.

MATAREZIO, R. Utiliza¸c˜ao De ´Arvores Bi-
nomiais 3 D.
[s.n.], 2009. Dispon´ıvel em:
<https://books.google.com.br/books?id=F5lQBQAAQBAJ>.

NELSON, E. Quantum ﬂuctuations. [S.l.]: Princeton University
Press; NJ, 1985.

SHREVE, S. Stochastic calculus for ﬁnance I: the binomial
asset pricing model. [S.l.]: Springer Science & Business
Media;Pitsburgh, USA, 2012.

