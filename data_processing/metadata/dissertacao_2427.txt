Combinatória: dos princípios fundamentais da contagem à
álgebra abstrata

Renato da Silva Fernandes

Dissertação de Mestrado do Programa de Mestrado Proﬁssional em
Matemática em Rede Nacional (PROFMAT)

UNIVERSIDADE DE SÃO PAULOInstituto de Ciências Matemáticas e de ComputaçãoSERVIÇO DE PÓS-GRADUAÇÃO DO ICMC-USP

Data de Depósito:

Assinatura: ______________________

Renato da Silva Fernandes

Combinatória: dos princípios fundamentais da contagem à
álgebra abstrata

Dissertação apresentada ao Instituto de Ciências
Matemáticas e de Computação – ICMC-USP,
como parte dos requisitos para obtenção do título
de Mestre em Ciências – Mestrado Proﬁssional em
Matemática em Rede Nacional. VERSÃO REVISADA

Área de Concentração: Mestrado Proﬁssional em
Matemática em Rede Nacional

Orientador: Prof. Dr. Hermano de Souza Ribeiro

USP – São Carlos
Novembro de 2017

Ficha catalográfica elaborada pela Biblioteca Prof. Achille Bassi e Seção Técnica de Informática, ICMC/USP, com os dados fornecidos pelo(a) autor(a)F363cFernandes, Renato da Silva    Combinatória: dos princípios fundamentais dacontagem à álgebra abstrata / Renato da Silva Fernandes; orientador Hermano de Souza  Ribeiro. --São Carlos, 2017.   122 p.   Dissertação (Mestrado - Programa de Pós-Graduaçãoem Mestrado Profissional em Matemática em RedeNacional) -- Instituto de Ciências Matemáticas e deComputação, Universidade de São Paulo, 2017.   1. Combinatória. 2. Álgebra abstrata. I. Ribeiro,Hermano de Souza , orient. II. Título. Renato da Silva Fernandes

Combinatorics: from fundamental counting principles to
abstract algebra

Master dissertation submitted to the Institute of
Mathematics and Computer Sciences – ICMC-USP, in
partial fulﬁllment of the requirements for the degree of
Mathematics Professional Master’s Program. FINAL
VERSION

Concentration Area: Professional Master Degree
Program in Mathematics in National Network

Advisor: Prof. Dr. Hermano de Souza Ribeiro

USP – São Carlos
November 2017

Dedico esse trabalho à minha esposa Lidiane, por estar sempre ao meu lado durante esta longa
trajetória, mesmo nos momentos mais difíceis; e a minha família, especialmente ao meu pai,
Renato, por ter dedicado sua vida inteira à felicidade de seus ﬁlhos.

AGRADECIMENTOS

Agradeço aos professores do programa do PROFMAT / ICMC-USP, em especial à
coordenadora do programa, Dra. Ires Dias, por todo a atenção e apoio; à Dra. Miriam Cardoso
Utsumi, pela grande contribuição na minha formação; e ao meu orientador Dr. Hermano de
Souza Ribeiro, pela atenção, dedicação, ensinamentos e incentivo nas disciplinas cursadas e na
orientação desse trabalho.

“A matemática, vista corretamente, possui não apenas verdade, mas também suprema beleza -
uma beleza fria e austera, como a da escultura.” - Bertrand Russell

RESUMO

FERNANDES, R. S. Combinatória: dos princípios fundamentais da contagem à álgebra
abstrata. 2017. 122 p. Dissertação (Mestrado em Ciências – Mestrado Proﬁssional em Matemá-
tica em Rede Nacional) – Instituto de Ciências Matemáticas e de Computação, Universidade de
São Paulo, São Carlos – SP, 2017.

O objetivo deste trabalho é fazer um estudo amplo e sequencial sobre combinatória. Inicia-
se com os fundamentos da combinatória enumerativa, tais como permutações, combinações
simples, combinações completas e os lemas de Kaplanski. Num segundo momento é apresentado
uma abordagem aos problemas de contagem utilizando a teoria de conjuntos; são abordados
o princípio da inclusão-exclusão, permutações caóticas e a contagem de funções. No terceiro
momento é feito um aprofundamento do conceito de permutação sob a ótica da álgebra abstrata.
É explorado o conceito de grupo de permutações e resultados importantes relacionados. Na
sequência propõe-se uma relação de ordem completa e estrita para o grupo de permutações. Por
ﬁm, investiga-se dois problemas interessantes da combinatória: a determinação do número de
caminhos numa malha quadriculada e a contagem de permutações que desconhecem padrões de
comprimento três.

Palavras-chave: Combinatória, álgebra abstrata.

ABSTRACT

FERNANDES, R. S. Combinatorics: from fundamental counting principles to abstract al-
gebra. 2017. 122 p. Dissertação (Mestrado em Ciências – Mestrado Proﬁssional em Matemática
em Rede Nacional) – Instituto de Ciências Matemáticas e de Computação, Universidade de São
Paulo, São Carlos – SP, 2017.

The objective of this work is to make a broad and sequential study on combinatorics. It begins
with the foundations of enumerative combinatorics, such as permutations, simple combinations,
complete combinations, and Kaplanski’s lemmas. In a second moment an approach is presented to
the counting problems using set theory; the principle of inclusion-exclusion, chaotic permutations
and the counting of functions are addressed. In the third moment a deepening of the concept
of permutation is made from the perspective of abstract algebra. The concept of group of
permutations and related important results is explored. A strict total order relation for the
permutation group is proposed. Finally, we investigate two interesting combinatorial problems:
the determination of the number of paths in a grid and the number of permutations that avoids
patterns of length three.

Keywords: combinatorics, abstract algebra.

LISTA DE ILUSTRAÇÕES

Figura 1 – Diagrama de possibilidades de senhas (exemplo 2) . . . . . . . . . . . . . .

Figura 2 – Diagrama de possibilidades de “palavras” do código morse.

. . . . . . . . .

Figura 3 – Diagrama de possibilidades de escolha dos alunos (exemplo 6)
Figura 4 – Ilustração da expansão do polinômio (x + y)5.
Figura 5 – Triângulo de Pascal

. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

. . . . . . . . . . . . . . . .

. . . . . . .

Figura 6 – Duas conﬁgurações equivalentes de pintura de um hexágono . . . . . . . .

Figura 7 – Possíveis combinações de cores para o hexágono . . . . . . . . . . . . . . .

Figura 8 – Diferentes formas de se posicionar 7 crianças em uma roda . . . . . . . . .

Figura 9 – Possíveis combinações de escolha de sorvetes (exemplo 18).

. . . . . . . .

Figura 10 – Diagrama para formação de subconjuntos sem elementos consecutivos . . .

Figura 11 – Diagrama para formação de subconjuntos sem elementos consecutivos . . .

Figura 12 – Distribuição de lugares na mesa (exemplo 23)
Figura 13 – Formação de um p-subconjunto sem elementos consecutivos.
. . . . . . . .
Figura 14 – Sequência característica dos subconjuntos {1, 4, 7}, {2, 5, 9} e {3, 6, 9}. . . .
Figura 15 – Diagrama para formação de um 3-subconjunto com elementos intercalados.

. . . . . . . . . . . . . . . .

Figura 16 – Diagrama da generalização do primeiro lema de Kaplanski.
. . . . . . . . .
Figura 17 – Possibilidades para a função f : {1, 2, . . . , 6} → {1, 2, . . . , 10} . . . . . . . .

Figura 18 – Triângulo dos números de Stirling de segunda espécie . . . . . . . . . . . .
Figura 19 – Obtenção da composição h = f ∘ g usando a notação de duas linhas.
. . . .
Figura 20 – Ilustração dos ciclos (1362) e (45) . . . . . . . . . . . . . . . . . . . . . .
Figura 21 – Grafos dos ciclos b = (24), c = (142) e a composição b ∘ c.
Figura 22 – Composição dos ciclos a = (132), b = (24), c = (142).

. . . . . . . . . . .

. . . . . . . . .

Figura 23 – Triângulo com os números de Stirling de primeira espécie . . . . . . . . . .

23

23

25

28

29

31

32

32

35

37

37

39

40

41

42

42

52

58

66

68

70

71

75

Figura 24 – Triângulo com os números de Euler de primeira espécie . . . . . . . . . . .
Figura 25 – Dois possíveis caminhos norte-leste do ponto (0, 0) ao ponto (10, 5)
94
Figura 26 – Princípio da reﬂexão aplicado na reta y = x + 2 em dois caminhos norte-leste. 95
Figura 27 – Reﬂexão do ponto (0, 0) em relação a reta y = x + m . . . . . . . . . . . . .
Figura 28 – Um caminho norte-leste que ultrapassa a reta y = x.
. . . . . . . . . . . . .
Figura 29 – Permutação σ = 31254 e o padrão 132 nos elementos σ1, σ5 eσ4 . . . . . .
Figura 30 – Grafos dos padrões de comprimento 3.

. . . . . . . . . . . . . . . . . . . . 100

. . . .

98

96

99

82

Figura 31 – Exemplo de permutação que desconhece o padrão 132.

. . . . . . . . . . . 100

Figura 32 – Formação de uma permutação que desconhece o padrão 132.
. . . . . . . . 101
Figura 33 – Permutação σ = 5731624, e o padrão 132 formado por σ1, σ2 e σ5. . . . . . 103

Figura 34 – Processo de formação de uma permutação que desconhece o padrão 132.
. . 104
Figura 35 – Permutação σ = 5324617 e o caminho Cσ formado a partir de Qσ = 2210010.109
. . . . . . . . . . . . . . . . . . . . . . . 112
Figura 36 – Reﬂexão vertical do padrão 132.
. . . . . . . . . . . . . . . . . . . . . . 113
Figura 37 – Reﬂexão horizontal do padrão 132.
. . . . . . . . . . . . . . . . . . . . . . 113
Figura 38 – Reﬂexão horizontal do padrão 231.
. . . . . . . . . . . . . . . . . . . . . . . 114
Figura 39 – Reﬂexão vertical do padrão 123.

SUMÁRIO

1

1.1

1.2

2

2.1

2.1.1

2.1.2

2.1.3

2.2

2.2.1

2.2.2

2.2.3

3

3.1

3.2

3.3

3.4

3.4.1

3.4.2

4

4.1

4.2

4.3

4.3.1

4.3.2

4.4

4.5

4.5.1

4.6

4.7

4.8

INTRODUÇÃO . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 19
. . . . . . . . . . . . . . . . . . . . . . . . . . . 19
Motivação e objetivos
Desenvolvimento do trabalho . . . . . . . . . . . . . . . . . . . . . . . 19

CONCEITOS BÁSICOS DE CONTAGEM . . . . . . . . . . . . . . . 21
Permutações, Arranjos e Combinações . . . . . . . . . . . . . . . . . 24
Permutações, Arranjos e Combinações com restrições . . . . . . . . 26
. . . . . . . . . . . . . . . . . . . . . . . . . . . . 27
Coeficiente Binomial
Triângulo de Pascal
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . 29
Outras técnicas e princípios relacionados à contagem . . . . . . . . 31
Permutações circulares e com repetições . . . . . . . . . . . . . . . . 31
Combinação completa . . . . . . . . . . . . . . . . . . . . . . . . . . . 33
Lemas de Kaplanski . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 36

COMBINATÓRIA E A TEORIA DE CONJUNTOS . . . . . . . . . 45
Princípio da inclusão-exclusão . . . . . . . . . . . . . . . . . . . . . . . 48
Permutações Caóticas
. . . . . . . . . . . . . . . . . . . . . . . . . . . 49
Contando Funções . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 52
Número de Stirling de segunda espécie . . . . . . . . . . . . . . . . . 55
Triângulo dos números de Stirling de segunda espécie . . . . . . . . 58
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 61
Número de Bell

.

PERMUTAÇÕES NA ÁLGEBRA ABSTRATA . . . . . . . . . . . . 63
O Grupo das Permutações . . . . . . . . . . . . . . . . . . . . . . . . . 63
Notações usuais para permutação . . . . . . . . . . . . . . . . . . . . 65
Ciclos de permutação . . . . . . . . . . . . . . . . . . . . . . . . . . . . 68
Número de Stirling de primeira espécie . . . . . . . . . . . . . . . . . 73
Triângulo do números de Stirling de primeira espécie . . . . . . . . . 75
Paridade de uma permutação . . . . . . . . . . . . . . . . . . . . . . . 75
Números de Euler . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 80
Triângulo dos números de Euler de primeira espécie . . . . . . . . . 82
Permutações inversas . . . . . . . . . . . . . . . . . . . . . . . . . . . . 82
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 84
Código Lehmer .
. . . . . . . . . . . . . . 86
Uma ordenação para as permutações de Sn

.

4.8.1
4.8.2

5
5.1
5.1.1
5.2
5.2.1
5.2.2
5.2.3

Sistema numérico fatorial
. . . . . . . . . . . . . . . . . . . . . . . . . 88
Relação de ordem induzida pelo código Lehmer . . . . . . . . . . . . 90

CAMINHOS NA MALHA E DESCONHECIMENTO DE PADRÕES 93
Caminho na malha quadriculada . . . . . . . . . . . . . . . . . . . . . 93
. . . . . . . . . . . . . . . . . . . . . . . . . . . 95
Princípio da reflexão .
Permutações que desconhecem padrão . . . . . . . . . . . . . . . . . 99
Sequência de descidas
. . . . . . . . . . . . . . . . . . . . . . . . . . . 105
Caminhos sul-leste gerados pela sequência de descidas . . . . . . . . 108
Desconhecimento de outros padrões de comprimento 3 . . . . . . . 111

6

CONSIDERAÇÕES FINAIS . . . . . . . . . . . . . . . . . . . . . . . 117

REFERÊNCIAS . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 119

APÊNDICE A

COMENTÁRIOS DO AUTOR . . . . . . . . . . . . . . 121

19

CAPÍTULO

1

INTRODUÇÃO

1.1 Motivação e objetivos

Combinatória é um ramo da matemática que estuda os diferentes arranjos e combinações
de um determinado evento ou situação. A combinatória é dividida em problemas de contagem
(combinatória enumerativa), análise de existência de uma situação ótima em problemas de
otimização (combinatória extremal) e no estudo da álgebra abstrata (combinatória algébrica) .
É uma área de grande importância na matemática discreta com aplicação em diversas áreas do
conhecimento, como na química, biologia, estatística, entre outras.

A análise combinatória é um tema presente na educação básica e bastante explorado em
vestibulares, principalmente em problemas de contagem. Lima et al. (2006a) destacam que a
diﬁculdade natural enfrentada pelos alunos em análise combinatória deve-se, principalmente, à
necessidade de utilizar-se, nesta área, o raciocínio crítico e criativo com uma frequência maior do
que a utilizada em outros tópicos do Ensino Básico. Ressaltam ainda a importância do professor
priorizar o uso inteligente do princípio da multiplicação, em vez de recorrer a diversas fórmulas,
cujo uso torna-se confuso para o aluno.

Partindo dessa premissa, tomou-se como ponto de partida deste trabalho o princípio
fundamental da contagem e, a partir dele, abordou-se gradualmente os principais temas da análise
combinatória, dos mais simples aos mais abstratos, através de uma uma sequência encadeada de
exemplos, generalizações, conceitos e deﬁnições.

1.2 Desenvolvimento do trabalho

O trabalho foi dividido da seguinte forma:

O Capítulo 2 contém os conceitos mais básicos que envolvem problemas de contagem,
tais como o princípio fundamental da contagem e os conceitos de permutação, arranjo e com-

20

Capítulo 1. Introdução

binação, que são os principais conceitos de combinatória abordados no ensino básico. Ainda
nesse capítulo, abordam-se outros conceitos e técnicas de contagem, menos explorados no ensino
básico, mas de grande importância para professores (e alunos) que desejam ampliar o repertório
de técnicas para a resolução de problemas de combinatória. Entre eles estão o conceito de
permutações cíclicas, anagramas com repetições, combinação completa e os lemas de Kaplanski.

O Capítulo 3 propõe uma nova abordagem aos problemas de contagem sob a ótica da
teoria de conjuntos. Nesse capítulo é abordado o princípio da inclusão-exclusão, as permutações
caóticas, a contagem de número de funções e o número de Stirling de segunda espécie.

O Capítulo 4 é dedicado ao aprofundamento sobre o grupo das permutações. Nesse
capítulo são abordados os conceitos de grupo de permutações e ciclos de permutações, além
de vários resultados importantes relacionados, tais como a decomposição em ciclos disjuntos,
decomposição em transposições e paridade de uma permutação. Ao ﬁnal desse capítulo é
proposto uma relação de ordem total e estrita para o grupo de permutações.

O Capítulo 5 aborda dois problemas distintos bastante interessantes. O primeiro envolve
a contagem de caminhos de uma partícula em uma malha quadriculada, sob um conjunto de
restrições. O segundo problema consiste em contar o número de permutações que desconhecem
padrões de permutação de comprimento 3.

O Capítulo 6 apresenta algumas considerações ﬁnais sobre este trabalho.

21

CAPÍTULO

2

CONCEITOS BÁSICOS DE CONTAGEM

Problemas de contagem consistem em determinar a quantidade de combinações ou
possibilidades de um evento. Chamaremos genericamente de evento nosso objeto de investigação,
uma determinada condição ou proposição que desejamos investigar; e de decisão cada escolha -
ou possibilidade de escolha - que determina o evento. Para resolver problemas de contagem é
comum sub-dividirmos o evento principal em sub-eventos ou estudá-lo através de uma analogia
com outras situações já estudadas.

Iniciaremos deﬁnindo o princípio fundamental da contagem.

Deﬁnição 1 (Princípio fundamental da contagem).

O princípio fundamental da contagem diz que se há x modos de tomar
uma decisão D1 e, tomada a decisão D1, há y modos de tomar a decisão
D2, então o número de modos de tomar sucessivamente as decisões D1 e
D2 é x · y. (LIMA et al., 2006a, p. 85)

De forma geral, se há D1, D2, . . . , Dn decisões a serem tomadas, de forma que há x1 modos
de se tomar a decisão D1, e tomada essa decisão, há x2 modos de se tomar a decisão D2 e assim
sucessivamente, até chegarmos a decisão Dn, com xn modos de tomá-la; há então x1 · x2 · . . . · xn
formas de tomar, sucessivamente as decisões D1, D2, . . . , Dn.. Esse princípio também é conhecido
como princípio multiplicativo (da contagem).

Destacamos aqui a importância da ordem das decisões. Em muitos casos, uma decisão
depende da(s) anterior(es), portanto a ordem não pode ser alterada; em outros casos, as decisões
são independentes e a ordem em que são tomadas pode ser alterada.

Exemplo 1 ( ENEM1 - 2012). O diretor de uma escola convidou os 280 alunos de terceiro ano a
participarem de uma brincadeira. Suponha que existem 5 objetos e 6 personagens numa casa

1 Exame Nacional do Ensino Médio.

22

Capítulo 2. conceitos básicos de contagem

de 9 cômodos; um dos personagens esconde um dos objetos em um dos cômodos da casa. O
objetivo da brincadeira é adivinhar qual objeto foi escondido por qual personagem e em qual
cômodo da casa o objeto foi escondido.

Todos os alunos decidiram participar. A cada vez um aluno é sorteado e dá a sua resposta.
As respostas devem ser sempre distintas das anteriores, e um mesmo aluno não pode ser sorteado
mais de uma vez. Se a resposta do aluno estiver correta, ele é declarado vencedor e a brincadeira
é encerrada.O diretor sabe que algum aluno acertará a resposta porque há:

(A) 10 alunos a mais do que possíveis respostas distintas.

(B) 20 alunos a mais do que possíveis respostas distintas.

(C) 119 alunos a mais do que possíveis respostas distintas.

(D) 260 alunos a mais do que possíveis respostas distintas.

(E) 270 alunos a mais do que possíveis respostas distintas.

Resolução. Cada possível resposta é composta por 3 decisões: Objeto (5 opções), Personagem
(6 opções) e Cômodo (9 opções). Pelo princípio fundamental da contagem, há 5 · 6 · 9 = 270
possíveis respostas distintas. Como há 280 alunos, temos 10 alunos a mais do que possíveis
respostas (alternativa A).

Exemplo 2 ( ENEM - 2013). Um banco solicitou aos seus clientes a criação de uma senha
pessoal de seis dígitos, formada somente por algarismos de 0 a 9, para acesso à conta corrente
pela internet.

Entretanto, um especialista em sistemas de segurança eletrônica recomendou à direção
do banco recadastrar seus usuários, solicitando, para cada um deles, a criação de uma nova senha
com seis dígitos, permitindo agora o uso das 26 letras do alfabeto, além dos algarismos de 0 a
9. Nesse novo sistema, cada letra maiúscula era considerada distinta de sua versão minúscula.
Além disso, era proibido o uso de outros tipos de caracteres.

Uma forma de avaliar uma alteração no sistema de senhas é a veriﬁcação do coeﬁciente
de melhora, que é a razão do novo número de possibilidades de senhas em relação ao antigo. O
coeﬁciente de melhora da alteração recomendada é

(A)

(B)

(C)

626
106
62!
10!
62! 4!
10! 56!

(D) 62! − 10!

(E) 626 − 106

Resolução. Uma forma prática de resolver problemas de contagem é organizar um diagrama com
o número de possibilidades para cada escolha. A Figura 1 mostra o número de possibilidades
para cada dígito no sistema antigo e no sistema novo.

23

Sistema antigo

10
dígito 1

10
dígito 2

10
dígito 3

10
dígito 4

10
dígito 5

10
dígito 6

Sistema novo

62
dígito 1

62
dígito 2

62
dígito 3

62
dígito 4

62
dígito 5

62
dígito 6

Figura 1 – Diagrama de possibilidades de senhas (exemplo 2)

Para calcular a quantidade de senhas possíveis de cada sistema, basta usar o princípio
multiplicativo. O sistema antigo permite 10 · 10 · 10 · 10 · 10 · 10 = 106 senhas diferentes. O
sistema novo permite 62 · 62 · 62 · 62 · 62 · 62 = 626 senhas diferentes. Portanto, o coeﬁciente de
melhora (razão entre o novo número de possibilidades e o antigo) é 626

106 (alternativa (A)).

O segundo princípio básico para resolver problemas de contagem é o princípio aditivo.

Deﬁnição 2 (Princípio aditivo:). “Se A e B são conjuntos disjuntos, com p e q elementos,
respectivamente, então A ∪ B possui p + q elementos.” (MORGADO et al., 1991, p. 18)

De forma geral, se temos C1,C2, . . .Cn conjuntos disjuntos, com a1, a2, . . . , an elementos,

respectivamente, então C1 ∪C2 ∪ . . . ∪Cn possui a1 + a2 + . . . + an elementos.

Exemplo 3 ((MORGADO et al., 1991, p. 24)). O código morse usa “palavras” contendo de 1 a
4 “letras”, as “letras” sendo ponto e traço. Quantas “palavras” existem no código morse?

Resolução. Para calcular o total de “palavras” existentes, iremos dividi-las em 4 grupos: O
conjunto das “palavras” com 1, 2, 3 ou 4 “letras”. A Figura 2 mostra o número de possibilidades
de cada um desses conjuntos.

“Palavras” com 1 “letra”

“Palavras” com 2 “letra”

“Palavras” com 3 “letra”

“Palavras” com 4 “letra”

2
∙ ou −

2
∙ ou −

2
∙ ou −

2
∙ ou −

2
∙ ou −

2
∙ ou −

2
∙ ou −

2
∙ ou −

2
∙ ou −

2
∙ ou −

Figura 2 – Diagrama de possibilidades de “palavras” do código morse.

Sejam os conjuntos C1, C2, C3, C4 das “palavras” com 1, 2, 3 e 4 “letras”, respectivamente.
Esses conjuntos possuem, respectivamente, 2, 4, 8 e 16 elementos. Como são todos disjuntos

24

Capítulo 2. conceitos básicos de contagem

(não possuem elementos em comum), pelo princípio aditivo, o total de “palavras” é igual a:
2 + 4 + 8 + 16 = 30.

2.1 Permutações, Arranjos e Combinações

Os principais tópicos de análise combinatória estudados no Ensino Médio são as permu-
tações simples, arranjos e combinações. Uma diﬁculdade comum dos alunos é saber diferenciar
quando a situação-problema envolve uma permutação, um arranjo ou uma combinação. Nesta
seção abordaremos esses três tópicos, buscando desmistiﬁcar esses conceitos.

Exemplo 4. Quantos anagramas podem ser formados a partir da palavra feliz?

Resolução. Para formar um anagrama com a palavra feliz, precisamos decidir qual letra ocupará
cada posição. Para a primeira posição, temos 5 opções; escolhida uma letra (por exemplo, E),
haverá então 4 opções para a segunda posição; escolhida a letra da segunda opção (por exemplo
F), haverá 3 opções para a terceira posição; após essa escolha, restará 2 opções para a quarta
posição e, por ﬁm, apenas 1 opção para a quinta posição.

Pelo princípio multiplicativo, o número total de anagramas será 5.4.3.2.1 = 5! = 120.

Observamos que cada nova palavra formada pode ser obtida trocando as letras de posição
na palavra. Chamamos essa mudança de posição dos elementos de uma sequência de permutação.

Teorema 1 (Número de permutações). O número de modos Pn de se organizar n elementos
distintos em uma ﬁla (onde a ordem dos elemento é relevante) é dado por

Pn = n!

Exemplo 5. Doze pessoas disputam uma competição, onde são premiados com medalhas de
ouro, prata e bronze, respectivamente, o primeiro, o segundo e o terceiro colocado. Há quantos
possíveis resultados para o pódio dessa competição?

Resolução. Há 12 possibilidades para a primeira colocação. Estabelecida essa posição, há 11
possibilidades para a segunda colocação e, ﬁnalmente, 10 possibilidades para a terceira colocação.
Há então 12 · 11 · 10 = 1320 possíveis combinações para o pódio dessa competição.

Se quiséssemos o número de combinações para as 5 primeiras colocações, teríamos 12 ·
11 · 10 · 9 · 8 = 95040 possibilidades. Por economia de notação podemos escrever 12 · 11 · 10 · 9 · 8
como 12!

7! . este tipo de combinação é chamada de arranjo simples.

Teorema 2 (Arranjo Simples). Seja um conjunto com n elementos. O número de modos de se
dispor p elementos deste conjunto em ﬁla (onde a ordem dos elemento é relevante), denotado
por An,p é dado por

An,p =

n!
(n − p)!

2.1. Permutações, Arranjos e Combinações

25

Exemplo 6. Em uma sala de 20 alunos, 5 serão sorteados para representar a turma em um evento.
De quantas formas diferentes estes alunos podem ser escolhidos?

Resolução. Podemos pensar inicialmente como um problema de arranjo. Há 20 possibilidades
de escolha do primeiro aluno, 19 para o segundo, 18 para o terceiro, 17 para o quarto e 16 para o
quinto, como visto na Figura 3. Isso resultaria em 20 · 19 · 18 · 17 · 16 = 20!
15! .

20
1o aluno

19
2o aluno

18
3o aluno

17
4o aluno

16
5o aluno

Figura 3 – Diagrama de possibilidades de escolha dos alunos (exemplo 6)

Este resultado porém, não está correto. Considerando 5 alunos (A, B, C, D e E), as
sequências ABCDE, EDCBA, ACBED, . . ., estão sendo contabilizadas como combinações dife-
rentes, quando, na verdade, não são. De 20!
15!, precisamos descartar então os conjuntos que foram
contabilizados mais de uma vez. Escolhido 5 alunos (A, B, C, D e E), há 5! permutações desses
elementos, então cada conjunto A, B,C, D, E está sendo contabilizada 5! vezes. O número de
formas de se escolher 5 alunos dentre 20 é dado por

20 · 19 · 18 · 17 · 16
5!

=

20!
15!5!

= 15504

Este tipo de situação é chamada de combinação simples. Nos referimos ao resultado
acima como combinação de 20 elementos, tomados 5 à 5. No exemplo 6 poderíamos ter pensado,
alternativamente, em escolher os 15 alunos que não foram sorteados e chegaríamos ao mesmo
resultado ﬁnal.

C20,15 =

20
(20 − 15)!15!

=

20!
5!15!

= 15504

Teorema 3 (Combinação simples). O número de modos de escolher p elemento dentre n
possíveis, onde a ordem dos elementos não é relevante é dado por

Cn,p =

n!
(n − p)!p!

Demonstração. O número de modos de escolher p elementos dentre n é dada por

n!
(n − p)!

. Como

neste caso, a ordem dos elementos não é relevante, basta dividir pelo número de permutações de

p elementos. Logo, o número de combinações é dado por

n!
(n − p)!p!

.

Exemplo 7 (ENEM - 2016). Para cadastrar-se em um site, uma pessoa precisa escolher uma
senha composta por quatro caracteres, sendo dois algarismos e duas letras (maiúsculas ou
minúsculas). As letras e os algarismos podem estar em qualquer posição. Essa pessoa sabe que o
alfabeto é composto por vinte e seis letras e que uma letra maiúscula difere da minúscula em
uma senha. O número total de senhas possíveis para o cadastramento nesse site é dado por

26

Capítulo 2. conceitos básicos de contagem

(A) 102 · 262

(B) 102 · 522

(C) 102 · 522 ·

(D) 102 · 262 ·

(E) 102 · 522 ·

4!
2!

4!
2! · 2!
4!
2! · 2!

Resolução. A senha é formada por 4 caracteres. O primeiro passo é escolher em quais posições
iremos colocar os algarismos e em quais posições iremos colocar as letras. Escolhido a posição
dos algarismos, as 2 posições restantes serão para as letras (uma única possibilidade). Escolhido
a posição dos algarismos, há 10 possibilidades para o primeiro espaço e 10 possibilidades para
o segundo espaço. Da mesma forma, há 52 possibilidades para o primeiro espaço destinado às
letras e 52 possibilidades para o segundo espaço. teremos no total:

C4,2 · 102 · 522 = 102 · 522 ·

4!
2!2!

(Alternativa (E))

2.1.1 Permutações, Arranjos e Combinações com restrições

Exemplo 8. Quantos anagramas da palavra MARTELO não começam nem terminam com
vogais?

Resolução. Quando temos restrições em permutações, devemos iniciar a resolução por essas
restrições. Vamos começar posicionando consoantes na primeira e última letra: dessa forma há 4
possibilidades para a primeira letra e 3 para a última. Escolhida essas duas letras, as outras 5 letras
podem ser posicionadas livremente (5! possibilidades). portanto, há 3.4.5! = 1440 anagramas da
palavra MARTELO que não iniciam nem terminam com vogais.

É comum encontrar problemas de permutações, arranjos e combinações que apresentem
algumas restrições adicionais em seu enunciado. Lima et al. (2006a, p. 87) e Morgado et al. (1991,
p. 20) defendem que não devemos adiar diﬁculdades, ou seja, nos problemas de combinatória,
devemos buscar sempre tomar as decisões mais complicadas e mais restritas logo no começo da
resolução.

Exemplo 9. Quantos anagramas de MARTELO a letra A não é sucedida pela letra R?

Resolução. Vamos resolver este problema através de dois métodos diferentes.

Método 1: Vamos iniciar posicionando a letra A e, em seguida, posicionar a letra R.

Se posicionarmos a letra A na última posição, as outras letras podem ser posicionadas
livremente, pois não há o risco de formar a sequência AR. Então há 6! anagramas terminando
com A.

2.1. Permutações, Arranjos e Combinações

27

Se posicionarmos a letra A entre a primeira e a sexta posição, a letra R não poderá
sucedê-la. Há 6 formas de posicionar a letra A entre a primeira e a sexta posição. Feito isso, a
letra R só não pode ser posicionada na posição subsequente de A; portanto a letra R pode ser
posicionada em 5 lugares diferentes. Posicionadas as letras A e R, as demais letras podem ser
posicionadas livremente (5! modos). Isso resulta em 6.5.5! anagramas não terminados com a
letra A. Somando os dois resultados, temos

6! + 6.5.5! = 6! + 5.6! = 1.6! + 5.6! = (1 + 5).6! = 6.6! = 4320 anagramas

Método 2: Vamos contabilizar todos os anagramas e excluir as combinações indesejadas.

Há 7! anagramas da palavra MARTELO.

Precisamos agora excluir as que não obedecem a restrição.Quantos anagramas há com a
sequência AR? Se essas duas letras precisam ﬁcar juntas, basta considerá-las como um único
caractere. Dessa forma, teríamos uma permutação entre 6 elementos {M, AR, T, E, L, O}; há,
portanto 6! anagramas com a sequência AR.

O número de anagramas que não possui a sequência AR é dada por

7! − 6! = 7.6! − 1.6! = (7 − 1).6! = 6.6! = 4320

Observamos que os resultados são idênticos, conforme esperado.

Ressaltamos que não há uma regra especíﬁca para se resolver problemas de permutações,
arranjos ou combinações com restrições. A atenção e o cuidado deve ser maior neste tipo de
problema, principalmente para evitar a contagem repetida, exclusão de combinações válidas ou
não exclusão de combinações inválidas.

2.1.2 Coeficiente Binomial

Exemplo 10. Escreva o polinômio P(x) = (x + y)5 como uma soma de monômios.

Resolução. Um uso interessante de combinação é na obtenção de fórmulas expandidas de
polinômios. Cada monômio presente na expansão de (x +y)5 = (x +y)(x +y)(x +y)(x +y)(x +y)
será um produto de 5 elementos, x ou y, cada um advindo de um dos fatores (x + y). A Figura 4
ilustra a obtenção de um dos monômios e o total de monômios obtidos nessa expansão.

Pelo princípio multiplicativo, podemos concluir que haverá 25 = 32 elementos nessa
expansão, mas como a multiplicação de números reais é comutativa, existem fatores idênticos
(por exemplo: x.x.y.y.x = x.x.x.y.y = x3.y2) que podem ser somados. Ao juntar os monômios
semelhantes, obtemos o polinômio:

P(x) = a5 · x5 + a4 · x4y + a3 · x3y2 + +a2 · x2y3 + +a1 · xy4 + a0 · y5

28

Capítulo 2. conceitos básicos de contagem

Exemplo de monômio:

(x + y)·(x + y)·(x + y)·(x + y)·(x + y)·

x.x.y.x.y

Quantidade de monômios:

2
x ou y

2
x ou y

2
x ou y

2
x ou y

2
x ou y

25

Figura 4 – Ilustração da expansão do polinômio (x + y)5.

Podemos determinar cada coeﬁciente deste polinômio através de combinações. O coe-
ﬁciente a3, por exemplo, corresponde ao número de vezes que o produto x · x · x · y · y (ou uma
de suas permutações) apareceu na expansão de (x + y)5. Dessa forma, cada coeﬁciente de P(x)
pode ser obtido pensando no número de formas de combinar os fatores x e y em cada monômio.
Para isso, basta pensar nas diferentes formas de se distribuir os fatores x e posicionar os fatores y
nas posições restantes.

a5: Número de combinações com 5 x e 0 y. Equivale a distribuir 5 x em 5 posições:

a5 = C5,5 =

5!
5!0!

= 1

a4: Número de combinações com 4 x e 1 y. Equivale a distribuir 4 x em 5 posições:

a4 = C5,4 =

5!
4!1!

= 5

a3: Número de combinações com 3 x e 2 y. Equivale a distribuir 3 x em 5 posições:

a3 = C5,3 =

5!
3!2!

= 10

a2: Número de combinações com 2 x e 3 y. Equivale a distribuir 2 x em 5 posições:

a2 = C5,2 =

5!
2!3!

= 10

a1: Número de combinações com 1 x e 4 y. Equivale a distribuir 1 x em 5 posições:

a1 = C5,1 =

5!
1!4!

= 5

a0: Número de combinações com 0 x e 5 y. Equivale a distribuir 0 x em 5 posições:

a0 = C5,0 =

5!
0!5!

= 1

Portanto: (x + y)5 = 1x5 + 5x4y + 10x3y2 + 10x2y3 + 5xy4 + 1y5.

2.1. Permutações, Arranjos e Combinações

29

Teorema 4 (Expansão Binomial). Dado um binônio (a + b)n, sua expansão é dada por:

(a + b)n =

(cid:19)

(cid:18)n
0

an +

(cid:19)

an−1b +

(cid:18)n
1

(cid:18)n
2

(cid:19)

an−2b2 + . . . +

(cid:18) n

(cid:19)

n − 1

a1bn−1 +

(cid:19)

(cid:18)n
n

bn +

(cid:19)

(cid:18)n
0

Em que

(cid:33)

(cid:32)

n
k

=

n!
(n − k)!k!

é chamado de número binomial ou coeﬁciente binomial.

O número binomial (cid:0)n
k

(cid:1) é igual ao número de combinações de n elementos tomados k à k.

Cn,k =

(cid:19)

(cid:18)n
k

2.1.3 Triângulo de Pascal

O Triângulo de Pascal é uma tabela triangular em que estão listados, na linha k, os
coeﬁcientes do binômio (a + b)k. A Figura 5 apresenta as seis primeiras linhas do triângulo de
Pascal.

n = 0

n = 1

n = 2

n = 3

n = 4

n = 5

(cid:1)

(cid:0)0
0

(cid:1)

(cid:0)1
0

(cid:1)

(cid:0)2
0

(cid:1)

(cid:0)3
0

(cid:1)

(cid:0)4
0

(cid:1)

(cid:0)5
0

(cid:1)
(cid:0)1
1

(cid:1)
(cid:0)2
1

(cid:1)
(cid:0)3
1

(cid:1)
(cid:0)4
1

(cid:1)
(cid:0)5
1

(cid:1)
(cid:0)2
2

(cid:1)
(cid:0)3
2

(cid:1)
(cid:0)4
2

(cid:1)
(cid:0)5
2

(cid:1)
(cid:0)3
3

(cid:1)
(cid:0)4
3

(cid:1)
(cid:0)5
3

⇒

(cid:1)
(cid:0)4
4

(cid:1)
(cid:0)5
4

(cid:1)
(cid:0)5
5

1

1

1

1

1

1

1

2

3

4

5

1

3

6

1

4

10

10

4 + 6 = 10

1

5

1

k = 0

k = 1

k = 2

k = 3

k = 4

k = 5

Figura 5 – Triângulo de Pascal

A lei de formação do teorema de Pascal é dada pela relação de Stifel, enunciada no

teorema 5.

Teorema 5 (Relação de Stifel). Para quaisquer números i, n ∈ N2, com 1 ≤ i ≤ n, é válida a
relação

(cid:18) n

(cid:19)

i − 1

(cid:19)

(cid:18)n
i

+

=

(cid:19)

(cid:18)n + 1
i

2 Neste trabalho considera-se que o elemento 0 pertence ao conjunto dos números naturais.

30

Capítulo 2. conceitos básicos de contagem

Demonstração. Para cada i, n ∈ N, com 1 ≤ i ≤ n, temos que:

(cid:18) n

(cid:19)

i − 1

(cid:19)

(cid:18)n
i

+

=

=

=

=

=

=

=

=

n!
(i − 1)!(n − (i − 1))!

+

n!
i!(n − i)!

n!
(i − 1)!(n − i + 1)!

+

n!
i!(n − i)!

i · (n!)
i · (i − 1)!(n − i + 1)!

+

n! · (n − i + 1)
i!(n − i)! · (n − i + 1)

n! · i
i!(n + 1 − i)!

+

n! · (n + 1 − i)
i!(n + 1 − i)!

· (i + (n + 1 − i))

n!
i!(n + 1 − i)!

n! · (n + 1)
i!(n + 1 − i)!

(n + 1)!
i!(n + 1 − i)!
(cid:18)n + 1
i

(cid:19)

A relação de Stifel nos fornece um método prático para calcular os elementos do triângulo
(cid:1), basta somar os elementos da
k!(n−k)!. Para calcular (cid:0)n

de Pascal, sem recorrer à fórmula (cid:0)n
k
coluna k e da coluna k − 1 da linha anterior (n − 1) do triângulo de Pascal.

(cid:1) = n!

k

Teorema 6 (Simetria dos números binomiais). Para quaisquer números n, p ∈ N com p ≤ n, é
válida a relação

(cid:19)

(cid:18)n
p

=

(cid:18) n

(cid:19)

n − p

Demonstração.

(cid:18) n

(cid:19)

n − p

=

n!
(n − p)!(n − (n − p))!

=

n!
(n − p)!(n − n + p)!

=

n!
(n − p)!p!

=

(cid:19)

(cid:18)n
p

Teorema 7 (Soma da linha do Triângulo de Pascal). Para qualquer n ∈ N temos que

(cid:19)

(cid:18)n
i

n
∑
i=0

= 2n

2.2. Outras técnicas e princípios relacionados à contagem

31

Demonstração. Seja o binômio (1 + 1)n. Por um lado, realizando a expansão, temos:

(1 + 1)n =

(cid:19)

1n +

(cid:18)n
0

(cid:18)n
1

(cid:19)

1n−1.11 +

(cid:18)n
2

(cid:19)

1n−2.12 + ... +

Por outro lado: (1 + 1)n = 2n

Portanto:

(cid:19)

(cid:18)n
n

1n =

(cid:19)

(cid:18)n
0

+

(cid:19)

(cid:18)n
1

+

(cid:19)

(cid:18)n
2

+ ... +

(cid:19)

(cid:18)n
n

(cid:19)

(cid:18)n
i

n
∑
i=0

=

(cid:19)

(cid:18)n
0

+

(cid:19)

(cid:18)n
1

+

(cid:19)

(cid:18)n
2

+ . . . +

(cid:19)

(cid:18)n
n

= (1 + 1)n = 2n

2.2 Outras técnicas e princípios relacionados à contagem

Veremos agora outras técnicas de contagem utilizadas na resolução de problemas mais

soﬁsticados.

2.2.1 Permutações circulares e com repetições

Exemplo 11. Em uma atividade escolar, os alunos tinham que pintar cada aresta de um hexágono
regular de cores diferentes. Há 6 opções de cores diferentes. Desconsiderando as rotações do
hexágono, de quantas maneiras diferentes esse hexágono pode ser pintado?

Resolução. Se a ﬁgura não pudesse ser rotacionada, haveriam 6! combinações. Mas rotacionando
a ﬁgura, não podemos considerar que há 6! combinações, pois algumas combinações seriam
contadas mais de uma vez. Sejam C1, C2, C3, C4, C5 e C6 cada uma das possíveis cores. A
Figura 6 mostra duas conﬁgurações de cores equivalentes, sendo a segunda obtida a partir da
rotação da primeira.

C2

C3

C1

C4

C6

C5

≡

C3

C4

C2

C5

C1

C6

Figura 6 – Duas conﬁgurações equivalentes de pintura de um hexágono

32

Capítulo 2. conceitos básicos de contagem

Para resolver o impasse da rotação, basta tomar um elemento (cor) como ponto de
referência e posicionar os demais elementos a partir desse ponto em determinado sentido (horário
ou anti-horário) . Tomando uma determinada cor como referência (C1) e um sentido (horário),
basta posicionar as outras 5 cores nas 5 posições restantes (como pode ser visto na Figura 7). Há,
portanto 5! = 120 formas diferentes de se pintar o hexágono.

1
C1

5
2a aresta

4
3a aresta

3
4a aresta

2
5a aresta

1
6a aresta

Figura 7 – Possíveis combinações de cores para o hexágono

Teorema 8 (Permutação circular). O número de maneiras de se dispor n elementos em um
círculo, de forma que, conﬁgurações que coincidem se rotacionadas são consideradas iguais é
dado por

PCn = (n − 1)!

Demonstração. Há n! modos de se posicionar n elementos em ﬁla. Se conectarmos o início e
o ﬁm da ﬁla, formamos um polígono de n vértices. Dividindo esse resultado pelas n rotações
possíveis, obtemos (n − 1)! permutações.

Exemplo 12. De quantas formas podemos pintar o hexágono do exemplo 11 se houvessem 9
cores possíveis para pintar as 6 arestas?

Resolução. Neste caso, escolhemos 6 cores diferentes entre as 9 possíveis e a posição de cada cor.
Como há (cid:0)9
(cid:1) modos de escolher as cores e PC6 modos de escolher as posições, temos, princípio
6
multiplicativo, que o número de formas de se se pintar esse hexágono é

(cid:19)

(cid:18)9
6

· PC6 =

9!
6!3!

· 5! = 10080

Exemplo 13. De quantos modos podemos formar uma roda de ciranda com 7 crianças, de modo
que duas determinadas crianças não ﬁquem juntas?

Resolução. Sejam A e B as crianças que não devem ﬁcar juntas. Primeiro, consideramos a
posição da criança A como primeira posição e numeramos sequencialmente as posições no
sentido horário, conforme vemos na Figura 8.

Possíveis posições para B

A
posição 1

posição 2

posição 3

posição 4

posição 5

posição 6

posição 7

Figura 8 – Diferentes formas de se posicionar 7 crianças em uma roda

2.2. Outras técnicas e princípios relacionados à contagem

33

Agora vamos posicionar a criança B. Onde ela não pode ir? Como não queremos que a
criança B ﬁque ao lado da criança A, ela não pode ocupar a posição 2 ou a última posição. Então
há 4 possibilidades para se posicionar a criança B. Feito isso, há 5! formas de se posicionar as
demais crianças. Dessa forma, há 4.5! = 480 modos de formar a roda de ciranda sem que as
crianças A e B ﬁquem juntas.

Exemplo 14. Quantos anagramas existem com a palavra ARARAQUARA?

Resolução. A palavra Araraquara possui 10 letras, mas o número de anagramas não é 10!, pois
há letras repetidas.

Para ilustrar, vamos numerar as letras iguais. Quando contamos 10!, contabilizamos
os anagramas A1R1A2R2A3Q1U1A4R3A5 e A5R1A4R3A3Q1U1A2R2A1 como palavras diferentes,
quando na verdade, os dois formam a mesma palavra (ARARAQUARA). Para resolver esse
problema, basta pensarmos em posicionar cada letra através de combinações.

Posicionando a letra A: Há 10 posições para ser ocupado por 5 letras A: (cid:0)10
5
(cid:1) modos.
Posicionando a letra R: Há 5 posições para ser ocupado por 3 letras R: (cid:0)5
3

(cid:1) modos.

Posicionando as letras Q e U: 2! modos.

O número de combinações será dado então por:

(cid:19)

(cid:19)

(cid:18)10
5

(cid:18)5
3

·

· 2! =

10
5!5!

·

5
3!2!

· 2! =

10
5!3!

= 5040

A escolha de qual letra iremos posicionar primeiro não importa. Para qualquer ordem

escolhida, o número de combinações será :

10!
5!3!

Teorema 9 (Permutações com repetições). O número de sequências distintas de n elementos
com q1 elementos iguais a a1, q2 elementos iguais a a2, . . . , qk−1 elementos iguais a ak−1 e qk
elementos iguais a ak, é dado por

Pn
(q1,q2,...,qk) =

n!
q1!q2!q3! . . . qk!

2.2.2 Combinação completa

Exemplo 15. Marcos tem 10 bolinhas de gude idênticas para distribuir entre seus três sobrinhos.
Marcos pode dar quantidades diferentes de bolinhas para cada sobrinho. Quantas distribuições
diferentes podem ocorrer?

Resolução. Seja x, y e z a quantidade de bolinhas destinadas a cada sobrinho. Há várias combina-
ções para a tríplice (x, y, z): (1, 4, 5), (3, 1, 6), (10, 0, 0), entre outras. O número de possibilidades
para o segundo sobrinho depende da quantidade que ﬁcou para o primeiro sobrinho. A única
certeza que temos é que x + y + z = 10.

34

Capítulo 2. conceitos básicos de contagem

Para resolver esse tipo de problema, vamos usar o seguinte recurso: imagine que todas as
bolinhas sejam dispostas em um ﬁla (vamos denotar por o cada bolinha). Para dividir as bolinhas
entre os sobrinhos, vamos traçar 2 riscos (denotados por I), delimitando assim 3 grupos; cabendo
ao primeiro sobrinho as bolinhas delimitadas no primeiro grupo, ao segundo sobrinho as bolinhas
do segundo grupo e assim por diante.

Vamos ilustrar algumas possíveis distribuições para melhor compreensão:

o o o I o o o o I o o o =⇒ x = 3, y = 4 e z = 3

o o o o o o I I o o o o =⇒ x = 6, y = 0 e z = 4.

Para descobrir o número de formas de se distribuir essas bolinhas, basta calcular número
de distribuições de 10 caracteres o e 2 caracteres I. Isso nada mais é do que um problema de
anagrama de 12 letras, com 10 letras o e 2 letras I. Para calcular o número de anagramas, basta
escolher 2 posições, dentre as 12, para as letras I e distribuir as letras o nos espaços restantes.
(cid:1) = 66 maneiras de distribuir as 10 bolinhas para seus três

Conclusão: Marcos tem (cid:0)12
2

sobrinhos.

Exemplo 16. De quantas formas podemos distribuir 20 bolinhas entre cinco crianças?

Resolução. Usando o mesmo raciocínio do problema anterior, teremos 20 o para representar as
bolinhas. E quantos I? Ora, para formar 5 grupos, precisamos de 4 delimitadores, ou seja, 4 I.
Dessa forma, precisamos descobrir quantos anagramas existem com 20 letras o e 4 letras I.
(cid:1) = 10626 modos de distribuir 20 bolinhas para cinco crianças.

Conclusão: Há (cid:0)24
4

Teorema 10 (Combinação completa). O número de formas de se distribuir n objetos idênticos
entre p pessoas (com a possibilidade que algumas não recebam nenhum objeto) é dada por

CRn,p =

(cid:19)

(cid:18)n + p − 1
n

Exemplo 17. Em uma eleição de representante de classe com 4 candidatos inscritos e 25 alunos
com direito a voto. Todos os 25 alunos votaram uma única vez e cada candidato recebeu, ao
menos, um voto. Qual é o número de resultados diferentes que podem ocorrer nessa eleição?

Resolução. Temos mais uma vez em um problema de combinação completa, porém com uma
restrição: cada candidato recebeu ao menos um voto. Sendo x, y, z e w os votos de cada candidato,
temos que

x + y + z + w = 25.

x, y, z, w ∈ N,

x > 0, y > 0, z > 0, w > 0.

Realizando a mudança de variável: x = x′ + 1, y = y′ + 1, z = z′ + 1, w = w′ + 1, obtemos:

x + y + z + w = 25
x′ + 1 + y′ + 1 + z′ + 1 + w′ + 1 = 25

2.2. Outras técnicas e princípios relacionados à contagem

35

x′ + y′ + z′ + w′ + 4 = 21 + 4
x′ + y′ + z′ + w′ = 21

(x′, y′, z′, w′ ∈ N)

Precisamos então distribuir 21 votos restantes entre os 4 candidatos (sendo que agora,
cada candidato já possui um voto). Dessa forma, teremos 21 o e 3 delimitadores I. O número de
combinações será

(cid:19)

(cid:18)21 + 3
3

=

(cid:19)

(cid:18)24
3

= 2024

Exemplo 18 ((MORGADO et al., 1991, p. 48)). De quantos modos é possível comprar 4 sorvetes
em uma loja que os oferece em 7 sabores?
(cid:1). Mas isso seria correto
Resolução. À primeira vista, poderíamos pensar que o resultado é (cid:0)7
4
se fossemos escolher 4 sabores diferentes dentre os 7. O problema propõe escolher 4 sorvetes
(possivelmente do mesmo sabor) dentre 7 opções de sabores. Denominando de A, B,C, D, E, F e
G os possíveis sabores, podemos ver algumas possíveis combinações na Figura 9.

C
sorvete 1

D
sorvete 2

E
sorvete 3

F
sorvete 4

A
sorvete 1

A
sorvete 2

A
sorvete 3

G
sorvete 4

B
sorvete 1

C
sorvete 2

F
sorvete 3

B
sorvete 4

Figura 9 – Possíveis combinações de escolha de sorvetes (exemplo 18).

O número de combinações também não é 74, pois diferentes ordens na escolha do sabor

(por exemplo, AABC e ABCA) não conﬁguram escolhas diferentes.

Poderíamos dividir o problemas em casos (três sorvetes do primeiro sabor e um sorvete
do segundo sabor; dois sorvetes do primeiro sabor e dois sorvetes do segundo sabor; dois sorvetes
do primeiro sabor, um sorvete do segundo sabor e um sorvete do terceiro sabor; todos sorvetes
de sabores distintos), mas esse método seria bastante trabalhoso, principalmente se aumentarmos
a quantidade de sorvetes e de sabores disponíveis.

O método mais prático é usar o conceito de combinação completa.

Sejam xA, xB, . . . , xG a quantidade de sorvetes dos sabores A, B, . . . , G. Temos que:

xA + xB + xC + xD + xE + xF + xG = 4

(xA, xB, xC, xD, xE, xF , xG ∈ N)

O número de soluções dessa equação é igual ao número de anagramas produzidos por
(cid:1) = 210 modos de escolher 4 sorvetes dentre 7

4 letras o e 6 letras I. Há portanto, (cid:0)4+6
4
opções de sabores.

(cid:1) = (cid:0)10
4

36

Capítulo 2. conceitos básicos de contagem

Teorema 11 (Número de soluções naturais). Seja a equação:

x1 + x2 + . . . + xn = S

Onde x1, x2, . . . , xn ∈ N, S ∈ N. O número de soluções dessa equação é dada por
(cid:32)

(cid:33)

S + n − 1
S

Demonstração. Procuramos valores naturais para x1, x2 . . . , xn, de forma que x1 + x2 + . . . + xn =
S. Isto é equivalente a distribuir S objetos em n grupos distintos (variáveis). Usando o para
representar cada objeto e I para representar as separações entre os grupos; precisamos contar o
número de anagramas formados por S símbolos o e n − 1 símbolos I. Isso resulta em (cid:0)S+n−1
(cid:1)
anagramas.

S

Portanto, existem (cid:0)S+n−1

(cid:1) n-túplas (x1, x2, . . . , xn) naturais que são solução para a equa-

S

ção x1 + x2 + . . . xn = S.

Observamos que o número de o é igual o resultado do somatório (S) e o número de I é

igual a quantidade de símbolos “+” na equação (n − 1).

2.2.3 Lemas de Kaplanski

Deﬁnição 3 (Cardinalidade de um conjunto ﬁnito). Seja A um conjunto ﬁnito formado por n
elementos distintos. Dizemos que a cardinalidade deste conjunto é n e denotamos por |A| = n.

Deﬁnição 4 (p-subconjunto). Dado um conjunto A, dizemos que B é p-subconjunto de A se
B ⊂ A e |B| = p.

Deﬁnição 5 (Função característica3). Seja A um conjunto não vazio, e B um subconjunto de A.
Chamamos de função característica de B (em A) a função χB : A → {0, 1} deﬁnida por:

1


x ∈ B

se

χB(x) =

0


se

x /∈ B

Deﬁnição 6 (sequência característica). Seja o conjunto A = {a1, a2, . . . , an} e B ⊂ A. A sequência
característica de B (em A) é a sequência SB = (α1, α2, . . . , αn) tal que:

αi =


1


0


se

se

ai ∈ B

ai /∈ B

A sequência característica permite utilizar uma notação binária de pertinência para
representar um subconjunto qualquer. Por exemplo, dado o conjunto A = {1, 2, 3, 4, 5, 6, 7}, a
sequência (1, 0, 1, 0, 1, 0, 0) representa o subconjunto {1, 3, 5} e a sequência (0, 1, 0, 0, 1, 1, 1)
representa o subconjunto {2, 5, 6, 7}.
3 Deﬁnição dada por Muniz Neto (2012)

2.2. Outras técnicas e princípios relacionados à contagem

37

Exemplo 19. Seja A = {1, 2, 3, 4, 5, 6, 7}. Há quantos subconjuntos de A de 3 elementos de
forma que não possua elementos consecutivos?

Resolução. Queremos 3-subconjuntos de A sem elementos consecutivos, como, por exemplo, os
subconjuntos {1, 3, 7} e {2, 4, 7}. Como deve ser o subconjunto desejado?

Como são necessários três elementos, a sequência característica dele será formada por
três algarismos 1 e quatro algarismos 0. Como não queremos algarismos consecutivos, cada
algarismo 1 precisa ser intercalado por, pelo menos, um algarismo 0. Porém determinar quantos
0 serão colocados entre cada 1 não é fácil.

O segredo é fazer o oposto. Posicionar os algarismos 1 entre os algarismos 0. Primeiro

formamos uma ﬁla de 0 intercalados por lacunas, conforme a Figura 10.

0

0

0

0

lacuna 1

lacuna 2

lacuna 3

lacuna 4

lacuna 5

Figura 10 – Diagrama para formação de subconjuntos sem elementos consecutivos

Agora basta posicionar os três algarismos 1 nas cinco lacunas disponíveis, que pode
ser feito de (cid:0)5
(cid:1) = 10 maneiras diferentes. Desconsiderando as lacunas vazias, a sequência
3
formada pelos algarismos 0 e 1 corresponderão à sequência característica de um subconjunto de
3 elemento não consecutivos.

Portanto há 10 3-subconjuntos de A que não possuem elementos consecutivos.

Exemplo 20. Dado B = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11}, existem quantos subconjuntos de B com
4 elementos não consecutivos do conjunto?

Resolução. Como o conjunto B tem 11 elementos e queremos 4-subconjuntos, a sequência
característica será formada por 4 algarismos 1 e 7 algarismos 0. Primeiro, escrevemos os
algarismos 0 intercalados por lacunas, como pode ser visto na Figura 11.

0

0

0

0

0

0

0

lacuna 1

lacuna 2

lacuna 3

lacuna 4

lacuna 5

lacuna 6

lacuna 7

lacuna 8

Figura 11 – Diagrama para formação de subconjuntos sem elementos consecutivos

Para formar uma sequência característica de um 4-subconjunto, basta escolher 4 lacunas

(cid:1) = 70 modos.
dentre as 8 para posicionar os algarismos 1; essa escolha pode ser feita de (cid:0)8
4

Conclusão: Há 70 4-subconjuntos de B = {1, 2, 3, . . . , 11} sem elementos consecutivos.

De forma geral, sendo A = {1, 2, . . . , n}, a sequência característica de um p-subconjunto
de A é formada por p algarismos 1 e n − p algarismos 0. Para formar um subconjunto sem
elementos consecutivos, precisamos intercalar os algarismos 0 com n − p + 1 lacunas. Feito isso,

38

Capítulo 2. conceitos básicos de contagem

basta escolher p lacunas dentre as n − p + 1 para posicionar os algarismos 1. Esse resultado é
conhecido como primeiro lema de Kaplanski.

Teorema 12 (Primeiro Lema de Kaplanski). Dado um conjunto A = {1, 2, 3, . . . , n}, n ∈ N, a
quantidade de p-subconjuntos de A (Ai ⊂ A : |Ai| = p) sem elementos consecutivos é dada por

f (n, p) =

(cid:19)

(cid:18)n − p + 1
p

Exemplo 21 ((MORGADO et al., 1991, p. 73)). Uma ﬁla tem 15 cadeiras nas quais devem
sentar-se 5 homens, de modo que não ﬁquem dois homens sentados em cadeiras contíguas. De
quantos modos isso pode ser feito?

Resolução. O primeiro passo é escolher as cadeiras que serão ocupadas. Pensando que as
cadeiras estão numeradas de 1 a 15, basta então contar a quantidade de 5-subconjuntos de A =
(cid:1).
(cid:1) = (cid:0)11
{1, 2, 3, . . . , 15} sem elementos consecutivos. Isso pode ser feito de f (15, 5) = (cid:0)15−5+1
5

5

Agora precisamos posicionar as pessoas. Temos 5! formas distribuir essas cinco pessoas

nas cadeiras selecionadas.

Conclusão: Há 5! · (cid:0)11
5

(cid:1) = 55440 dos cinco homens sentarem-se sem ocuparem cadeiras

contíguas.

Exemplo 22 ((MORGADO et al., 1991, p. 74)). Quantos anagramas da palavra MISSISSIPI nos
quais não há duas letras S consecutivas?

Resolução. Primeiro vamos escolher onde iremos posicionar as letras S. Temos que escolher
4 posições dentre as 10 de modo a não escolher duas posições consecutivas. Isso equivale a
formar um 4-subconjuntos de {1, 2, . . . , 10} sem elementos consecutivos. Pelo primeiro lema de
Kaplanski, há f (10, 4) = (cid:0)10−4+1

(cid:1) = (cid:0)7
4
(cid:1) formas de se posicionar
Agora posicionamos as 4 letras I nos 6 espaços restantes. Há (cid:0)6
4

(cid:1) formas de se fazer isso.

4

as letras I.

Por ﬁm, posicionamos a letra M -(cid:0)2
1

(cid:1) formas - e a letra P (1 forma).

Conclusão: O número total de anagramas da palavra MISSISSIPI sem letras S consecuti-

(cid:1) = 1050.
(cid:1) · (cid:0)2
(cid:1) · (cid:0)6
vas é igual à (cid:0)7
1
4
4

Exemplo 23. Quatro pessoas irão se sentar em uma mesa redonda de dez lugares numerados.
De quantas formas elas podem se sentar em torno dessa mesa de forma que haja sempre pelo
menos um lugar vazio entre duas pessoas?

Resolução. Este problema consiste em escolher 4 números do conjunto {1, 2, . . . , 10} de forma
que não haja números consecutivos; porém, neste caso, os números 1 e 10 são considerados
como consecutivos.

2.2. Outras técnicas e princípios relacionados à contagem

39

O primeiro passo é formar a sequência característica desse subconjunto. Essa sequência
será formada por 4 algarismos 1 e 6 algarismos 0. Agora intercalamos os 6 algarismos 0 entre 7
lacunas, das quais, preencheremos 4. Para contornar o problema da primeira e última posição
serem consideradas consecutivas, vamos dividir a resolução em 2 casos:

Caso 1 - A primeira posição está ocupada: Se a primeira cadeira estiver ocupada, a última
deve ﬁcar obrigatoriamente vazia. Colocando um algarismo 1 na primeira lacuna (já que estamos
supondo que o primeiro número pertence ao subconjunto), marcaremos a última lacuna com um
X para indicar que essa lacuna não pode ser preenchida. Dessa forma, temos que distribuir 3
(cid:1) modos.
algarismos 1 entre as 5 lacunas restantes - (cid:0)5
3

Caso 2 - A primeira posição está desocupada: Neste caso, marcamos um X na primeira
lacuna, indicando que essa posição não pode ser ocupada. Agora, temos que distribuir 4 algaris-
(cid:1) modos. A Figura 12 representa a distribuição de lugares
mos 1 entre as 6 lacunas restantes - (cid:0)6
4
nesses dois casos.

1

0

0

0

0

0

0

X

lacuna 1

lacuna 2

lacuna 3

lacuna 4

lacuna 5

lacuna 6

lacuna 7

Diagrama da mesa com a primeira cadeira ocupada.

X

0

0

0

0

0

0

lacuna 1

lacuna 2

lacuna 3

lacuna 4

lacuna 5

lacuna 6

lacuna 7

Diagrama da mesa com a primeira cadeira vazia.

Figura 12 – Distribuição de lugares na mesa (exemplo 23)

(cid:1) = 25 modos de se distribuir as 4
(cid:1) + (cid:0)6
Juntando as duas possibilidades, temos que há (cid:0)5
4
3
pessoas entre 10 lugares de forma que sempre ﬁque pelo menos uma cadeira vazia entre duas
pessoas.

De forma geral, podemos descobrir quantos p-subconjuntos A = {1, 2, . . . , n} que não
possuem elementos consecutivos, sendo 1 e n considerados consecutivos, partindo do mesmo
raciocínio. A sequência característica destes p-subconjuntos seriam formadas por p algarismos
1 e n − p algarismos 0. Formaríamos então uma sequência de algarismos 0 intercalados por
n − p + 1 lacunas. A partir deste ponto, vamos dividir em 2 casos: calculamos os subconjuntos
que incluem o elemento 1 e os subconjuntos que não incluem o elemento 1.

Para calcular quantos p-subconjuntos incluem o elemento 1, colocamos um algarismo
1 na primeira lacuna e um X na última lacuna. Agora, basta distribuir os p − 1 algarismos 1
(cid:1) subconjuntos que incluem o
restantes entre as n − p − 1 lacunas possíveis. Há, portanto, (cid:0)n−p−1
p−1
número 1.

40

Capítulo 2. conceitos básicos de contagem

Para calcular quantos p-subconjuntos não incluem o elemento 1, colocamos um X na
primeira lacuna, para indicar que essa posição permanecerá vazia. Dessa forma, basta distribuir
(cid:1) subconjuntos que não
os p algarismos 1 entre as n − p lacunas possíveis.Temos então, (cid:0)n−p
p
incluem o elemento 1. A Figura 13 ilustra esses dois casos mencionados.

caso 1: O elemento 1
pertence ao subconjunto

caso 2: O elemento 1 não
pertence ao subconjunto

0

0

1

1

X

1

2

2

0

0

. . .

0

0

0

X

3

n − p − 1

n − p

n − p + 1

(cid:0)n−p−1
p−1

(cid:1)

⇒

(n − p − 1) lacunas

. . .

0

0

0

3

n − p − 1

n − p

n − p + 1

⇒

(cid:1)
(cid:0)n−p
p

Figura 13 – Formação de um p-subconjunto sem elementos consecutivos.

(n − p) lacunas

Concluímos então que há (cid:0)n−p−1
p−1

(cid:1) p-subconjuntos de A = {1, 2, . . . , n} que não
(cid:1) + (cid:0)n−p
p
possuem elementos consecutivos, sendo 1 e n considerados consecutivos. Esse resultado é
conhecido como segundo lema de Kaplanski.

Realizando algumas manipulações, podemos simpliﬁcar a expressão acima.

(cid:19)

(cid:18)n − p
p

=

(n − p)!
p!(n − p − p)!

=

(n − p)!
p!(n − 2p)!

(cid:19)

(cid:18)n − p − 1
p − 1

=

(n − p − 1)!
(p − 1)!((n − p − 1) − (p − 1))!

=

(n − p − 1)!
(p − 1)!(n − 2p)!

=

(n − p − 1)!
(p − 1)!(n − 2p)!

·

(n − p) · p
(n − p) · p

=

p
n − p

·

(n − p)!
p!(n − 2p)!

2.2. Outras técnicas e princípios relacionados à contagem

41

(cid:19)

(cid:18)n − p − 1
p − 1

(cid:19)

(cid:18)n − p
p

+

=

p
n − p

·

(n − p)!
p!(n − 2p)!

+

(n − p)!
p!(n − 2p)!

=

p + (n − p)
n − p

·

(n − p)!
(p − 1)!(n − 2p)!

=

n
n − p

·

(n − p)!
(p − 1)!(n − 2p)!

=

n
n − p

(cid:19)

(cid:18)n − p
p

·

Teorema 13 (Segundo Lema de Kaplanski). Dado um conjunto A = {1, 2, 3, . . . , n}, n ∈ N,
o número de p-subconjuntos de A que não possuem elementos consecutivos, sendo 1 e n
considerados consecutivos é dado por:

g(n, p) =

(cid:19)

(cid:18)n − p − 1
p − 1

(cid:19)

(cid:18)n − p
p

+

=

n
n − p

·

(cid:19)

(cid:18)n − p
p

Exemplo 24. De quantas formas podemos escolher três números entre 1 e 9, de forma que haja,
pelo menos, uma diferença de três unidades entre os números escolhidos?

Resolução. Para compreender melhor o problema e sua resolução, vamos ilustrar algumas
possíveis combinações: Os subconjuntos {1, 4, 7}, {2, 5, 9} e {3, 6, 9} são algumas possíveis
combinações de três números entre 1 e 9, com uma diferença de, pelo menos, três unidades entre
eles. A Figura 14 ilustra esses subconjuntos e suas respectivas sequências características.

{1, 4, 7} ⇒ (1, 0, 0, 1, 0, 0, 1, 0, 0)

{2, 5, 9} ⇒ (0, 1, 0, 0, 1, 0, 0, 0, 1)

{3, 6, 9} ⇒ (0, 0, 1, 0, 0, 1, 0, 0, 1)

Figura 14 – Sequência característica dos subconjuntos {1, 4, 7}, {2, 5, 9} e {3, 6, 9}.

Observamos que, para que a diferença entre dois elementos do subconjunto seja maior ou
igual a três unidades, cada algarismo 1 da sequência característica precisa estar intercalado com,
pelo menos, dois algarismos 0. Para resolver esse problema, podemos então pensar em distribuir
os algarismos 0 entre os algarismos 1 da sequência característica. Inicialmente, vamos desenhar
lacunas entre os três algarismos 1 para depois distribuir nessas lacunas os seis algarismos 0,
sendo que cada lacuna pode ser ocupada por qualquer quantidade de algarismos 0. A Figura 15
ilustra esse diagrama.

Para descobrir quantos subconjuntos podemos formar, basta calcular de quantas maneiras
podemos distribuir os algarismos 0 nas quatro lacunas, sendo que, as lacunas 2 e 3 precisam ter,

42

Capítulo 2. conceitos básicos de contagem

1

1

1

lacuna 1

lacuna 2

lacuna 3

lacuna 4

Figura 15 – Diagrama para formação de um 3-subconjunto com elementos intercalados.

ao menos, dois algarismos 0. Chamando de L1, L2, L3 e L4 a quantidade de algarismos 0 em
cada lacuna, obtemos a seguinte equação:

L1 + L2 + L3 + L4 = 6

L1, L2, L3, L4 ∈ N L2 ≥ 2, L3 ≥ 2

Realizando a mudança de variável: L2 = L′

2 + 2, L3 = L′

3 + 2 , obtemos:

L1 + L2 + L3 + L4 = 6
2 + 2 + L′
L1 + L′
2 + L′
L1 + L′

3 + L4 = 2

3 + 2 + L4 = 6

(L1, L′

2, L′

3, L4 ∈ N)

Precisamos descobrir o número de soluções naturais para essa equação. Trata-se então
de um problema de combinação completa. O número de soluções será igual ao número de
anagramas produzidos por 2 letras o e 3 letras I, portanto (cid:0)5
3

(cid:1) = 10.
(cid:1) = 10 formas de se escolher três números entre 1 e 9 de forma
Conclusão: Existem (cid:0)5
3

que haja, pelo menos, uma diferença três unidades entre os números escolhidos.

Exemplo 25 ((MORGADO et al., 1991, p. 77)). De quantos modos é possível formar um
p-subconjunto de {1, 2, . . . , n} de modo que entre cada dois elementos escolhidos para o subcon-
junto haja, no conjunto, pelo menos r elementos não escolhidos para o subconjunto?

Resolução. Trata-se de uma generalização do primeiro lema de Kaplanski. Queremos encon-
trar o número de p-subconjuntos de {1, 2, . . . , n} tais que, para quaisquer dois elementos do
subconjunto, há, pelo menos, r números naturais entre eles.

Para resolver esse problema, iremos usar o mesmo método usado no exemplo 24. Para
formar a sequência característica dos subconjuntos, primeiro formamos uma sequência de p
algarismos 1 intercalados por p + 1 lacunas, conforme a Figura 16. Nessas lacunas, iremos
distribuir n − p algarismos 0, sendo que, as lacunas 2, 3, . . . , p devem conter, ao menos, r
algarismos 0.

1

1

. . .

1

1

1

lac. 1

lac. 2

lac. 3

lac. p − 1

lac. p

lac. p + 1

Figura 16 – Diagrama da generalização do primeiro lema de Kaplanski.

(p − 1) lacunas

2.2. Outras técnicas e princípios relacionados à contagem

43

Chamando de L1, L2, . . . Lp+1 a quantidade de algarismos 0 em cada lacuna, obtemos a

seguinte equação:

L1 + L2 + . . . Lp + Lp+1 = n − p

L1, L2, . . . Lp+1 ∈ N, Li ≥ r, ∀i ∈ 2, 3, . . . , p

Realizando as seguintes mudanças de variáveis:

Li = L′

i + r, ∀i ∈ 2, 3, . . . , p

Obtemos:

L1 + L2 + L3 + . . . + Lp−1 + Lp + Lp+1 = n − p

2 + r) + (L′

L1 + (L′
(cid:124)

3 + r) + . . . + (L′
(cid:123)(cid:122)
p−1 parcelas

p−1 + r) + (Lp + r)
(cid:125)

+Lp+1 = n − p

L1 + L′

2 + L′

3 + . . . + L′

p−1 + L′

p + Lp+1 + (p − 1) · r = n − p

L1 + L′

2 + L′

3 + . . . + L′

p−1 + L′

p + Lp+1 = n − p − (p − 1) · r

(L1, L′

2, . . . , L′

p, Lp+1 ∈ N)

Agora basta usar o conceito de combinação completa, para descobrir o número de
soluções dessa equação. Seja k = n − p − (p − 1)r; o número de soluções será igual ao número
de anagramas com k letras o e p letras I. O número de soluções é dado por:

(cid:19)

(cid:18)k + p
p

=

(cid:18)(n − p − (p − 1)r) + p
p

(cid:19)

=

(cid:18)n − (p − 1)r
p

(cid:19)

Conclusão: Há (cid:0)n−(p−1)r

(cid:1) p-subconjuntos tais que, para quaisquer dois elementos do

p
subconjunto, há pelo menos r números naturais entre eles.

Teorema 14 (Generalização do primeiro Lema de Kaplanski). Seja o conjunto A = {1, 2, . . . , n}.
A quantidade de p-subconjuntos de A onde, entre cada dois elementos do subconjunto há, pelo
menos r elementos que não pertencem a esse subconjunto é dado por:

f (n, p, r) =

(cid:18)n − (p − 1) · r
p

(cid:19)

45

CAPÍTULO

3

COMBINATÓRIA E A TEORIA DE
CONJUNTOS

Uma combinação pode ser analisada sob ótica da teoria de conjuntos. Os problemas de
contagem consistem em calcular a cardinalidade do conjunto formado a partir das condições
apresentadas no problema. Todos os problemas apresentados no capítulo 2 podem ser representa-
dos utilizando conjuntos ﬁnitos de números naturais e produtos cartesianos desses conjuntos.
Veremos alguns exemplos de como fazer essa representação.

Nesta seção, deﬁniremos, em todos os exemplos, um conjunto que representa as com-
binações desejadas e descobriremos o número de combinações calculando a cardinalidade do
conjunto.

Exemplo 26. Qual é o número de senhas formadas de 5 dígitos composta por qualquer algarismo
de 0 a 9?

Resolução. Nesse exemplo, precisamos escolher 5 números do conjunto {0, 1, . . . , 9} para
ocupar a posição de cada dígito. Neste caso, a posição de cada número escolhido é relevante
(20340 ̸= 00234). Se chamarmos de d1, d2, d3, d4 e d5 cada dígito; cada senha corresponde a
uma 5-tupla (d1, d2, d3, d4, d5).

Chamando de A o conjunto de todas as senhas de 5 dígitos, esse conjunto será formado

pelo produto cartesiano de cinco conjuntos {0, 1, . . . , 9}, ou seja:

A = {0, 1, . . . , 9} × {0, 1, . . . , 9} × {0, 1, . . . , 9} × {0, 1, . . . , 9} × {0, 1, . . . , 9}

É fácil perceber que o número de senhas é dado pela cardinalidade do conjunto A, |A| = 105 =
100000.

Exemplo 27. Quantas senhas de 5 dígitos (com algarismos de 0 a 9) existem onde o último
dígito é ímpar?

46

Capítulo 3. Combinatória e a teoria de conjuntos

Resolução. Cada restrição imposta ao exemplo 26 implica num “recorte” do nosso conjunto
A, deﬁnido anteriormente. O conjunto B de todas as senhas onde o último dígito é ímpar é um
subconjunto de A. O conjunto B é deﬁnido como:

B = {0, 1, . . . , 9} × {0, 1, . . . , 9} × {0, 1, . . . , 9} × {0, 1, . . . , 9} × {1, 3, 5, 7, 9}

Portanto o número de senhas é dado por : |B| = 104 · 5 = 50000

Exemplo 28. Quantas são as senhas de 5 dígitos onde todos dígitos são distintos?

Resolução. Seja C o conjunto de todas as senhas de 5 dígitos distintos. Dado o conjunto A,
conforme deﬁnido no exemplo 26, o conjunto C pode ser deﬁnido como:

C = {(d1, d2, d3, d4, d5) ⊂ A : d1 ̸= d2 ̸= d3 ̸= d4 ̸= d5}

Porém, essa deﬁnição não ajuda a calcular |C|. Podemos deﬁnir o conjunto C como:

C = {(d1, d2, d3, d4, d5) : d1 ∈ B1, d2 ∈ B2, d3 ∈ B3, d4 ∈ B4, d5 ∈ B5}

Onde: B1 = {0, 1, . . . , 9}, B2 = B1 ∖ {d1}, B3 = B2 ∖ {d2}, B4 = B3 ∖ {d3}, B5 = B4 ∖ {d4}

Dessa forma: |B1| = 10; |B2| = 9; |B3| = 8; |B4| = 7; |B5| = 6

Portanto: |C| = 10 · 9 · 8 · 7 · 6 = 30240

Vamos apresentar agora duas deﬁnições que utilizaremos nos próximos exemplos.

Deﬁnição 7 (Conjunto das partes). Dado um conjunto A, denominamos de conjunto das partes
de A, o conjunto formado por todos os subconjuntos de A, e denotamos este conjunto por P(A).
Formalmente, o conjunto P(A) é deﬁnido como: P(A) = {X : X ⊂ A}

Deﬁnição 8 (Subconjunto das Partes com k elementos). Seja A um conjunto. Denotamos por
Pk(A) o subconjunto das partes de A que possuem (exatamente) k elementos4. Denominaremos
Pk(A) de conjuntos das partes com k elementos ou conjunto dos k-subconjuntos de A, deﬁnido
como:

Pk(A) = {X : X ⊂ A, |X| = k}

Exemplo 29. De quantas formas diferentes podemos escolher 3 professores para formação de
uma comissão dentre um grupo de 20 professores?

Resolução. Seja D o conjunto dos professores. Mesmo esse conjunto não sendo um conjunto
numérico, podemos estabelecer uma bijeção do conjunto D com o conjunto D′ = {1, 2, . . . , 20}.
Para isso, basta atribuir um número de 1 a 20 a cada professor. Veja que o critério para essa
numeração não é importante. De fato, esse critério sequer precisa ser explícito. Como D e D′

4 Muniz Neto (2012, p. 162) apresenta a notação Pn(A), mas não deﬁne um uma nomenclatura para este

conjunto. A denominação apresentada foi escolhida pelo autor deste trabalho.

47

possuem a mesma cardinalidade, isso é suﬁciente para garantir a existência de uma bijeção entre
esses dois conjuntos.

Seja C o conjunto de todas as possíveis comissões. O conjunto C pode ser deﬁnido como:
C = {{x, y, z} : x, y, z ∈ D}. O conjunto C é formado por todos os 3-subconjuntos de D. Usando a
notação da deﬁnição 8, C = P3(D). Se desejarmos trabalhar apenas com conjuntos numéricos,
temos que C′ = P3(D′).

Para calcular o número de 3-subconjuntos de D′ = {1, 2, . . . , 20}, basta calcular (cid:0)20
3

(cid:1).

Dessa forma |C| = |C′| = (cid:0)20
3

(cid:1) = 1140.

Exemplo 30. De quantas formas pode ser formada uma comissão de 3 membros escolhidos den-
tre 20 professores, sendo que um desses membro será designado como presidente da comissão?

Resolução. Vamos utilizar novamente o conjunto D de professores deﬁnido no exemplo 29.
Neste caso, dentre os 3 membros, há uma posição de destaque e duas posições idênticas. O
conjunto C de todas as possíveis comissões pode ser deﬁnida então como:

C = { (x, {y, z}) : x ∈ D, y, z ∈ D ∖ {x} }

Veja que C é então o produto cartesiano de dois conjuntos de naturezas distintas. A primeira
coordenada x é um elemento do conjunto D; a segunda coordenada é um 2-subconjunto de
D ∖ {x}. Como |D| = 20 e | P2 (D ∖ {x}) | = (cid:0)19

(cid:1) , então |C| = 20 · (cid:0)19
2

(cid:1) = 3420.

2

Exemplo 31. De quantas formas podemos distribuir 10 bolas idênticas em 3 cestos?

Resolução. Seja E o conjunto dos diferentes modos de se distribuir 10 bolinhas em 3 cestos.
Deﬁnindo as variáveis x, y, z para representar a quantidade de bolinhas em cada cesto, podemos
deﬁnir o conjunto E da seguinte maneira:

E = { (x, y, z) : x, y, z ∈ N, x + y + z = 10 }

Usando o conceito de combinação completa, temos que |E| = (cid:0)10+2
2

(cid:1) = (cid:0)12
2

(cid:1) = 66.

Nesta seção, todos os exemplos foram resolvidos, partindo da deﬁnição de um conjunto
de combinações. Algumas das vantagens de se deﬁnir as combinações como um conjunto são:

∙ poder deﬁnir de forma clara e precisa o conjunto de combinações procurado em problemas

mais complexos;

∙ conseguir realizar estimativas e resultados aproximados da cardinalidade do conjunto de

combinações para problemas complexos;

∙ poder utilizar as operações e conceitos da teoria de conjuntos - união e interseção de
conjuntos, conjunto complementar, diferença de conjuntos, conjuntos disjuntos, entre
outros - na resolução de problemas de combinatória.

48

Capítulo 3. Combinatória e a teoria de conjuntos

3.1 Princípio da inclusão-exclusão

Vimos na seção anterior que os problemas de contagem se resumem em descobrir a
cardinalidade de um conjunto de possibilidades. O princípio da inclusão-exclusão permite
descobrir o número de elementos do conjunto união de dois ou mais conjuntos não disjuntos.

Teorema 15 (Princípio da Inclusão-Exclusão simples). Dados dois conjuntos A e B: |A ∪ B| =
|A| + |B| − |A ∩ B|

Demonstração. Vamos dividir a resolução em dois casos: A e B serem ou não disjuntos.

Caso 1- Se A e B são disjuntos, A ∩ B = ∅, o que implica: |A ∪ B| = |A| + |B| − |A ∩ B| =

|A| + |B|, como já visto na deﬁnição 2 (Princípio Aditivo).

Caso 2- Se A e B não são disjuntos, A ∩ B ̸= ∅. Seja A ∩ B = C. Deﬁnamos os conjuntos

A′ = A ∖C e B′ = B ∖C.

A = A′ ∪C e A′ ∩C = ∅ =⇒ |A| = |A′ ∪C| = |A′| + |C|
|A ∪ B| =|(A′ ∪C) ∪ B| = |(A′ ∪ (C ∪ B)| = |A′ ∪ B|

=|A′| + |B|
=|A′| + |B| + |C| − |C| = (|A′| + |C|) + |B| − |C|
=|A′ ∪C| + |B| − |C|

=|A| + |B| − |C|

Agora vamos generalizar o princípio da inclusão-exclusão para n conjuntos.

Teorema 16 (Princípio da Inclusão-Exclusão Generalizado). Seja A1, A2, . . . , An conjuntos ﬁnitos
e S1, S2, . . . Sn as somas:

n

S1 =

S2 =

S3 =

. . .

Sn =

|Ai|

i=0

∑
∑
∑

0≤i< j≤n

0≤i< j<k≤n

|Ai ∩ A j|

|Ai ∩ A j ∩ Ak|

(cid:12)
(cid:12)
(cid:12)A1 ∩ A2 ∩ . . . ∩ An

(cid:12)
(cid:12)
(cid:12)

temos que:

n
(cid:91)

(cid:12)
(cid:12)
(cid:12)
i=1

(cid:12)
(cid:12) = S1 − S2 + S3 − . . . + (−1)n · Sn
(cid:12)

Ai

3.2. Permutações Caóticas

49

No princípio da inclusão-exclusão ocorre a alternância dos sinais das parcelas. Come-
çamos contabilizando a cardinalidade de todos os conjuntos; depois excluímos (subtraímos)
a cardinalidade de todas as intersecções de 2 conjuntos; depois incluímos (adicionamos) a
cardinalidade de todas as intersecções de 3 conjuntos; e assim sucessivamente.

No teorema 16, Sk representa o somatório da cardinalidade de todas as intersecções de k

conjuntos escolhidos dentre A1, A2, . . . , An. Observamos que Sk é uma soma de (cid:0)n

(cid:1) parcelas.

k

Exemplo 32 ( (MORGADO et al., 1991, p. 66)). Quantos são os inteiros de n dígitos, que têm
todos os dígitos pertencentes ao conjunto {1, 2, 3}? Em quantos deles os inteiros 1, 2 e 3 ﬁguram
todos?

Resolução. A quantidade de números de n dígitos formados pelos dígitos 1, 2 e 3 é 3n.

Já para contar a quantidade de números onde os três algarismos ﬁguram, iremos utilizar o
princípio da inclusão-exclusão. Iniciamos considerando todas os números de n dígitos formados
pelos algarismos 1, 2 e 3 (total: 3n). Na sequência, excluímos aqueles onde um dos algarismos
não ﬁgura: Escolhemos então dois algarismos dentre os 3 e formamos um número de n dígito com
. Agora, incluímos novamente os números onde dois dos algarismos não ﬁguram:
eles
(cid:16)(cid:0)3
1

(cid:1)2n(cid:17)
. Dessa forma, a quantidade de número de n dígitos formados pelos algarismos 1, 2 e 3

(cid:16)(cid:0)3
2
(cid:1)1n(cid:17)

onde todos eles ﬁguram é dado por:

3n −

(cid:19)

2n +

(cid:18)3
2

(cid:19)

(cid:18)3
1

1n

Podemos reescrever essa expressão para induzir uma expressão mais geral:

(cid:19)

(cid:18)3
3

3n −

(cid:19)

2n +

(cid:18)3
2

(cid:18)3
1

(cid:19)

1n −

(cid:18)3
0

(cid:19)

0n

3.2 Permutações Caóticas

Para ilustrar o que é uma permutação caótica, vamos analisar uma situação relatada por

Carneiro (1995).

Pouco antes das festas do último ﬁm de ano, eu estava reunido com
um grupo de familiares, que resolveu planejar a célebre brincadeira do
“amigo oculto”. Éramos 9 pessoas. Foi escrito o nome de cada pessoa
em um papelzinho, e procedeu-se ao sorteio, para determinar quem iria
dar presente a quem. Feito o sorteio, logo apareceu alguém que tirou a
si mesmo. Sendo contra as regras da brincadeira que alguém presenteie
a si mesmo, e para preservar o sigilo, tivemos que proceder a outro
sorteio. No segundo sorteio, o mesmo fenômeno ocorreu, dessa vez com
outra pessoa. Uma das pessoas presentes — um analista de sistemas —
voltou-se para mim e perguntou: “Você, que é matemático, diga: vai ﬁcar
acontecendo isso a vida toda? Qual a probabilidade de isso ocorrer?”
(CARNEIRO, 1995)

50

Capítulo 3. Combinatória e a teoria de conjuntos

Para que um sorteio de “amigo oculto” seja válido é necessário que nenhuma pessoa tire
o próprio nome. Se associarmos a cada pessoa um número de 1 a 9, de acordo com a ordem
da retirada dos papéis, todas as possibilidades de sorteio são meras permutações. Para que um
sorteio seja válido é necessário que nenhuma pessoa sorteie o próprio número, ou seja, nenhum
número pode estar associado a ele mesmo.

Esse tipo de permutação é conhecida como permutação caótica.

Deﬁnição 9 (Permutação Caótica). Uma permutação dos números (1, 2, ..., n) é dita caótica (ou
desordenamento) quando nenhum número está na seu lugar primitivo.

As permutações 52134 e 31452 são caóticas; já a permutação 15234 não é, pois o

elemento 1 está na primeira posição.

Exemplo 33. Qual é a probabilidade de nenhuma pessoa retirar o próprio nome num sorteio de
“amigo oculto” com 9 pessoas?

Resolução. Primeiramente, vamos descobrir o número de combinações onde uma pessoa não
retira o próprio nome, ou seja, o número de permutações caóticas de 9 elementos. Vamos resolver
esse problema usando o princípio da inclusão-exclusão.

Primeiro, contamos todas as possibilidades de sorteios: 9!.

Agora, contamos as combinações onde pelo menos 1 pessoa sorteou o próprio nome:
Neste caso, há (cid:0)9
(cid:1) formas de escolher a pessoa que irá sortear ela mesma e 8! formas de se
1
(cid:1)8! combinações.
sortear o restante das pessoas. Temos, portanto, (cid:0)9
1

O número de combinações onde pelo menos 2 pessoas sortearam o próprio nome: Há
(cid:1) formas de escolher as duas pessoas que irão sortear a si mesmas e 7! formas de se sortear o
(cid:0)9
2
(cid:1)7! combinações.
restante das pessoas. Temos, portanto, (cid:0)9
2

Seguindo o mesmo raciocínio, o número de combinações onde pelo menos k pessoas

sortearam o próprio nome (0 < k ≤ 9) é dado por (cid:0)9
k

(cid:1) · (9 − k)!.

Pelo princípio da inclusão-exclusão, o número de permutações onde nenhuma pessoa

tira o próprio nome é dada por:
(cid:18)9
2

(cid:18)9
3

(cid:18)9
1

8! +

7! −

9! −

(cid:19)

(cid:19)

(cid:19)

6! +

(cid:19)

(cid:18)9
4

5! −

(cid:19)

4! +

(cid:18)9
5

(cid:19)

3! −

(cid:18)9
6

(cid:18)9
7

(cid:19)

2! +

(cid:19)

(cid:19)

1! −

(cid:18)9
8

(cid:18)9
9

0! = 133496

Logo, a probabilidade de nenhuma das 9 pessoas sortear o próprio nome é:

133496
9!

≈ 37%

Vamos generalizar o cálculo das permutações caóticas.

Seja Dn o número de permutações caóticas do conjunto A = {1, 2, . . . , n}. A ideia é
utilizar o raciocínio complementar: o número de permutações caóticas é igual o número total

3.2. Permutações Caóticas

51

de permutações menos as permutações onde algum elemento se encontra na posição original.
O número total de permutações é dado por n!. Para padronizar a escrita, tomaremos o total de
permutações como (cid:0)n
0

(cid:1)n!.

Agora, excluímos as permutações onde há, pelo menos, um elemento na posição original.
(cid:1)(n − 1)!
Para isso, escolhemos 1 elemento dentre n e permutamos os outros: isso gera (cid:0)n
1
combinações.

Dentre os elementos excluídos, há aqueles onde dois elementos estão na posição original.
Essas permutações foram contadas repetidamente e, por isso, precisamos “excluir” da exclusão.
(cid:1)(n − 2)! permutações dessa forma.
Há (cid:0)n
2

Seguindo esse raciocínio e utilizando o princípio da inclusão-exclusão, obtemos a se-

guinte expressão:

Dn =

Logo:

(cid:19)

(cid:18)n
0

n! −

(cid:19)

(cid:18)n
1

(n − 1)! +

(cid:18)n
2

(cid:19)

(n − 2)! − . . . + (−1)n

(cid:19)

0!

(cid:18)n
n

Dn =

n
∑
i=0

(−1)n

(cid:19)

(cid:18)n
i

(n − i)!

Essa expressão pode ser simpliﬁcada:

(cid:19)

(n − i)!

Dn =

Dn =

Dn =

n
∑
i=0
n
∑
i=0
n
∑
i=0

Dn = n!

(−1)n

(n − i)!

(cid:19)

(cid:18)n
i
(cid:18) n!

(−1)n

(−1)n ·

i!(n − i)!

n!
i!

(cid:32) n
∑
i=0

(cid:33)

(−1)n
i!

Teorema 17 (Número de permutações caóticas). O número de permutações caóticas (ou desar-
ranjos) de n elementos é dada por

Dn =

n
∑
i=0

(−1)n

(cid:19)

(cid:18)n
i

(n − i)! = n!

(cid:33)

(cid:32) n
∑
i=0

(−1)n
i!

Exemplo 34 ( Morgado et al. (1991, p. 71) ). Quantas são as permutações de {1, 2, 3, 4, 5, 6, 7}
que têm exatamente 3 elementos no seu lugar primitivo?

Resolução. Queremos que exatamente 3 elementos ocupem suas posições originais. Para isso,
basta escolher 3 elementos (dentre 7) e desarranjar os 4 elementos restantes. Logo, o número de
permutações será dado por

(cid:19)

D4 =

(cid:18)7
3

(cid:19) (cid:20)

4!

(cid:18)7
3

(cid:18) 1
0!

−

1
1!

+

1
2!

−

1
3!

+

1
4!

(cid:19)(cid:21)

= 35 · 9 = 315

52

Capítulo 3. Combinatória e a teoria de conjuntos

3.3 Contando Funções

A proposta desta seção é contar o número de funções de um conjunto ﬁnito A em
um conjunto ﬁnito B que atendam a algumas condições e restrições. Diversos problemas de
combinatória consistem em determinar de quantas formas podemos posicionar um conjunto de
elementos. Ao distribuir os elementos em uma determinada posição, a relação entre posição e
elemento pode ser vista como uma função matemática. Por isso, vários problemas de contagem
em diversos contextos podem ser interpretados como um problema de contagem de funções.
Estabelecer essa relação torna a resolução de problemas de contagem mais objetiva.

Exemplo 35. Dados os conjuntos A = {1, 2, . . . , 6} e B = {1, 2, . . . , 10}, existem quantas funções
f : A → B ?

Resolução. Uma função associa cada valor x ∈ A a um (único) valor y ∈ B. Dessa forma,
cada x ∈ {1, 2, . . . , 6} pode ser associado a qualquer valor y ∈ {1, 2, . . . , 10}, inclusive valores
repetidos. A Figura 17 representa o número de possibilidades de imagem para cada valor de
x ∈ {1, 2, . . . , 6}. Como, para cada valor de x, temos 10 possíveis imagens, existem 106 funções
f : A → B.

10
x = 1

10
x = 2

10
x = 3

10
x = 4

10
x = 5

10
x = 6

Figura 17 – Possibilidades para a função f : {1, 2, . . . , 6} → {1, 2, . . . , 10}

Exemplo 36. Dados A = {1, 2, . . . , 6} e B = {1, 2, . . . , 10}, quantas funções f : A ∈ B são injeto-
ras?

Resolução. Uma função f : A → B é injetora se, ∀ x, y ∈ A x ̸= y =⇒ f (x) ̸= f (y). Em outras
palavras, um mesmo elemento do conjunto B não pode estar associado a dois elementos distintos
de A. Para contar o número de funções injetoras, basta então escolher 6 dentre os 10 elementos
do conjunto B e permutá-los como imagem dos 6 elementos de A.

Conclusão: Há (cid:0)10
6

(cid:1)6! = 151200 funções f : A ∈ B injetoras.

Exemplo 37. Dados A = {1, 2, . . . , 6} e B = {1, 2, . . . , 10}, quantas funções f : A ∈ B são cres-
centes?

Resolução. Uma função f : A → B é crescente se, ∀ x, y ∈ A, x > y =⇒ f (x) > f (y). Note que
se f é crescente, então f é injetora. Primeiramente, vamos escolher 6 elementos de B para o
conjunto imagem dessa função. Escolhidos os 6 elementos, basta ordená-los de forma crescente.
Veja que só há uma forma de colocar os elementos em ordem crescente.

Conclusão: Existem (cid:0)10
6

(cid:1) = 210 funções f : A → B crescentes.

Exemplo 38. Dados A = {1, 2, . . . , 6} e B = {1, 2, . . . , 10}, quantas funções f : A ∈ B são de-
crescentes?

3.3. Contando Funções

53

Resolução. Basta proceder como no exemplo anterior, porém posicionando os elementos em
ordem decrescente. Há, portanto, (cid:0)10
6

(cid:1) = 210 funções f : A → B decrescentes.

Exemplo 39. Dados A = {1, 2, . . . , 6} e B = {1, 2, . . . , 10}, quantas funções f : A ∈ B são não
decrescentes? E não crescentes?

Resolução. Uma função f : A → B é não decrescente se, ∀ x, y ∈ A, x > y =⇒ f (x) ≥ f (y).

Em funções não decrescentes, dois elementos diferentes de A podem estar associados
ao mesmo elemento de B. Precisamos determinar quais elementos de B formarão o conjunto
imagem e quantas vezes cada elemento da imagem será repetido - isto é, a quantos elementos do
domínio esse elemento da imagem está associado. Escolhidos os elementos do conjunto imagem
e quantas vezes eles se repetirão, só existe uma forma de associá-los aos elementos de A para
que a função seja não decrescente.

Para determinar quantas vezes cada elemento de B será imagem de algum elemento de
A, basta calcular, através de combinação completa, o número de modos de distribuir 6 objetos
(elementos de A) em 10 grupos (elementos de B).

Sendo y1, y2, . . . , y10 a quantidade de vezes que o elemento 1, 2, . . . , 10 aparece como

imagem da função, temos que: y1 + y2 + . . . + y10 = 6 , (y1, . . . , yn ∈ N).

O número de soluções dessa equação é igual ao número de funções f : A → B não

decrescentes.

CR6,10 =

(cid:19)

(cid:18)10 − 1 + 6
6

=

(cid:19)

(cid:18)15
6

= 5005

O número de funções não crescentes será idêntico, pois para estabelecer uma bijeção

entre as funções não crescentes e não decrescentes, basta inverter a ordem das imagens.

Conclusão: Há 5005 funções f : A → B não decrescentes e 5005 não crescentes.

Exemplo 40. Quantas funções de A = {1, 2, . . . , 6} em B = {1, 2, . . . , 10} são monótonas?

Resolução. Uma função monótona é uma função que preserva (ou inverte) a relação de ordem
entre os conjuntos relacionados. As funções monótonas são classiﬁcadas como:

∙ crescentes (∀ x, y ∈ A, x > y =⇒ f (x) > f (y));

∙ decrescentes (∀ x, y ∈ A, x > y =⇒ f (x) < f (y));

∙ (monótonas) não decrescentes (∀ x, y ∈ A, x > y =⇒ f (x) ≥ f (y));

∙ (monótonas) não crescentes (∀ x, y ∈ A, x > y =⇒ f (x) ≤ f (y)).

54

Capítulo 3. Combinatória e a teoria de conjuntos

Seja U o conjunto de todas as funções f : A → B. Seja C, D, E, F e G, respectivamente,
os subconjuntos de U das funções crescentes, das funções decrescentes, das funções não decres-
centes, das funções não crescentes e das funções monótonas. Temos que: G = C ∪ D ∪ E ∪ F;
além disso, C ⊂ E e B ⊂ F, então G = E ∪ F.

Vimos no exemplo 39 que o número de funções não crescentes é igual ao número
de funções não decrescente (|E| = |F|). Dessa forma, |G| = |E ∪ F| = |E| + |F| − |E ∩ F| =
2|E| − |E ∩ F|.

Precisamos determinar |E ∩ F|. O conjunto E ∩ F não é vazio. Ele é formado por todas
as funções que são, simultaneamente, não decrescentes e não crescentes. E ∩ F é o conjunto das
funções constantes ( f (x) = k, ∀ x ∈ A). Para cada elemento de B, teremos uma função constante
(cid:1) = 5005 (exemplo 39), o número de
diferente, então |E ∩ F| = 10. Como |E| = CR6,10 = (cid:0)15
funções f : A → B monótonas é igual à:

6

2 ·

(cid:19)

(cid:18)15
6

− 10 = 10000

Exemplo 41. Seja A = {1, 2, . . . , 7} e B = {1, 2, 3, 4}. Quantas funções f : A → B são sobrejeto-
ras?

Resolução. Uma função é sobrejetora quando todos os elementos do contradomínio (conjunto B)
fazem parte da imagem da função. Para encontrar o número de funções sobrejetoras, usaremos o
princípio da inclusão-exclusão; para isso, calculamos:

1. O número de funções de A em B: há 4 possibilidades de imagem para cada elemento de A,

(cid:1) · 47.
portanto há 47 funções. Para uniformizar a representação, tomaremos 47 como (cid:0)4
4

2. O número de funções onde 1 elemento de B não pertence a imagem: escolhemos 3
elementos a, b e c do conjunto B e calculamos o números de funções f : A → {a, b, c}.
(cid:1) · 37 funções.
Isso resulta em (cid:0)4
3

3. O número de funções onde 2 elementos de B não pertence a imagem: escolhemos 2
elementos a e b do conjunto B e calculamos o números de funções f : A → {a, b}. Isso
(cid:1) · 27 funções.
resulta em (cid:0)4
2

4. O número de funções onde 3 elementos de B não pertence a imagem: (cid:0)4
1

(cid:1) · 17 funções.

Pelo princípio da inclusão-exclusão, o número de funções sobrejetoras é:

(cid:19)

(cid:18)4
4

· 47 +

(cid:19)

(cid:18)4
3

· 37 +

(cid:19)

(cid:18)4
2

· 27 +

(cid:19)

(cid:18)4
1

· 17 = 8400

Exemplo 42. Dados dois conjuntos A e B, ambos com n elementos. Quantas são as funções
bijetoras f : A → B ?

3.4. Número de Stirling de segunda espécie

55

Resolução. Uma função f : A → B é bijetora se todos elementos de B estão associados a um,
e somente um, elemento de A. Se formarmos uma sequência com todos elementos de A, basta
determinar o número de formas de posicionar os elementos de B sobre essa sequência.

Conclusão: Existem n! funções bijetoras f : A → B.

Com base no que foi observado nos exemplos anteriores, forneceremos fórmulas gerais

para a contagem de funções.

Teorema 18 (Número de Funções). Dados dois conjuntos A e B tal que |A| = k e |B| = n,
(n, k ∈ N*).

1. O número total de funções f : A → B é dado por

nk

(∀ k, n)

2. O número de funções f : A → B injetoras é dado por

(cid:19)

(cid:18)n
k

· k! =

n!
(n − k)!

(n ≥ k)

3. O número de funções f : A → B crescentes / decrescentes é dado por

(cid:19)

(cid:18)n
k

(k ≥ n)

4. O número de funções f : A → B não decrescentes / não crescentes é dado por

CRn,k =

(cid:19)

(cid:18)n − 1 + k
k

(∀ k, n)

5. O número de funções f : A → B sobrejetoras, denotado por Fs(n, k), é dado por

k

∑

i=0

(−1)i

(cid:18) k

(cid:19)

k − i

· (k − i)n

(k ≤ n)

6. O número de funções f : A → B bijetoras é dado por

n!

(k = n)

3.4 Número de Stirling de segunda espécie

Exemplo 43. De quantas formas podemos separar 10 crianças em dois grupos, não necessaria-
mente com a mesma quantidade de crianças?

56

Capítulo 3. Combinatória e a teoria de conjuntos

Resolução. Observamos que este não é um caso de combinação completa, pois cada criança
é diferente da outra. Temos 10 crianças, cada qual pode estar no grupo a ou b. Dessa forma,
teríamos 210 grupos. Porém, não faz sentido ter todas as crianças em um só grupo. Subtraímos
então 2 combinações, referentes a todas as crianças no grupo a ou todas no grupo b. Ainda,
como os grupos são indistintos, devemos dividir o total de combinações por 2. Temos, portanto,
210 − 2
2

= 511 formas de separar 10 crianças em dois grupos.

Exemplo 44. De quantas formas podemos separar 10 crianças em três grupos indistintos entre
si?

Resolução. Ressaltamos que cada criança precisa estar associado a um único grupo. Se chamar-
mos de A o conjunto das crianças e B = {a, b, c} o conjunto dos grupos, a associação de cada
aluno a um grupo é uma função.

Como não faz sentido ter grupos vazios, procuramos funções f : A → B onde todos os
elementos de B estão associados a algum elemento de A; ou seja, buscamos funções f : A → B
que sejam sobrejetoras. Como |A| = 10 e |B| = 3, o número de funções sobrejetoras f : A → B é:

Fs(10, 3) =

(cid:19)

(cid:18)3
3

· 310 −

(cid:19)

(cid:18)3
2

· 210 +

(cid:19)

(cid:18)3
1

· 110

Como os grupos são indistintos, devemos ainda dividir o resultado acima por 3!.

Conclusão: O número de formas de se dividir 10 alunos em três grupos indistintos é :

(cid:19)

(cid:20)(cid:18)3
3

1
3!

· 310 −

(cid:19)

(cid:18)3
2

· 210 +

(cid:19)

(cid:18)3
1

(cid:21)

· 110

= 9330

Dividir 10 alunos em 3 grupos indistintos (exemplo 44) é equivalente à particionar um
conjunto de 10 elementos em 3 subconjuntos. O número de formas de se particionar um conjunto
de n elementos em k subconjuntos é conhecido como Número de Stirling de segunda espécie e é
denotado por (cid:8)n
k

(cid:9) ou S(n, k).

Deﬁnição 10 (Número de Stirling de segunda espécie). O número de formas de se particionar
um conjunto de n elementos em k subconjuntos é denominado de Número de Stirling de segunda
espécie.

Teorema 19. O número de Stirling de segunda espécie é calculado pela expressão:

S(n, k) =

(cid:27)

(cid:26)n
k

=

k

∑

i=0

(−1)i · (k − i)n
(k − i)!i!

Demonstração. Para calcular o número de modos de se particionar um conjunto A de n elemen-
tos em k subconjuntos não vazios (isto é, calcular S(n, k)), basta calcular o número de funções
sobrejetoras f : A → B, com B = {c1, c2, . . . , ck}, (onde c1, c2, . . . , ck representam cada subcon-
junto), depois dividir o resultado por k!, já que a ordem que os subconjuntos são, na verdade,

3.4. Número de Stirling de segunda espécie

57

indistintos. Dessa forma, o número de modos de se particionar n elementos em k subconjuntos
não vazios é dada por

1
k!

1
k!

k

∑

i=0
k

∑

i=0
k

∑

i=0

(−1)i

(cid:18) k

(cid:19)

k − i

· (k − i)n =

(−1)i

k!
(k − i)!i!

· (k − i)n =

(−1)i · (k − i)n
(k − i)!i!

Teorema 20. Os Números de Stirling de segunda espécie podem ser obtidos através da recorrên-
cia

(cid:27)

(cid:26)n + 1
k

=

(cid:26) n

(cid:27)

k − 1

+ k

(cid:27)

(cid:26)n
k

Demonstração. Queremos determinar de quantas formas podemos particionar n + 1 elementos
em k subconjuntos.

Seja A = {1, 2, . . . , n}. Há (cid:8)n
k

(cid:9) formas de particionar o conjunto A em k subconjuntos

disjuntos.

Seja A′ = A ∪ {n + 1}. De quantas formas podemos particionar A′ em k subconjuntos?

Vamos dividir em 2 casos:

1o caso - O elemento n + 1 pertencer a um subconjunto não unitário.

Seja P1, P2, . . . , Pk uma partição de A. Podemos inserir o elemento n + 1 em qualquer
subconjunto Pi(i ∈ {1, 2, . . . , k}), formando assim uma partição de A′ em k subconjuntos. Para
(cid:9) partições, n + 1 pode ser inserido em qualquer um dos k subconjuntos. Dessa
cada uma das (cid:8)n
k
forma, obtemos k(cid:8)n
k

(cid:9) partições do conjunto A′ = {1, 2, . . . , n + 1} em k subconjuntos.

2o caso - O elemento n + 1 formar um subconjunto unitário.

Seja P′

1, P′

2, . . . , P′

k−1 uma partição do conjunto A em k − 1 subconjuntos. Os conjuntos
k−1, {n + 1} formam uma partição de A′ em k subconjuntos. Dessa forma, obtemos

2, . . . , P′
(cid:9) partições do conjunto A′ = {1, 2, . . . , n + 1} em k subconjuntos.

P′
1, P′
(cid:8) n
k−1

Juntando os dois casos, temos que o número de partições de uma conjunto de n + 1

elementos em k subconjuntos é dado por:
(cid:26)n + 1
(cid:27)
k

=

(cid:26) n

(cid:27)

k − 1

+ k

(cid:27)

(cid:26)n
k

58

Capítulo 3. Combinatória e a teoria de conjuntos

3.4.1 Triângulo dos números de Stirling de segunda espécie

De forma análoga ao que foi feito com os números binomiais, é interessante organizar os
números de Stirling de segunda espécie numa tabela triangular. Deﬁnindo (cid:8)0
(cid:9) = 1 e usando a
0
relação de recorrência do teorema 20, obtemos o triângulo exibido na Figura 18.

n = 0

n = 1

n = 2

n = 3

n = 4

n = 5

n = 6

(cid:9)
(cid:8)0
0

(cid:9) (cid:8)1
(cid:8)1
(cid:9)
0
1

(cid:9) (cid:8)2
(cid:8)2
(cid:9)
(cid:9) (cid:8)2
0
2
1

(cid:9)
(cid:9) (cid:8)3
(cid:9) (cid:8)3
(cid:8)3
(cid:9) (cid:8)3
3
0
2
1

⇒

(cid:9) (cid:8)4
(cid:9) (cid:8)4
(cid:9) (cid:8)4
(cid:8)4
(cid:9)
(cid:9) (cid:8)4
3
0
4
2
1

(cid:9) (cid:8)5
(cid:9) (cid:8)5
(cid:9) (cid:8)5
(cid:9) (cid:8)5
(cid:8)5
(cid:9) (cid:8)5
5
3
0
4
2
1

(cid:9)

(cid:9) (cid:8)6
(cid:9) (cid:8)6
(cid:9) (cid:8)6
(cid:9) (cid:8)6
(cid:8)6
(cid:9) (cid:8)6
5
3
0
4
2
1

(cid:9)
(cid:9) (cid:8)6
6

1

0

0

0

0

0

0

1

1

1

1

1

1

1

3

7

15

31

1

6

25

90

1 + 7 · 2 = 15

1

10

1

65

15

1

k = 0

k = 1

k = 2

k = 3

k = 4

k = 5

k = 6

k = 0

k = 1

k = 2

k = 3

k = 4

k = 5

k = 6

Figura 18 – Triângulo dos números de Stirling de segunda espécie

Uma das utilidades da tabela acima é auxiliar o cálculo do número de funções sobrejetoras.

Vimos anteriormente que:

(cid:27)

(cid:26)n
k

=

1
k!

· Fs(n, k)

Onde Fs(n, k) representa o número de funções sobrejetoras f : A → B, onde |A| = n e

|B| = k. Portanto, Fs(n, k) pode ser calculado através da fórmula:

Fs(n, k) = k!

(cid:27)

(cid:26)n
k

Exemplo 45 (IME5 - 2016/2017). Seja A = {1, 2, 3, 4}.

a) Quantas funções de A para A têm exatamente 2 elementos em seu conjunto imagem?

b) Entre as 256 funções de A para A, sorteiam-se as funções f e g, podendo haver repetição.

Qual a probabilidade da função composta f ∘ g ser uma função constante?

Resolução. a) Começamos escolhendo 2 elementos a e b para formar o conjunto imagem.
Escolhido a e b, calculamos o número de funções sobrejetoras f : {1, 2, 3, 4} → {a, b}. O
número de funções com exatamente 2 elementos no conjunto imagem é:

(cid:19)

(cid:18)4
2

· Fs(4, 2) =

(cid:19)

(cid:18)4
2

5

Instituto Militar de Engenharia

· 2!

(cid:27)

(cid:26)4
2

= 6 · 2 · 7 = 84

3.4. Número de Stirling de segunda espécie

59

b) f ∘ g é constante se f leva a imagem de g em um único valor. Vamos dividir em casos,

de acordo com o conjunto imagem da função g.

1o caso - O conjunto imagem de g ser unitário: Seja Im(g) = {a}, o conjunto imagem
de g, com a ∈ {1, 2, 3, 4}. Existem (cid:0)4
(cid:1) formas de se escolher essa imagem. Agora, calculamos
1
quantas funções g que levam {1, 2, 3, 4} no elemento a. Para isso, basta calcular o número de
funções sobrejetoras g : {1, 2, 3, 4} → {a}. Existem Fs(4, 1) funções g cujo o conjunto imagem
é unitário.

Agora precisamos escolher a função f . A função f precisa levar a imagem de g (no caso,
o conjunto {a}) em um único valor. Como a pertence ao domínio da f , para qualquer função f ,
f ∘ g será constante. Existem então 44 opções para a função f tal que f ∘ g é constante.

(cid:1) · Fs(4, 1) · 44 funções f e g tais que f ∘ g é constante e o conjunto
Isso resulta em (cid:0)4
1

imagem de g é unitário.

2o caso - O conjunto imagem de g possuir dois elementos: Primeiro, escolhemos 2
elementos (a e b) para formarem o conjunto imagem de g. Feito isso, calculamos o número de
sobrejetoras g : {1, 2, 3, 4} → {a, b}, a, b ∈ {1, 2, 3, 4}

Agora, precisamos determinar a função f . Como im(g) = {a, b}, para f ∘ g ser constante,
a função f deve ser tal que f (a) = f (b). Seja f : {a, b, c, d} → {1, 2, 3, 4}. Para descobrir quantas
funções f satisfazem a condição f (a) = f (b), devemos calcular o número de modos de escolher
a imagem para os valores a, c e d do domínio de f . Como a imagem de b deverá ser igual a
imagem de a, não há escolha para imagem de b. Precisamos, portanto, escolher a imagem para 3
elementos, dentre 4 opções. Existem, então, 43 funções f ′ tal que f ′ ∘ g = f ∘ g é constante.

(cid:1) · Fs(4, 2) · 43 funções f e g tais que f ∘ g é constante e o conjunto
Isso resulta em (cid:0)4
2
imagem de g possui dois elementos.

3o caso - O conjunto imagem de g possuir três elementos: Seguindo o mesmo raciocínio,
existem (cid:0)4
(cid:1) · Fs(4, 3) · 42 funções f e g tais que f ∘ g é constante e o conjunto imagem de g
3
possui três elementos.

(cid:1) · Fs(4, 4) · 41
4o caso - O conjunto imagem de g possuir quatro elementos: Existem (cid:0)4
4
funções f e g tais que f ∘ g é constante e o conjunto imagem de g possui quatro elementos.

Juntando todas as possibilidades, concluímos que o número de funções f ∘ g constantes é

(cid:19)

(cid:19)

(cid:18)4
1
(cid:18)4
1

· Fs(4, 1) · 44 +

· 1!

(cid:27)

(cid:26)4
1

· 44 +

(cid:18)4
2
(cid:18)4
2

(cid:19)

(cid:19)

· Fs(4, 2) · 43 +

· 2!

(cid:27)

(cid:26)4
2

· 43 +

(cid:19)

(cid:19)

(cid:18)4
3
(cid:18)4
3

· Fs(4, 3) · 42 +

· 3!

(cid:27)

(cid:26)4
3

· 42 +

(cid:18)4
4
(cid:18)4
4

(cid:19)

(cid:19)

· Fs(4, 4) · 41 =

· 4!

(cid:27)

(cid:26)4
4

· 41 =

4 · 1 · 1 · 256 + 6 · 2 · 7 · 64 + 4 · 6 · 6 · 16 + 1 · 24 · 1 · 4 = 8800

Como existem 44 · 44 modos de se sortear duas funções f e g, a probabilidade de que a

60

Capítulo 3. Combinatória e a teoria de conjuntos

composição f ∘ g das funções sorteadas seja uma função constante é:

8800
44 · 44 =

8800
65536

=

275
2048

≈ 13, 4%

Conclusão: a probabilidade é de aproximadamente 13,4%.

Veremos agora duas identidades importantes relacionadas aos números de Stirling de

segunda espécie.

Teorema 21. Para qualquer n ∈ N, n ≥ 2, vale a igualdade:

(cid:26) n

(cid:27)

n − 1

=

(cid:19)

(cid:18)n
2

Demonstração. (cid:8) n
(cid:9) representa o número de formas de se particionar um conjunto de n ele-
n−1
mentos em n − 1 subconjuntos. A única forma de particionar n elementos em n − 1 subconjuntos
(cid:1) formas de se escolher
é formar um subconjunto de 2 elementos e n −2 conjuntos unitários. Há (cid:0)n
2
os 2 elementos para formar o 2-subconjunto; portanto:

(cid:26) n

(cid:27)

n − 1

=

(cid:19)

(cid:18)n
2

Teorema 22. Para qualquer n ∈ N, n ≥ 2, vale a igualdade:

(cid:27)

(cid:26)n
2

= 2n−1 − 1

(cid:9) representa o número de formas de se particionar um conjunto de n elementos
Demonstração. (cid:8)n
2
em 2 subconjuntos. Seja o conjunto |A| = n e os subconjuntos B e C tal que A = B∪C e B∩C = ∅.

Seja f a função que associa cada elemento de A a um dos subconjuntos B ou C (sendo
que cada conjunto possui pelo menos um elemento). Existem 2n funções deste tipo. Excluímos
desse resultado as duas funções que levam todos os elementos em um único subconjunto. Como
não há distinção entre os subconjuntos (isto é, feita a distribuição dos elementos, não importa
qual é o subconjunto B e qual é o conjunto C), precisamos dividir o número de funções por 2.
Portanto, o número de formas de se particionar um conjunto de n elementos em 2 subconjuntos é
dado por:

(cid:27)

(cid:26)n
2

=

2n − 2
2

= 2n−1 − 1

3.4. Número de Stirling de segunda espécie

61

3.4.2 Número de Bell

Exemplo 46. De quantas formas podemos particionar o conjunto A = {1, 2, 3, 4, 5, 6} ?

Resolução. Como o conjunto A possui 6 elementos, ele pode ser particionado em 1, 2, 3, 4, 5 ou
6 subconjuntos. Portanto o número total de modos de se particionar esse conjunto é dado por:

(cid:27)

(cid:26)6
1

+

(cid:27)

(cid:26)6
2

+

(cid:27)

(cid:26)6
3

+

(cid:27)

(cid:26)6
4

+

(cid:27)

(cid:26)6
5

+

(cid:27)

(cid:26)6
6

= 1 + 31 + 90 + 65 + 15 + 1 = 203

Deﬁnição 11 (Número de Bell). O número de modos de se particionar um conjunto de n
elementos, é chamado de n-ésimo número de Bell e denotado por Bn.

Teorema 23. O n-ésimo número de Bell é calculado pela expressão:

Bn =

n

∑

i=0

(cid:27)

(cid:26)n
i

(cid:9) calcula o número de modos de se particionar um conjunto de
Demonstração. O número (cid:8)n
i
n elementos em i subconjuntos. Variando i de 0 a n subconjuntos, teremos todos subconjuntos
possíveis. Dessa forma, o número de modos de particionar um conjunto de n elementos é igual à

n

∑

i=0

(cid:27)

(cid:26)n
i

63

CAPÍTULO

4

PERMUTAÇÕES NA ÁLGEBRA ABSTRATA

O objetivo deste capítulo é realizar um aprofundamento no estudo das permutações, sob
a ótica da álgebra abstrata. No capítulo 2, deﬁnimos permutação, de maneira pouco formal, como
uma mudança de posição dos elementos de uma sequência. Na álgebra abstrata, uma permutação
é deﬁnida como uma bijeção de um conjunto A, ﬁnito, nele mesmo.

Deﬁnição 12 (Permutação). Seja o conjunto A, ﬁnito e não vazio e f : A → A, uma função
bijetora. A função f é dita uma permutação do conjunto A.

Essa deﬁnição é válida para qualquer conjunto A ﬁnito não vazio. O conjunto A pode ser
um conjunto de números naturais ou não, podendo, inclusive, ser um conjunto não numérico. Para
qualquer conjunto ﬁnito A, com |A| = n, podemos estabelecer uma bijeção T : A → {1, 2, . . . , n},
pois os dois conjuntos tem o mesmo número de elementos. Dessa forma, podemos substituir, sem
perda de generalidade, as permutações de qualquer conjunto A de n elementos pelas permutações
do conjunto de números naturais {1, 2, . . . , n}. Denotaremos o conjunto {1, 2, . . . , n} por [n][n][n].

4.1 O Grupo das Permutações

Dado o conjunto [n] = {1, 2, . . . , n}, existem n! permutações distintas para esse conjunto.
Ou seja, existem n! funções bijetoras de [n] em [n]. Denotamos por SnSnSn o conjunto de todas
as permutações do conjunto [n]. Mostraremos a seguir que o conjunto Sn, juntamente com a
composição de funções forma um grupo, denominado de grupo das permutações de n.

Deﬁnição 13 (Grupo 6). Um sistema matemático constituído de um conjunto não vazio G e
uma operação (x, y) → x ∘ y sobre G é chamado grupo se essa operação possui as seguintes
propriedades:

6 Deﬁnição extraída de Domingues e Iezzi (2003).

64

Capítulo 4. Permutações na álgebra abstrata

∙ Associatividade: (a ∘ b) ∘ c = a ∘ (b ∘ c) ∀ a, b, c ∈ G.

∙ existência de elemento neutro: existe e ∈ G tal que a ∘ e = e ∘ a = a, ∀ a ∈ G.

∙ Existência de simétrico (inverso): ∀ a ∈ G , existe a′ ∈ G tal que a ∘ a′ = a′ ∘ a = e.

Se, além disso, possuir a propriedade da comutatividade (a ∘ b = b ∘ a, ∀ a, b ∈ G), esse grupo é
dito comutativo ou abeliano.

Teorema 24. O conjunto das permutações Sn juntamente com a operação composição de funções
(∘) é um grupo (não comutativo).

Demonstração. Vamos mostrar que Sn juntamente com a operação composição de funções (∘)
obedece cada condição necessária para ser um grupo.

1. Fechamento de Sn: Quando dizemos que uma operação ∘ está deﬁnida sobre um conjunto

G, isso implica que, para qualquer a, b ∈ G, a ∘ b ∈ G.

Sejam as funções bijetoras f : [n] → [n] e g : [n] → [n]. Por deﬁnição f , g ∈ Sn. A função
g : [n] → [n] é bijetora, portanto sua imagem é o próprio conjunto [n]. Ao compor f ∘ g =
f (g(x)), levamos o conjunto imagem de g (conjunto [n]) em [n] através da função f . Como
f também é bijetora, ao receber o conjunto [n] (imagem de g), retorna como imagem o
conjunto [n]. Dessa forma, f ∘ g = f (g(x)) é uma bijeção de [n] em [n].

Conclusão: f ∘ g ∈ Sn, ∀ f , g ∈ Sn.

2. Associatividade:

Iremos mostrar que f ∘ (g ∘ h) = ( f ∘ g) ∘ h, para qualquer f , g, h ∈ Sn. Sejam f : [n] → [n],
g : [n] → [n], h : [n] → [n] tais que

f (1) = f1,

f (2) = f2, . . . ,

f (n) = fn

g(1) = g1, g(2) = g2, . . . , g(n) = gn

h(1) = h1, h(2) = h2, . . . , h(n) = hn

Temos que { f1, f2, . . . , fn} = {g1, g2, . . . , gn} = {h1, h2, . . . , hn} = [n] pois f , g e h são
bijeções de [n] em [n].

Para todo i ∈ [n], temos que g ∘ h(i) = g(h(i)) = g(hi) = g j, para algum j ∈ [n] e f ∘ (g ∘
h)(i) = f (g(h(i))) = f (g(hi)) = f (g j) = fk, para algum k ∈ [n], pois g e f é bijetora.
Portanto, ∀ i ∈ [n], f ∘ (g ∘ h)(i) = fk, k ∈ [n].

Analisemos agora ( f ∘ g) ∘ h. Seja r(x) = f ∘ g(x) = f (g(x)), ∀ x ∈ [n]. Em particular,
tomando x = hi, r(hi) = f (g(hi)) = f (g j) = fk, então ( f ∘ g) ∘ h(i) = r ∘ h(i) = r(h(i)) =
r(hi) = fk. Logo ( f ∘ g) ∘ h(i) = f ∘ (g ∘ h)(i), ∀ i ∈ [n].

Conclusão: f ∘ (g ∘ h) = ( f ∘ g) ∘ h, ∀ f , g, h ∈ Sn.

4.2. Notações usuais para permutação

65

3. Existência do elemento neutro:

Vamos mostrar que a função identidade e : [n] → [n],deﬁnida como e(x) = x é o elemento
neutro da composição. Para isso, basta mostrar que e ∘ f = f ∘ e = f .

Temos que e ∘ f (i) = e( f (i)) = e( fi) = fi = f (i), ∀ i ∈ [n]. Da mesma forma, f ∘ e(i) =
f (e(i)) = f (i), ∀ i ∈ [n]. Portanto f ∘ e(i) = e ∘ f (i) = f (i), ∀ i ∈ [n].

Conclusão: e ∘ f = f ∘ e = f , ∀ f ∈ Sn.

4. Existência do elemento inverso:

vamos mostrar que para qualquer f ∈ Sn existe g ∈ Sn tal que f ∘ g = g ∘ f = e, em que e é
a função identidade.

Seja a função bijetora f : [n] → [n], tal que f (1) = f1, f (2) = f2, . . . , f (n) = fn. Temos
que { f1, f2, . . . , fn} = [n]. Dada a função f , podemos deﬁnir a função bijetora g : [n] → [n]
tal que: g( f1) = 1, g( f2) = 2, . . . , g( fn) = n. As funções f , g ∈ Sn pois são bijeções de [n].
g ∘ f (i) = g(( f (i))) = g( fi) = i, ∀ i ∈ [n]. f ∘ g( fi) = f (g( fi)) = f (i) = fi, ∀ fi ∈ [n]. Logo
g ∘ f (x) = x = f ∘ g(x), ∀ x ∈ [n].

Conclusão: g ∘ f = f ∘ g = e, em que e é a função identidade.

Conclusão ﬁnal: Como Sn juntamente com a composição de funções (∘) obedece às quatro
condições da deﬁnição, o sistema (Sn, ∘) é um grupo.

A notação formal do grupo das permutações de n elementos é (Sn, ∘), mas por simplici-

dade de notação iremos nos referir a esse grupo como o grupo Sn.

4.2 Notações usuais para permutação

Sejam o conjunto [n] = {1, 2, . . . , n} e a função bijetora σ : [n] → [n] tal que σ (1) =
σ1, σ (2) = σ2, . . . , σ (n) = σn. Podemos usar a seguinte notação de duas linhas7 para denotar
essa permutação

σ =

(cid:32)

1
2
3
σ1 σ2 σ3

(cid:33)

. . . n − 1
n
. . . σn−1 σn

Na notação de duas linhas, a linha superior indica os valores do domínio e a linha inferior
suas respectivas imagens. Apesar de não ser uma regra, costuma-se ordenar a linha superior em
ordem crescente. Estando a linha superior organizada em ordem crescente, podemos omití-la
sem perda de informações; a permutação σ pode ser denotada então por σ = σ1σ2σ3 . . . σn−1σn.
Essa notação é denominada notação de uma linha.

7 Tradução livre do termo “two-row notation” utilizado por Bhattacharya, Jain e Nagpaul (1986).

66

Capítulo 4. Permutações na álgebra abstrata

Exempliﬁcando: A notação σ = (cid:0) 1 2 3 4 5
2 1 4 3 5

(cid:1) representa a função bijetora f : [5] → [5] deﬁ-
nida por f (1) = 2, f (2) = 1, f (3) = 4, f (4) = 3 e f (5) = 5. Podemos denotar essa permutação,
na notação de uma linha, por σ = 21435.

Exemplo 47. Sejam as permutações f e g representadas na notação de uma linha por f = 143256
e g = 234165. Encontre a permutação h tal que h = f ∘ g.

Resolução. As permutações f = 143256 e g = 234165 indicam que

f (1) = 1, f (2) = 4, f (3) = 3, f (4) = 2, f (5) = 5 e f (6) = 6

g(1) = 2, g(2) = 3, g(3) = 4, g(4) = 1, g(5) = 6 e g(6) = 5

Queremos encontrar h tal que h(x) = f ∘ g(x) = f (g(x)), x ∈ {1, 2, 3, 4, 5, 6}. Temos
que h(1) = f (g(1)) = f (2) = 4. Poderíamos repetir esse processo para todos os valores do
domínio para determinar o mapeamento de h. Há, porém, uma forma mais prática de determinar
h usando a notação em duas linhas. Escrevemos a permutação g, e a permutação f abaixo dessa,
reordenando as colunas de f de modo que primeira linha da permutação f coincida com a
segunda linha da permutação g. A permutação h é obtida pela junção da primeira linha da g e a
última linha da f , conforme pode ser observado na Figura 19.

f =

(cid:18) 1 2 3 4 5 6
1 4 3 2 5 6

(cid:19)

f reordenada

g =

(cid:18) 1 2 3 4 5 6
2 3 4 1 6 5

(cid:19)

g =

f =

f ∘ g =

(cid:18) 1 2 3 4 5 6
2 3 4 1 6 5
(cid:18) 2 3 4 1 6 5
4 3 2 1 6 5
(cid:18) 1 2 3 4 5 6
4 3 2 1 6 5

(cid:19)

(cid:19)

(cid:19)

Figura 19 – Obtenção da composição h = f ∘ g usando a notação de duas linhas.

Conclusão: A permutação h é dada por h = (cid:0) 1 2 3 4 5 6
4 3 2 1 6 5

(cid:1) ou, na notação de uma linha,

h = 432165.

Exemplo 48. Sejam as permutações f = 45312, g = 12543 e h = 54132. Obtenha a permutação
resultante σ = f ∘ g ∘ h.

Resolução. Aplicando a mesma técnica usada no exemplo anterior, obtemos:

(cid:32)

f =

1 2 3 4 5
4 5 3 1 2

(cid:33)

(cid:32)

, g =

1 2 3 4 5
1 2 5 4 3

(cid:33)

(cid:32)

e h =

(cid:33)

1 2 3 4 5
5 4 1 3 2

4.2. Notações usuais para permutação

67

h =

g =

f =

(cid:32)

(cid:32)

(cid:32)

(cid:32)

f ∘ g ∘ h =

(cid:33)

(cid:33)

(cid:33)

(cid:33)

1 2 3 4 5
5 4 1 3 2

5 4 1 3 2
3 4 1 5 2

3 4 1 5 2
3 1 4 2 5

1 2 3 4 5
3 1 4 2 5

Conclusão: σ = f ∘ g ∘ h = 31425.

Exemplo 49. Encontre a permutação inversa de f = 615324.

Resolução. A permutação inversa de f é uma função f −1 tal que f −1 ∘ f = e = 123456. Usando
a notação de duas linhas e o processo utilizado nos exemplos anteriores, obtemos

(cid:32)

f =

1 2 3 4 5 6
6 1 5 3 2 4

(cid:33)

(cid:32)

e f −1 =

2

3

1
6
σ1 σ2 σ3 σ4 σ5 σ6

4

5

(cid:33)

f =

f −1 =

(cid:32)

(cid:32)

(cid:32)

f −1 ∘ f =

1
6

2
1

3
5

4
3

5
2

6
4

1

5

6
4
σ6 σ1 σ5 σ3 σ2 σ4

3

2

1
1

2
2

3
3

4
4

5
5

6
6

(cid:33)

(cid:33)

(cid:33)

Conclusão: σ1 = 2, σ2 = 5, σ3 = 4, σ4 = 6, σ5 = 3, σ6 = 1, portanto f −1 = 254631.

Outra forma usual de denotar permutações é através de ciclos de permutações. Antes de

deﬁnir formalmente um ciclo de permutação, vamos ilustrar através de um exemplo.

Seja a permutação f = (cid:0) 1 2 3 4 5 6
3 1 6 5 4 2

(cid:1). A permutação f mapeia os elementos da seguinte
forma:1 → 3, 3 → 6, 6 → 2, 2 → 1; e 4 → 5, 5 → 4. Se acompanharmos a sequência de
mapeamentos, o elemento 1 é levado ao elemento 3, que é levado ao elemento 6, que é levado
ao elemento 2, que, por ﬁm, é levado ao elemento 1. Da mesma forma, o elemento 4 é levado
ao elemento 5, que é levado de volta ao elemento 4. Dizemos então que essa permutação é
formada pelos ciclos (1362) e (45). Representamos a permutação f através da notação de ciclos
f = (1362)(45). A Figura 20 ilustra os ciclos (1362) e (45) que formam a permutação f .

Ressaltamos que (1362), (2136), (6213) e (3621) representam o mesmo ciclo.

68

Capítulo 4. Permutações na álgebra abstrata

6

3

2

1

4

5

Figura 20 – Ilustração dos ciclos (1362) e (45)
.

Deﬁnição 14 (Ciclos de permutação). Sejam a1, a2, . . . , ar elementos distintos do conjunto [n].
A permutação f ∈ Sn deﬁnida por

f (ai) = ai+1,

∀ i ∈ {1, 2, . . . , r − 1}

f (ar) = a1

f (x) = x,

∀x ∈ [n] : x /∈ {a1, a2, . . . , ar}

é denominada um r-ciclo e representado por (a1 a2 . . . ar). O número r é denominado compri-
mento do ciclo.

Deﬁnição 15 (Transposição). Um ciclo de permutação de comprimento dois (2-ciclo) é denomi-
nado de transposição.

4.3 Ciclos de permutação

Nesta seção veremos alguns resultados importantes envolvendo os ciclos de permutação.

Deﬁnição 16 (Ciclos disjuntos). Dois ciclos (a1 a2 . . . ar) e (b1 b2 . . . br) são ditos disjuntos
se

{a1, a2, . . . , ar} ∩ {b1, b2, . . . , bk} = ∅.

Deﬁnição 17 (Conjunto suporte). Dado um ciclo σ = (σ1 σ2 . . . σk), o conjunto {σ1, σ2, . . . , σk}
é denominado conjunto suporte do ciclo σ e denotado por sup(σ ).

Teorema 25. A composição de dois ciclos disjuntos comutam.

Demonstração. Sejam a = (a1, a2, . . . , ar) e b = (b1, b2, . . . , bk) dois ciclos disjuntos. Sejam os
conjuntos suportes sup(a) = {a1, a2, . . . , ar} = A e sup(b) = {b1, b2, . . . , bt} = B.

O ciclo a = (a1, a2, . . . , ar) representa a função a : [n] → [n] tal que a(a1) = a2,
a(a2) = a3, . . . , a(ar−1) = ar, a(ar) = a1 e f (x) = x, ∀ x /∈ A. Da mesma forma, o ciclo b =
(b1, b2, . . . , bt) representa a função b : [n] → [n] tal que b(b1) = b2, b(b2) = b3, . . . , b(bt−1) = bt,
b(bt) = b1 e f (x) = x, ∀ x /∈ B.

4.3. Ciclos de permutação

69

Mostraremos que a ∘ b = b ∘ a. Suponhamos, sem perda de generalidade, que t ≥ r.

Analisemos agora as composições a ∘ b(x) e a ∘ b(x), para todo x ∈ [n]:

Seja x ∈ A:

Tome a composição a ∘ b(x) = a (b(x)), x ∈ A.

b(ai) = ai, ∀ i ∈ {1, 2, . . . , r} pois a1, a2, . . . , ar /∈ B. Logo

a ∘ b(ai) = a (b(ai)) = a(ai) = ai+1,

∀ i ∈ {1, 2, . . . , r − 1}

a ∘ b(ar) = a (b(ar)) = a(ar) = a1

Tome agora composição b ∘ a(x) = b (a(x)), x ∈ A.

a(ai) = ai+1, ∀ i ∈ {1, 2, . . . , r − 1} e a(ar) = a1. Como a1, a2, . . . , ar /∈ B então

b ∘ a(ai) = b (a(ai)) = b(ai+1) = ai+1

∀ i ∈ {1, 2, . . . , r − 1}

b ∘ a(ar) = b (a(ar)) = b(a1) = a1

Portanto, a ∘ b(x) = b ∘ a, x ∈ A.

Seja x ∈ B:

Tome a composição a ∘ b(x) = a (b(x)), x ∈ B.

b(bi) = bi+1, ∀ i ∈ {1, 2, . . . ,t − 1} e b(bt) = b1. Como b1, b2, . . . , bt /∈ A então

a ∘ b(bi) = a (b(bi)) = a(bi) = bi+1

∀ i ∈ {1, 2, . . . ,t − 1}

a ∘ b(br) = a (b(bt)) = a(b1) = b1

Tome agora composição b ∘ a(x) = b (a(x)), x ∈ B.

a(bi) = bi, ∀ i ∈ {1, 2, . . . ,t} pois b1, b2, . . . , bt /∈ A. Logo

b ∘ a(bi) = b (a(bi)) = b(bi) = bi+1

∀ i ∈ {1, 2, . . . ,t − 1}

b ∘ a(ar) = b (a(bt)) = b(bt) = b1

Portanto, a ∘ b(x) = b ∘ a, x ∈ B. Seja x /∈ A ∪ B:

Neste caso, a (b(x)) = a(x) = x, pois x /∈ A e x /∈ B.

Da mesma forma, b (a(x)) = b(x) = x pois x /∈ A e x /∈ B.

Portanto, a ∘ b(x) = b ∘ a, x /∈ A ∪ B.

Conclusão: a ∘ b(x) = b ∘ a(x), ∀ x ∈ [n]. Isto é, dois ciclos disjuntos comutam.

A composição de ciclos é uma composição de permutações que, por sua vez, é uma
composição de funções. Como vimos no resultado anterior, a composição de dois ciclos disjuntos
é comutativa, mas esse resultado não é válido para ciclos não disjuntos. Quando os ciclos não
são disjuntos, essa operação deve ser realizada da direita para a esquerda.

70

Capítulo 4. Permutações na álgebra abstrata

Exemplo 50. Encontre o ciclo de permutação resultante da composição (24) ∘ (142) em S4.

Resolução. Esse problema podeira ser resolvido usando a notação de duas linhas, como no
exemplo 47 e exemplo 48. Porém, resolveremos utilizando o conceito de ciclo de permutação.

Sendo c = (142) e b = (24), a composição desejada é b ∘ c. O ciclo c leva 1 em 4, 4 em

2 e 2 em 1. O ciclo b leva 2 em 4 e 4 em 2. O elemento 3 é levado nele mesmo.

A composição b ∘ c(x) indica que o elemento x é levado em um elemento y pela função c

que é levado a um elemento z pela função b. Em notação mais sintética: x → y → z.

Analisando b ∘ c(x), temos que:

b ∘ c(1) : 1 → 4 → 2 =⇒ 1 → 2

b ∘ c(2) : 2 → 1 → 1 =⇒ 2 → 1

b ∘ c(3) : 3 → 3 → 3 =⇒ 3 → 3

b ∘ c(4) : 4 → 2 → 4 =⇒ 4 → 4

Dessa forma, obtemos o seguinte mapeamento: 1 → 2, 2 → 1, 3 → 3 e 4 → 4. Portanto
b ∘ c = (24)(142) = (12)(3)(4). Os ciclos unitários (3) e (4) podem ser omitidos, temos então
que b ∘ c = (12). A Figura 21 mostra a representação em grafos dos ciclos b, c e o ciclo b ∘ c.

b

c

1

b ∘ c

⇒

b ∘ c

1

2

4

c

1

b

4

b ∘ c

4

2

⇒

2

4

c

b

c

1
1

2
2

4
4

2

b

b ∘ c

Figura 21 – Grafos dos ciclos b = (24), c = (142) e a composição b ∘ c.

Exemplo 51. Encontre o ciclo de permutação resultante da composição de (132)(24)(142).

Resolução. Sejam os ciclos a = (132) b = (24) e c = (142). Podemos realizar a composição
a ∘ b ∘ c como a ∘ (b ∘ c) ou podemos compor diretamente os três ciclos.

4.3. Ciclos de permutação

71

a ∘ b ∘ c(1) : 1 → 4 → 2 → 1 =⇒ 1 → 1

a ∘ b ∘ c(2) : 2 → 1 → 1 → 3 =⇒ 2 → 3

a ∘ b ∘ c(3) : 3 → 3 → 3 → 2 =⇒ 3 → 2

a ∘ b ∘ c(4) : 4 → 2 → 4 → 4 =⇒ 4 → 4

Temos então que a ∘ b ∘ c = (1)(23)(4) = (23), conforme ilustrado pela Figura 22.

a

b

2

c

3

2

4

2

⇒

1

4

1

a

3
3

c

a ∘ b ∘ c

1

b

1

3

b

3

a ∘ b ∘ c

c

a

2
2

c

4

1
1

b

a

2

c

2

4
4

b

a

4

a ∘ b ∘ c

a ∘ b ∘ c

a ∘ b ∘ c

2

3

4

1

⇒

Figura 22 – Composição dos ciclos a = (132), b = (24), c = (142).

Mostraremos agora alguns resultados importantes relativos aos ciclos de permutações.

Teorema 26. Toda permutação pode ser descrita de forma única por uma composição de ciclos
disjuntos, exceto, possivelmente, pela ordem dos fatores.

Demonstração. Dividiremos esta demonstração em duas partes: primeiro mostraremos que toda
permutação pode ser escrita como uma composição de ciclos disjuntos; depois mostraremos que
essa decomposição é única, exceto pela ordem dos fatores.

1 - Toda permutação pode ser escrita como uma composição de ciclos disjuntos.

Mostremos inicialmente que, dada uma permutação f : [n] → [n], qualquer elemento

pertence a algum ciclo.

Seja a1 ∈ [n]. Se f (a1) = a1, o elemento a1 forma um ciclo unitário (a1). Se f (a1) ̸= a1,
f (a2) =

mostraremos que existem elementos distintos a2, a3, . . . , ak ∈ [n], tal que f (a1) = a2,

72

Capítulo 4. Permutações na álgebra abstrata

f (ak−1) = ak,

a3, . . . ,
a2, a3, . . . , ak ∈ [n] tal que σ1 = (a1 a2 . . . ak) é um ciclo.

f (ak) = a1 para algum k ∈ {1, 2, . . . , n}. Em outras palavras, existem

Suponha, por absurdo, que não existe k ∈ {1, 2, . . . , n} tal que f (a1) = a2, f (a2) = a3,

. . . , f (ak−1) = ak e f (ak) = a1. Para isso, existem duas possibilidades:

i) O ciclo retorna para um ponto diferente do inicial: isto é, f (a1) = a2, f (a2) = a3, . . . ,
f (ak−1) = ak e f (ak) = ai, para algum i ∈ {2, 3, . . . , k} (ai ̸= a1). Absurdo, pois f (ak) = ai e
f (ai−1) = ai, o que contraria o fato de f ser bijetora.

ii) O ciclo não termina: isto é, f (ak) ̸= a1, ∀ k ∈ {1, 2, . . . , n}. Absurdo, pois f é uma

bijeção, portanto, existe ak ∈ {1, 2, . . . , n} tal que f (ak) = a1.

Resultado 1: para qualquer elemento a1 ∈ [n], existe k ∈ [n] tal que σ1 = (a1 a2 . . . ak) é

um ciclo.

Sejam σ1 = (a1 a2 . . . ak) e b1 ∈ [n] /∈ sup(σ1). Se b1 não pertence ao ciclo σ1, existem
b2, b3, . . . , b j, tal que σ2 = (b1 b2 . . . b j) para algum j ∈ {1, 2, . . . , n − k}. Como b1 /∈ sup(σ1),
então sup(σ2) ∩ sup(σ1) = ∅ pois f é bijetora e não pode haver dois elementos bm, an com
mesma imagem. Portanto σ2 é um ciclo de f disjunto de σ1.

Resultado 2: se um elemento b1 não pertence ao ciclo σ1, ele pertence a um ciclo

σ2 = (b1 b2 . . . b j) tal que σ1 e σ2 são disjuntos.

Dada a função f : [n] → [n], temos que cada elemento x ∈ [n] pertence a um, e somente
um, ciclo. Como [n] é um conjunto ﬁnito, existe uma quantidade ﬁnita de ciclos disjuntos
σ1, σ2, . . . , σp (p ≤ n) tal que f = σ1 ∘ σ2 ∘ . . . σp.

Conclusão 1: qualquer permutação pode ser escrita como uma composição de ciclos

disjuntos.

2 - A representação de uma permutação em ciclos disjuntos é única.

Seja f uma permutação tal que f = σ1σ2 . . . σp, onde σ1, σ2, . . . , σp é uma decomposição
de σ em ciclos disjuntos (incluindo os ciclos unitários). Mostraremos que, se existe uma decom-
posição de f em ciclos disjunto τ1, τ2, . . . , τq, tal que f = τ1τ2 . . . τq, então {σ1, σ2, . . . , σp} =
{τ1, τ2, . . . , τq} (isto é, ∀ i ∈ {1, 2, . . . , p}, ∃ ! j ∈ {1, 2, . . . , q} : σi = τ j).

Temos que, para todo ai ∈ [n], existe σi ∈ {σ1, σ2, . . . , σp}, tal que ai ∈ sup(σi). Da

mesma forma, existe τ j ∈ {τ1, τ2, . . . , τq} tal que ai ∈ sup(τ j). Vamos mostrar que σi = τ j.

Seja o ciclo σ1 ∈ {σ1, σ2, . . . , σp} tal que a1 ∈ σ1. Seja σ1 = (a1 a2 a3 . . . ak); este ciclo
existe e é único. Como σ1 é um ciclo de f , f (a1) = a2, f (a2) = a3, . . . , f (ak−1) = ak e f (ak) = a1.
Seja τ j ∈ {τ1, τ2, . . . , τq} tal que ai ∈ sup(τ j). Como τ j é um ciclo de f , f (a1) = a2 ∈ sup(τ j),
f (a2) = a3 ∈ sup(τ j), . . . , f (ak−1) = ak ∈ sup(τ j).

Suponha por absurdo, que existe b1 ∈ sup(τ j), tal que b1 /∈ {a1, a2, . . . , ak}. Se b1 /∈
{a1, a2, . . . , ak}, qualquer ciclo que contenha b1 é disjunto do ciclo (a1 a2 a3 . . . ak); absurdo.

4.3. Ciclos de permutação

73

Logo, não existe b1 ∈ sup(τ j), tal que b1 /∈ {a1, a2, . . . , ak}. Portanto, τ j = (a1 a2 a3 . . . ak) =
σ1.

Conclusão 2: Quaisquer duas decomposições de f são idênticas, exceto, possivelmente,

pela ordem dos fatores.

Conclusão ﬁnal: Qualquer permutação pode ser representada de forma única como a

composição de ciclos disjuntos, exceto, possivelmente, pela ordem dos ciclos.

Deﬁnição 18 (Ordem de uma permutação). Seja σ ∈ Sn. Deﬁnimos como ordem de σ , denotado
por o(σ ) o menor número r (r ∈ N*) tal que σ r = e, onde e representa a permutação identidade.

Teorema 27. Seja σ ∈ Sn tal que σ = τ1 ∘ τ2 ∘ . . . ∘ τk, onde τ1, τ2, . . . , τk ciclos disjuntos de
comprimentos τ1 = r1, τ2 = r2, . . . , τk = rk. A ordem de σ é dada por

o(σ ) = mmc(r1, r2, . . . , rk)

Demonstração. A ordem de um ciclo τi é o próprio comprimento ri, pois esse é o número de
vezes que precisamos compor o ciclo τi para que um elemento ai retorne a ele mesmo. Temos
então que τ k·ri
̸= e para qualquer x que não seja múltiplo
de ri.

i = e, para qualquer número k ∈ Z e τ x
i

Dessa forma, σ x = τ x

k = e se, somente se, x é um múltiplo de r1, r2, . . . , rk.
Como a ordem de σ é deﬁnida como o menor número r tal que σ r = e, esse número r é dado por

2 ∘ . . . ∘ τ x

1 ∘ τ x

r = o(σ ) = mmc(r1, r2, . . . , rk)

4.3.1 Número de Stirling de primeira espécie

Deﬁnição 19 (Forma cíclica canônica8). Seja a permutação σ ∈ Sn e σ = τ1 ∘ τ2 ∘ . . . ∘ τk a
decomposição de σ em ciclos disjuntos. A forma canônica é uma representação de σ tal que
a representação de cada ciclo é iniciada com seu maior elemento e os ciclos são ordenados na
composição, da esquerda para direita, em ordem crescente de seu maior elemento. Além disso,
os ciclos unitários são omitidos.

Vamos exempliﬁcar a notação em forma canônica. Seja σ = (56)(143)(827). Pri-
meiro, reescrevemos os ciclos de modo a serem iniciados por seus maiores elementos: σ =
(65)(431)(827). Depois, ordenamos os ciclos em ordem crescente de seu maior elemento; assim,
a permutação σ , é representada na notação canônica por σ = (431)(65)(827).

8 Deﬁnição extraída de BÓNA (2006, p. 111). O termo forma cíclica canônica é uma tradução livre do

termo canonical cycle form realizada pelo autor.

74

Capítulo 4. Permutações na álgebra abstrata

Uma das grandes vantagens da notação canônica é o fato dela ser única, isto é, a notação
na forma canônica está relacionada de forma biunívoca com as permutações σ ∈ Sn. Usaremos
esse fato para calcular o número de permutações de Sn que possuem exatamente k ciclos disjuntos.

Deﬁnição 20 (Número de Stirling de primeira espécie (sem sinal)9). O número de permutações
de σ ∈ Sn que possuem exatamente k ciclos disjuntos é denominado de número de Stirling de
(cid:3).
primeira espécie e denotado por c(n, k) ou (cid:2)n
k

Teorema 28. Os números de Stirling de primeira espécie podem ser obtidos através da recorrên-
cia

(cid:21)
(cid:20)n + 1
k

=

(cid:21)

(cid:20) n
k − 1

+ n

(cid:21)
(cid:20)n
k

∀ n ∈ N, k ∈ N*

Demonstração. Calcularemos quantas permutações de k ciclos podem ser obtidas inserindo o
(cid:3) o número de permutações σ ′ ∈ Sn+1 com k
elemento n + 1 nas permutações σ ∈ Sn. Seja (cid:2)n+1
ciclos. Podemos obter uma permutação σ ′ ∈ Sn+1 com k ciclos das seguintes formas:

k

1-Tomamos uma permutação σ ∈ Sn que possui k − 1 ciclos e inserimos o elemento n + 1

como um ciclo unitário.

Para cada permutação σ = τ1 ∘ τ2 ∘ . . . ∘ τk−1 ∈ Sn formada pelos ciclos τ1, τ2, . . . τk−1,
formamos uma nova permutação σ ′ ∈ Sn+1 deﬁnida como σ ′ = τ1 ∘ τ2 ∘ . . . ∘ τk−1 ∘ (n + 1). Como
σ tem k − 1 ciclos, σ ′ terá k ciclos. Com esse procedimento, obtemos (cid:2) n
(cid:3) permutações com k
k−1
ciclos.

2- Tomamos uma permutação σ ∈ Sn que possui k ciclos e inserimos o elemento n + 1

em um dos ciclos já existentes.

Para isso, precisamos determinar onde iremos inserir o elemento n + 1. Primeiro escre-
vemos a permutação σ na forma canônica, evitando assim contar mais de uma vez a mesma
inserção. Seja σ = (σ1 σ2 . . . σi)(σi+1 σi+2 . . . σ j) . . . (σs+1 σs+2 . . . σn) a decomposição de σ
em ciclos disjuntos escrito na forma canônica. Podemos inserir o elemento n + 1 à direita de
cada elemento σi formando assim uma nova permutação a cada inserção.

Note que, inserindo o elemento n + 1 sempre à direita, não há risco de formarmos o

mesmo ciclo duas vezes, pois dado um ciclo (σk σk+1 . . . σl)

(σk (n + 1) σk+1 . . . σl) ̸= (σk σk+1 (n + 1) . . . σl) ̸= . . . ̸= (σk σk+1 . . . σl (n + 1))

Portanto, a cada σ ∈ Sn que possui k ciclos, há n modos de formar uma permutação

σ ′ ∈ Sn+1 com k ciclos. Obtemos então uma parcela de n · (cid:2)n
9 Destacamos a expressão sem sinal pois existem os número de Stirling de primeira espécie com
sinal deﬁnidos como s(n, k) = (−1)n−kc(n, k). Os números de Stirling de primeira espécie com
sinal são utilizado na expansão do produto (x)n = x(x − 1)(x − 2) . . . (x − n + 1) através da fórmula
(x)n = ∑n

s(n, k)xk. De qualquer forma, o número com sinal não será utilizado neste trabalho.

(cid:3) permutações com k ciclos.

k=0

k

4.4. Paridade de uma permutação

75

Somando os dois resultados, concluímos que

(cid:21)

(cid:20)n + 1
k

=

(cid:21)

(cid:20) n
k − 1

+ n

(cid:21)

(cid:20)n
k

4.3.2 Triângulo do números de Stirling de primeira espécie

(cid:3) = 0, podemos montar um triângulo com os números de Stirling
(cid:3) = 1 e (cid:2)1
Deﬁnindo (cid:2)0
0
0
de primeira espécie a partir da recorrência demonstrada no teorema 28, conforme exibido na
Figura 23.

n = 0

n = 1

n = 2

n = 3

n = 4

n = 5

n = 6

(cid:3)
(cid:2)0
0

(cid:3)
(cid:2)1
0

(cid:3)
(cid:2)2
0

(cid:3)
(cid:2)3
0

(cid:3)
(cid:2)4
0

(cid:3)
(cid:2)5
0

(cid:3)
(cid:2)6
0

(cid:3)

(cid:2)1
1

(cid:3)

(cid:2)2
1

(cid:3)

(cid:2)3
1

(cid:3)

(cid:2)4
1

(cid:3)

(cid:2)5
1

(cid:3)

(cid:2)6
1

(cid:3)
(cid:2)2
2

(cid:3)
(cid:2)3
2

(cid:3)
(cid:2)4
2

(cid:3)
(cid:2)5
2

(cid:3)
(cid:2)6
2

n = 0

n = 1

n = 2

n = 3

n = 4

n = 5

n = 6

1

0

0

0

0

0

0

1

1

2

6

24

1

3

11

50

6 + 11 · 4 = 50

1

6

1

35

10

1

120 274 225

85

15

1

(cid:3)

(cid:2)3
3

(cid:3)

(cid:2)4
3

(cid:3)

(cid:2)5
3

(cid:3)

(cid:2)6
3

(cid:3)
(cid:2)4
4

(cid:3)
(cid:2)5
4

(cid:3)
(cid:2)6
4

⇒

(cid:3)
(cid:2)5
5

(cid:3)
(cid:2)6
5

(cid:3)
(cid:2)6
6

k = 0

k = 1

k = 2

k = 3

k = 4

k = 5

k = 6

Figura 23 – Triângulo com os números de Stirling de primeira espécie

4.4 Paridade de uma permutação

Teorema 29. Toda permutação pode ser representada por uma composição de transposições,
não necessariamente disjuntas.

Demonstração. Mostraremos que qualquer ciclo σ = (σ1 σ2 σ3 . . . σk) pode ser decomposto
em

σ = (σ1 σ2 σ3 . . . σk) = (σk−1 σk)(σk−2 σk) . . . (σ2 σk)(σ1 σk)

Seja τ = τk−1τk−2 . . . τ2 τ1, em que τ1 = (σ1 σk), τ2 = (σ2 σk), . . . , τk−1 = (σk−1 σk).

Vamos analisar o comportamento de τ(x) para todo x ∈ [n].

O elemento σ1 é levado em σk pela transposição τ1 = (σ1 σk), que é levado em σ2 pela
transposição τ2 = (σ2 σk); as demais transposições τ3, τ4, . . . , τk−1 levam σ2 em σ2, pois σ2 não
pertence ao conjunto suporte de nenhuma dessas transposições. Logo, τ(σ1) = σ2.

76

Capítulo 4. Permutações na álgebra abstrata

O elemento σ2 é levado em σ2 pela transposição τ1 = (σ1 σk), que é levado em σk
pela transposição τ2 = (σ2 σk), que é levado em σ3 pela transposição τ3 = (σ3 σk); as demais
transposições τ4, τ5, . . . , τk−1 levam σ3 em σ3. Logo, τ(σ2) = σ3.

De forma geral, qualquer σi, com i ∈ {1, 2, . . . , k − 1} é levado a σi pelas transposições
τ1, τ2, . . . , τi−1; após isso, σi é levado em σk pela transposição τi = (σi σk) e σk é levado em
σi+1 pela transposição τi+1 = (σi+1 σk). Por ﬁm, σi+1 é levado em σi+1 pelas transposições τ j,
para todo j ∈ {i + 2, i + 3, . . . , k}. Logo, τ(σi) = σi+1, ∀ i ∈ {1, 2, . . . , k − 1}.

O elemento σk é levado em σ1 pela transposição τ1 = (σ1 σk) e σ1 é levado em σ1, pelas

transposições seguintes.

Tomando x /∈ {σ1, σ2, . . . , σk}, τ(x) = x, pois cada transposição τ1, τ2, . . . , τk levará x em

x.

Dessa forma

τ(σi) = σi+1,

∀ i ∈ {1, 2, . . . , k − 1}

τ(σk) = σ1

τ(x) = x

∀ i /∈ {1, 2, . . . , k}

Portanto, por deﬁnição, τ = (σ1 σ2 σ3 . . . σk) = σ .

Conclusão: como uma permutação f pode ser escrita como uma composição de ciclos
disjuntos e esses ciclos podem ser escritos como uma composição de transposições, qualquer
permutação pode ser escrita como a composição de transposições.

Vale ressaltar que um ciclo qualquer σ1 σ2 σ3 . . . σk) pode ser representado pela
composição de transposições (σk−1 σk)(σk−2 σk) . . . (σ2 σk)(σ1 σk), mas essa decomposição
não é única. Tome como exemplo o ciclo (1 5 4 2): ele pode ser decomposto como (2 4)(2 5)(2 1),
mas também pode ser decomposto como (1 5)(2 4)(5 2) e inúmeras outras opções.

Deﬁnição 21 (Paridade de uma permutação). Dizemos que uma permutação é par se ela pode
ser representada por um número par de transposições. Analogamente, a permutação será ímpar,
se for representada por um número ímpar de transposições.

Para compreender o conceito de paridade de uma permutação, considere o seguinte
exemplo: (4 1 2) é uma permutação par, pois (4 1 2) = (4 2)(4 1); já (1 5 3 6) é uma permutação
ímpar, pois (1 5 3 6) = (1 6)(1 3)(1 5).

Como dito anteriormente, a decomposição de uma permutação em transposições não é
única, mas, independente da decomposição realizada, a paridade da permutação nunca será alte-

4.4. Paridade de uma permutação

77

rada. Esse resultado é de grande importância para o estudo de permutações; para demonstrarmos,
utilizaremos o conceito de assinatura10de uma permutação.

Deﬁnição 22 (Assinatura de uma permutação11). Seja a permutação σ =

Sn. A assinatura de σ , denotada por sgn(σ ), é o numero real dado por

(cid:32)

1
2
a1 a2

n
. . .
. . . an

(cid:33)

∈

sgn(σ ) = ∏

0<i< j≤n

j − i
a j − ai

Calcular a assinatura de uma permutação através dessa deﬁnição é muito trabalhoso. Os
próximos resultados facilitarão o processo de determinação da assinatura de uma permutação.

Teorema 30. A assinatura de uma transposição é igual a −1.

Demonstração. Seja a transposição σ = (p q), com p, q ∈ [n]).Temos que σ (p) = q, σ (q) = p
e σ (x) = x para qualquer x /∈ {p, q}. Suponhamos, sem perda de generalidade, que p < q. Vamos

decompor o produtório ∏

0<i< j≤n

j − i
a j − ai

nos produtos P1, P2, . . . , P8 deﬁnidos como:

P1 = ∏

i, j /∈{p,q}

j − i
a j − ai

= ∏

i, j /∈{p,q}

j − i
σ ( j) − σ (i)

= ∏

i, j /∈{p,q}

j − i
j − i

= 1

j − i
a j − ai

= ∏
i<p

p − i
σ (p) − σ (i)

= ∏
i<p

p − i
q − i

j − i
a j − ai

= ∏
i<p

q − i
σ (q) − σ (i)

= ∏
i<p

q − i
p − i

P2 = ∏
j=p
i<p

P3 = ∏
j=q
i<p

Logo, P2 · P3 = ∏
i<p

p − i
q − i

· ∏
i<p

q − i
p − i

= ∏
i<p

(p − i)
(q − i)

·

(q − i)
(p − i)

= 1

P4 = ∏
i=p
p< j<q

j − i
a j − ai

= ∏
p< j<q

j − p
σ ( j) − σ (p)

= ∏
p< j<q

j − p
j − q

.

Mudando o índice de j, para i, obtemos

P4 = ∏
p< j<q

j − p
j − q

= ∏
p<i<q

i − p
i − q

·

(−1)
(−1)

= ∏
p<i<q

p − i
q − i

P5 = ∏
j=q
p<i<q

j − i
a j − ai

= ∏
p<i<q

q − i
σ (q) − σ (i)

= ∏
p<i<q

q − i
p − i

10 As literaturas internacionais utilizam o termo sign (que pode ser traduzido como sinal ou assinatura)
para se referir a esse conceito. Nesse trabalho optou-se por usar o termo assinatura, em consonância
com Domingues e Iezzi (2003).

11 Deﬁnição extraída de Domingues e Iezzi (2003).

78

Capítulo 4. Permutações na álgebra abstrata

Logo, P4 · P5 = ∏
p<i<q

p − i
q − i

· ∏
p<i<q

q − i
p − i

= ∏
p<i<q

(p − i)
(q − i)

·

(q − i)
(p − i)

= 1

j − i
a j − ai

= ∏
j>q

j − p
σ ( j) − σ (p)

= ∏
j>q

j − p
j − q

j − i
a j − ai

= ∏
j>q

j − q
σ ( j) − σ (q)

= ∏
j>q

j − q
j − p

P6 = ∏
i=p
j>q

P7 = ∏
i=q
j>q

Logo, P6 · P7 = ∏
j>q

j − p
j − q

· ∏
j>q

j − q
j − p

= ∏
i<p

( j − p)
( j − q)

·

( j − q)
( j − p)

= 1

j − i
a j − ai

=

p − q
σ (p) − σ (q)

=

p − q
q − p

=

−(q − p)
q − p

− 1

P8 = ∏
i=p
j=q

Deste modo, sgn(σ ) = P1 · P2 · . . . · P8 = −1.

Conclusão: a assinatura de qualquer transposição é igual a −1.

Teorema 31. sgn(σ ∘ τ) = sgn(σ ) · sgn(τ) para qualquer σ , τ ∈ Sn.

(cid:32)

2
1
a1 a2

n
. . .
. . . an

(cid:33)

. Como σ , τ ∈ Sn, existem b1, b2, . . . bn tal que

Demonstração. Seja σ =

(cid:32)

τ =

a1 a2
b1 b2

. . . an
. . . bn

(cid:33)
.

Dessa forma, σ ∘ τ =

(cid:32)

1
2
b1 b2

n
. . .
. . . bn

(cid:33)

. Logo

sgn(σ ) = ∏

0<i< j≤n

j − i
a j − ai

sgn(τ) = ∏

0<i< j≤n

a j − ai
b j − bi

sgn(σ ∘ τ) = ∏

0<i< j≤n

j − i
b j − bi

4.4. Paridade de uma permutação

79

sgn(σ ) · sgn(τ) = ∏

0<i< j≤n

j − i
a j − ai

· ∏
0<i< j≤n

a j − ai
b j − bi

sgn(σ ) · sgn(τ) = ∏

0<i< j≤n

j − i
a j − ai

·

a j − ai
b j − bi

sgn(σ ) · sgn(τ) = ∏

0<i< j≤n

j − i
b j − bi

sgn(σ ) · sgn(τ) = sgn(σ ∘ τ)

Conclusão: sgn(σ ∘ τ) = sgn(σ ) · sgn(τ) para qualquer σ , τ ∈ Sn.

Teorema 32. Para qualquer σ ∈ Sn, sgn(σ ) = 1, se σ é uma permutação par e sgn(σ ) = −1, se
a permutação é ímpar.

Demonstração. Seja σ = σ1 ∘ σ2 ∘ . . .∘ σk, em que σ1, σ2, . . . , σk são transposições. Provamos no
teorema 29 que σ pode ser escrito como uma composição de transposições. Provamos ainda no
teorema 30 que a assinatura de toda transposição é igual a−1. Por ﬁm, provamos no teorema 31
que a assinatura de uma composição é igual ao produto das assinaturas. Dessa forma

sgn(σ ) = sgn(σ1 ∘ σ2 ∘ . . . ∘ σk) = sgn(σ1) · sgn(σ2) · . . . sgn(σk) = (−1) · (−1) . . . (−1) = (−1)k

Logo, sgn(σ ) = 1, se k for um número par e sgn(σ ) = −1, se k for um número ímpar,

onde k é o número de transposições da decomposição de σ .

Conclusão: sgn(σ ) = 1, se σ é decomposto em um número par de transposições e

sgn(σ ) = −1 se σ é decomposto em um número ímpar de transposições.

Corolário 1. Seja σ ∈ Sn. Se σ = σ1 ∘ σ2 ∘ . . . ∘ σp e σ = τ1 ∘ τ2 ∘ . . . ∘ τq, são duas decomposi-
ções distintas de σ em transposições, então os índices p e q possuem a mesma paridade.

Demonstração. Do teorema 32 temos que sgn(σ ) = sgn(σ1) · sgn(σ2) · . . . sgn(σp) = (−1)p. Da
mesma forma, sgn(σ ) = sgn(τ1) · sgn(τ2) · . . . · sgn(τq) = (−1)q.

Como a assinatura é uma característica intrínseca de cada permutação, isto é, não depende
da sua representação ou de sua decomposição, sgn(σ ) = (−1)p = (−1)q. Logo p e q são ambos
números pares, ou ambos números ímpares.

Corolário 2. Um r −ciclo é uma permutação par quando r é um número ímpar e uma permutação
ímpar quando r é um número par.

Demonstração. Este resultado decorre do fato que um r-ciclo σ = (a1 a2 . . . ar) pode ser de-
composto como (a1 a2 . . . ar) = (ar ar−1)(ar ar−2) . . . (ar a2)(ar a1). Logo, a assinatura deste
ciclo é dada por sgn(σ ) = (−1)r−1, o ciclo será par se r for ímpar, e será ímpar, se r for par.

80

Capítulo 4. Permutações na álgebra abstrata

4.5 Números de Euler

Deﬁnição 23 (Ascentes e Descentes). Seja σ = σ1σ2 . . . σn uma permutação de Sn. Chamamos de
ascentes de σ todos os números i tais que σi < σi+1, para i ∈ [n − 1]. Analogamente, chamamos
de descentes de σ todos os números i tais que σi > σi+1, para i ∈ [n − 1].

Deﬁnição 24 (Conjunto dos ascentes). Seja σ = σ1σ2 . . . σn. Denominamos conjunto dos ascen-
tes de σ , o conjunto deﬁnido por

asc(σ ) = {i ∈ [n − 1] : σi < σi+1}

Teorema 33. Seja a permutação σ ∈ Sn. Se σ possui k ascentes, ela possui n − 1 − k descentes.

Demonstração. Se σ = σ1σ2 . . . σn, quando comparamos σi e σi+1, com i ∈ [n − 1], há somente
duas opções: σi < σi+1 ou σi > σi+1. Se σ possui exatamente k ascente, σ terá então n − 1 − k
descentes.

Deﬁnição 25 (Número de Euler de primeira espécie). O número de Euler de primeira espécie
representa o número de permutações de n elementos que possui exatamente k ascentes e é
denotado por A(n, k) ou (cid:10)n
k

(cid:11).

Teorema 34. Os Números de Euler de primeira espécie podem ser obtidos através da recorrência

(cid:29)

(cid:28)n + 1
k

= (k + 1) ·

(cid:29)

(cid:28)n
k

+ (n − k + 1) ·

(cid:28) n

(cid:29)

k − 1

∀ n, k ∈ N k ∈ N*

Demonstração. Seja Pk(n) o conjunto de todas as permutações de Sn que possuem exatamente k
ascentes.

Pk(n) = {σ ∈ Sn : asc(σ ) = k}

Queremos contar o número de permutações de Sn+1 que possuem exatamente k ascentes.
Esse número é dado por (cid:10)n+1
(cid:11) = |Pk(n + 1)|. Para isso, tomaremos as permutações σ ∈ Sn e
k
incluiremos o elemento n + 1 para obter as permutações σ ′ ∈ Sn+1 que possuem k ascentes.
Podemos obter as permutações σ ′ ∈ Pk(n + 1) de dois modos:

1- Tomando as permutações σ ∈ Sn que possuem k − 1 ascentes.

Seja σ ∈ Pk−1(n). Se σ possui k − 1 ascentes, então σ possui n − k descentes. Temos que

σi < σi+1, ∀ i ∈ asc(σ ) e σ j > σ j+1, ∀ j /∈ asc(σ )

Inserindo n+1 entre algum a j > a j+1 formamos a permutação a1 . . . a j (n+1) a j+1 . . . an,
obteremos um novo ascente, sem alterar os demais. Para isso, tomamos σ ′ ∈ Sn+1 deﬁnida como

σ ′
p = σp, ∀ p ≤ j
σ ′
j+1 = n + 1
σ ′
q+1 = σq, ∀ q > j

4.5. Números de Euler

81

Temos então que, para qualquer j /∈ asc(σ ), σ ′
1σ ′
disso, σ ′
σ ′ possui k ascentes.

j, juntamente com σ ′

j+3 . . . σ ′

2 . . . σ ′

j+2σ ′

j < σ ′

j+1 e σ ′

j+2 (1 ascente). Além
n possui k − 1 ascentes, tal como σ . Portanto

j+1 > σ ′

Para cada j /∈ asc(σ ), formamos uma permutação σ ′ com k ascentes. Dessa forma, para
(cid:11)
k−1

cada σ ∈ Pk−1(n), obtemos n − k permutações σ ′ ∈ Pk(n + 1). Obtemos então (n − k) · (cid:10) n
permutações σ ′ ∈ Pk(n).

Ainda podemos formar permutações σ ′ ∈ Sn+1 inserindo o elemento n + 1 à direita de

σn nas permutações σ ∈ Sn com k − 1 ascentes. Para isso, tomamos σ ′ ∈ Sn+1 deﬁnida como

n+1 = n + 1, σ ′
σ ′

p = σp,

p ∈ [n]

Com isso σn < σn+1. Dessa forma obtemos mais (cid:10) n
k−1

(cid:11) permutações σ ′ ∈ Pk(n + 1).

2- Tomando as permutações σ ∈ Sn que possuem k ascentes.

Seja σ ∈ Pk(n). Temos que

σi < σi+1, ∀ i ∈ asc(σ ) e σ j < σ j+1, ∀ j /∈ asc(σ )

Inserindo n+1 entre algum σi < σi+1, formamos a permutação a1 . . . ai (n+1) ai+1 . . . an,
estaremos removendo um ascente e formando outro no lugar. A permutação σ ′ formada desse
modo continua tendo k ascentes. Para isso, tomamos σ ′ ∈ Sn+1 deﬁnida como

σ ′
p = σp, ∀ p ≤ i
σ ′
i+1 = n + 1
σ ′
q+1 = σq, ∀ q > j

Temos então que, para qualquer i ∈ asc(σ ), σ ′
1σ ′

i , juntamente com σ ′

i+3 . . . σ ′

2 . . . σ ′

i+2σ ′

i+2 (1 ascente). Além
n possui k − 1 ascentes. Portanto, σ ′ possui k

i+1 > σ ′

i+1 e σ ′

i < σ ′

disso, σ ′
ascentes.

Para cada i ∈ asc(σ ), formamos uma permutação σ ′ com k ascentes. Dessa forma, para

cada σ ∈ Pk(n), obtemos k permutações σ ′ ∈ Pk(n + 1). Obtemos então k · (cid:10)n

(cid:11) permutações.

k

Podemos ainda formar permutações σ ′ ∈ Sn+1 inserindo o elemento n + 1 à esquerda de

σ1 nas permutações σ com k ascentes. Para isso, tomamos σ ′ ∈ Sn+1 deﬁnida como

1 = n + 1, σ ′
σ ′

p+1 = σp,

p ∈ [n]

Com isso σ ′

1 > σ ′

2, mantendo o número de ascentes da permutação σ . Dessa forma

obtemos mais (cid:10)n
k

(cid:11) permutações σ ′ ∈ Pk(n + 1).

Conclusão: o número de permutações de Sn+1 com k ascentes é dado por

82

Capítulo 4. Permutações na álgebra abstrata

(cid:29)

(cid:28)n + 1
k

= k ·

(cid:29)

(cid:28)n
k

(cid:29)

(cid:28)n
k

+

+ (n − k)

(cid:28) n

(cid:29)

k − 1

+

(cid:28) n

(cid:29)

k − 1

= (k + 1)

(cid:29)

(cid:28)n
k

(cid:29)

(cid:28)n + 1
k

∀ n > k.

+ (n − k + 1)

(cid:28) n

(cid:29)

k − 1

4.5.1 Triângulo dos números de Euler de primeira espécie

(cid:11) = 1 e (cid:10)i
Deﬁnindo (cid:10)1
j
0

(cid:11) = 0 para j ≥ i, podemos montar um triângulo com os números de
Euler de primeira espécie a partir da recorrência demonstrada no teorema 34, conforme exibido
na Figura 24.

n = 1

n = 2

n = 3

n = 4

n = 5

n = 6

n = 7

(cid:11)
(cid:10)1
0

(cid:11)
(cid:10)2
0

(cid:11)
(cid:10)3
0

(cid:11)
(cid:10)4
0

(cid:11)
(cid:10)5
0

(cid:11)
(cid:10)6
0

(cid:11)
(cid:10)7
0

(cid:11)
(cid:10)2
1

(cid:11)
(cid:10)3
1

(cid:11)
(cid:10)4
1

(cid:11)
(cid:10)5
1

(cid:11)
(cid:10)6
1

(cid:11)
(cid:10)7
1

(cid:11)
(cid:10)3
2

(cid:11)
(cid:10)4
2

(cid:11)
(cid:10)5
2

(cid:11)
(cid:10)6
2

(cid:11)
(cid:10)7
2

(cid:11)
(cid:10)4
3

(cid:11)
(cid:10)5
3

(cid:11)
(cid:10)6
3

(cid:11)
(cid:10)7
3

(cid:11)
(cid:10)5
4

(cid:11)
(cid:10)6
4

(cid:11)
(cid:10)7
4

⇒

(cid:11)

(cid:10)6
5

(cid:11)

(cid:10)7
5

(cid:11)
(cid:10)7
6

n = 1

n = 2

n = 3

n = 4

n = 5

n = 6

n = 7

1

1

1

1

1

1

1

26 · (5 − 2 + 1) + 66 · (2 + 1) = 302

1

4

11

26

1

11

66

1

26

1

57

302 302

57

1

120 1191 2461 1191 120

1

k = 0

k = 1

k = 2

k = 3

k = 4

k = 5

k = 6

k = 0

k = 1

k = 2

k = 3

k = 4

k = 5

k = 6

Figura 24 – Triângulo com os números de Euler de primeira espécie

4.6 Permutações inversas

Nesta seção abordaremos como obter a função inversa de um determinada permutação
e o conceito de número de inversões. É importante lembrar que qualquer permutação possui
inversa pois Sn é um grupo. Veremos agora como obter a permutação inversa a partir da notação
de ciclo.

Teorema 35. Seja σ = (a1 a2 . . . ak−1 ak). A inversa de σ é σ −1 = (ak ak−1 . . . a2 a1)

Demonstração. Observemos inicialmente que a inversa de uma transposição τ1 = (u v) é a
própria τ1. Basta veriﬁcar que τ1 ∘ τ1 = (u v) ∘ (u v) = (u)(v) = e.

4.6. Permutações inversas

83

Temos que σ = (ak−1 ak)(ak−2 ak) . . . (a2 ak)(a1 ak). Realizando a composição de σ

com σ ′ = (a1 ak)(a2 ak) . . . (ak−1 ak), obtemos:

σ ∘ σ ′ = (ak−1 ak) . . . (a3 ak)(a2 ak) [ (a1 ak) ∘ (a1 ak) ] (a2 ak)(a3 ak) . . . (ak−1 ak)

σ ∘ σ ′ = (ak−1 ak) . . . (a3 ak) [ (a2 ak) ∘ (a2 ak) ] (a3 ak) . . . (ak−1 ak)

...

σ ∘ σ ′ = e

...

Logo, a permutação σ ′ é a inversa de σ . Reescrevendo a permutação σ ′, obtemos:

σ ′ = (a1 ak)(a2 ak) . . . (ak−1 ak) = (ak ak−1 . . . a2 a3)

Conclusão: a permutação inversa de σ = (a1 a2 . . . ak−1; ak) é σ −1 = (ak ak−1 . . . a2 a3).

Exemplo 52. Seja σ = 23415 uma permutação de S5 escrita na notação de uma linha. Encontre
as transposições que transformam a permutação σ na permutação identidade.

Resolução. Antes de iniciar esta resolução, vamos analisar o que acontece na composição de uma
permutação com uma transposição. Considere a transposição τ1 = (34) ∈ S5, ela representa a
função f : A → B tal que f (1) = 1, f (2) = 2, f (3) = 4, f (4) = 3 e f (5) = 5. Se σ = a1 a2 a3 a4 a5,
então σ ∘ τ1 = a1 a2 a4 a3 a5; isto é, a composição de σ com τ1 inverterá a ordem do terceiro e
do quarto elemento de σ .

Precisamos analisar então quais elementos de σ = 23415 precisam ser invertidos. essa
permutação pode ser levada à permutação identidade e = 12345 através das seguintes transposi-
ções

2 3 4 1 5

(34)
−−→ 2 3 1 4 5

(23)
−−→ 2 1 3 4 5

(12)
−−→ 1 2 3 4 5

Portanto [ [ [σ ∘ (34)] ∘ (23)] ∘ (12)] = σ ∘ (34) ∘ (23) ∘ (12) = e.

conclusão: A permutação σ = 23415 precisa ser composta com as transposições (34),

(23) e (12) para retornar à identidade.

Nosso objetivo é reordenar a permutação σ = a1 a2 . . . an para seu estado original através
das composições com as transposições τ1, τ2, . . . , τk. Isto é, determinar τ1, τ2, . . . , τk tal que
σ ∘ τ1 ∘ τ2 ∘ . . . ∘ τk = e. Podemos transformar a permutação σ = a1 a2 . . . an na identidade através
do seguinte processo:

Tomamos o elemento da posição n − 1: se ele for maior que o elemento da posição n
invertemos a posição desses dois elementos. Senão, mantemos os elementos nas mesma posição.

Seja σ ′ a permutação obtida. Tomamos o elemento da posição n − 2: se ele for maior que
o elemento da posição n − 1, invertemos a posição desses dois elementos. Feito isso, comparamos

84

Capítulo 4. Permutações na álgebra abstrata

os novos elementos da posição n − 1 e n; se o elemento da posição n − 1 for maior que o elemento
da posição n, invertemos a posição desses dois elementos.

Repetimos esse processo para todas as posições, da direita para esquerda, invertendo a
posição dos elementos adjacentes toda vez que o elemento da esquerda for maior que o elemento
da direita.

Esse processo irá transformar a permutação σ na permutação identidade e = 1 2 3 . . . n.

Exemplo 53. Obtenha as transposições que transformam a permutação σ = 5 1 4 3 2 na permuta-
ção identidade.

Resolução. A permutação σ = 5 1 4 3 2 pode ser transformada na permutação identidade através
do seguinte processo

5 1 4 3 2

(45)
−−→ 5 1 4 2 3

(34)
−−→ 5 1 2 4 3

(45)
−−→ 5 1 2 3 4

(12)
−−→ 1 5 2 3 4

(23)
−−→ 1 2 5 3 4

(34)
−−→ 1 2 3 5 4

(45)
−−→ 1 2 3 4 5

Conclusão: A permutação σ = 5 1 4 3 2 é transformada na identidade através da composi-

ção,da esquerda para direita, por (45), (34), (45), (12), (23), (34) e (45).

Vimos no exemplo anterior que a permutação σ = 5 1 4 3 2 pode ser transformada na
permutação identidade através de sete transposições. Porém, esse não é o único processo possível;
sequer podemos garantir que esse é processo que exija o menor número de trocas. De qualquer
forma, como foram necessárias sete transposições para transformar a permutação σ na identidade,
σ é uma permutação ímpar.

4.7 Código Lehmer

Deﬁnição 26 (Inversão). Seja σ ∈ Sn representada pela notação de uma linha σ = a1 a2 . . . an.
O par (ai ; a j), com i < j, é uma inversão de σ se ai > a j.

Deﬁnição 27 (Código Lehmer12). Seja a permutação σ ∈ Sn representada pela notação de uma
linha como σ = a1 a2 . . . an. A função L(σ ) : [n] → {1, 2, . . . , n − 1} que associa a cada número
i do domínio de f , o número de elementos a j, com i < j, em que ai > a j é chamada de código
Lehmer ou tabela de inversões.

Formalmente, a função L(σ ) é deﬁnida como

L(σ ) : [n] −→ {1, 2, . . . , n − 1}

i ↦−→ li(σ ) = |M(i)|

onde M(i) = {a j ∈ {a1, a2, . . . , an} : j > i e ai > a j}

12 Segundo deﬁnição de Mantaci (2001). Tradução livre dos termos “Lehmer code” e “inversion table”

realizada pelo autor deste trabalho.

4.7. Código Lehmer

85

Utilizaremos a notação L(σ ) = l1 l2 . . . ln para representar o código Lehmer da permuta-
ção σ = a1 a2 . . . an, em que li é o número de elementos a j < ai, quando j > i; para facilitar a
escrita, iremos nos referir aos elementos a j com essa propriedade como menores à direita de ai.

Exemplo 54. Seja σ = 43152. Obtenha o código Lehmer dessa permutação e determine o
número de transposições necessárias para transformar σ na permutação identidade.

Resolução. Na permutação σ = 43152, há 3 elementos menores à direita de a1, 2 à direita de
a2, 0 à direita de a3, 1 à direita de a4 e 0 à direita de a5. Dessa forma, o código Lehmer de σ é
L(σ ) = 32010.

Para retornar a4 = 5 para a quinta posição, faremos 1 transposição; para retornar a2 = 3
para a terceira posição, faremos 2 transposições; para retornar a1 = 4 para a quarta posição,
faremos 3 transposições; conforme o processo abaixo:

43152

(45)
−−→ 43125

(23)
−−→ 41325

(34)
−−→ 41235

(12)
−−→ 14235

(23)
−−→ 12435

(34)
−−→ 12345

Conclusão: o código Lehmer da permutação σ = 43152 é L(σ ) = 32010 e são necessárias

6 transposições para transformar σ na permutação identidade.

Observamos que li indica o número de transposições sucessivas que devemos aplicar ao
elemento ai para que ele retorne à sua posição original. Dessa forma, a soma l1 + l2 + . . . + ln
corresponde ao número de transposições necessárias para obter a permutação identidade a partir
de σ . Consequentemente, a soma l1 + l2 + . . . + ln possui a mesma paridade de σ .

Veremos agora como recuperar uma permutação σ a partir do seu código Lehmer.

Exemplo 55. Determine a permutação σ cujo código Lehmer é L(σ ) = 40210.

Resolução. Como L(σ ) = 40210 possui 5 algarismos, sabemos que σ ∈ S5. Seja σ = a1 a2 a3 a4 a5.
l1 = 4, então existem quatro números menores que a1 à sua direita; logo a1 = 5. l2 = 0, então
não existe nenhum número menor que a2 à sua direita; logo a2 = 1. l3 = 2, então existem dois
números menores que a3 à sua direita; como só restaram os números 2, 3 e 4,logo a3 = 4. l4 = 1,
então existe um número menor que a4 à sua direita; como só restaram 2 e 3, logo a4 = 3. Por
ﬁm, a5 = 2.

Conclusão: σ = 51432.

Exemplo 56. Qual é a permutação σ que corresponde ao código L(σ ) = 5423010.

Resolução. Como L(σ ) é formado por 7 algarismos, σ ∈ S7. Seja σ = a1 a2 . . . a7. Vamos
determinar cada elemento de σ .

l1 = 5 → {1, 2, 3, 4, 5, 6, 7} =⇒ a1 = 6

Resta {1, 2, 3, 4, 5, 7}

l2 = 4 → {1, 2, 3, 4, 5, 7} =⇒ a2 = 5

Resta {1, 2, 3, 4, 7}

86

Capítulo 4. Permutações na álgebra abstrata

l3 = 2 → {1, 2, 3, 4, 7}

=⇒ a3 = 3

Resta {1, 2, 4, 7}

l4 = 3 → {1, 2, 4, 7}

l5 = 0 → {1, 2, 4}

l6 = 1 → {2, 4}

l7 = 0 → {2}

=⇒ a4 = 7

=⇒ a5 = 1

=⇒ a6 = 4

=⇒ a7 = 2

Resta {1, 2, 4}

Resta {2, 4}

Resta {2}

Conclusão: σ = 6537142.

Teorema 36. Seja T a função que associa cada σ ∈ Sn a seu respectivo código Lehmer L(σ ). A
função T é bijetora.

Demonstração. Sejam Sn o conjunto das permutações de n elementos, C o conjunto de todos
os códigos Lehmer de n dígitos e f a função que associa cada σ ∈ Sn ao seu respectivo código
L(σ ).

Para cada σ ∈ Sn, em que σ = a1 a2 . . . an, existe um único código Lehmer L(σ ) associ-

ado a essa permutação. Portanto a função f : Sn → C é injetora.

Mostremos que essa função também é sobrejetora. Seja L(σ ) = l1 l2 . . . ln. Para qualquer
i ∈ [n], temos que 0 ≤ li ≤ n − i, pois há, no máximo, n − i elementos à direita de ai. Como li
conta o número de elemento à direita de ai que são menores que ai, então li é um número natural
entre 0 e n − i. Logo, L(σ ) é uma função tal que

l1 ∈ {1, 2, . . . , n − 1},

l2 ∈ {1, 2, . . . , n − 2},
...
ln−1 ∈ {0, 1} e

ln ∈ {0}

Podemos determinar a cardinalidade do conjunto C calculando o número de sequências
l1 l2 . . . ln existentes. Pelo princípio fundamental da contagem, temos que |C| = n · (n − 1) ·
2 . . . 1 = n!. Portanto C e Sn possuem a mesma cardinalidade.

Conclusão: como a função f : Sn → C é injetora e |C| = |Sn|, a função f : Sn → C é

bijetora.

4.8 Uma ordenação para as permutações de Sn

Mostraremos agora que é possível estabelecer uma ordenação para todas as permutações
de Sn usando o código Lehmer. Para isso, vamos deﬁnir o conceito de relação de ordem total
estrita.

4.8. Uma ordenação para as permutações de Sn

87

Deﬁnição 28 (Relação entre dois conjuntos). Sejam A e B dois conjuntos. Uma relação entre
A e B, denotada por R é um subconjunto de A × B. Dado a ∈ A e b ∈ B, dizemos que a está
relacionado a b se (a, b) ∈ R e denotamos por aRb.

Deﬁnição 29 (Propriedades das Relações). Sejam A um conjunto e R uma relação de A em A.
Deﬁnimos as seguintes propriedades de R.

1. Reﬂexiva: R é reﬂexiva se: ∀ x ∈ A, xRx . Isto é (x, x) ∈ R para qualquer x ∈ A.

2. Irreﬂexiva: R é irreﬂexiva se: ∀ x ∈ A, x(cid:19)Rx . Isto é (x, x) /∈ R para qualquer x ∈ A.

3. Simétrica: R é simétrica se: ∀ x, y ∈ A, xRy =⇒ yRx . Isto é, se (x, y) ∈ R, então (y, x) ∈ R

para qualquer x, y ∈ A.

4. Anti-simétrica: R é anti-simétrica se: ∀ x, y ∈ A, xRy e yRx =⇒ x = y . Isto é, se (x, y) ∈ R

e (y, x) ∈ R então x = y para qualquer x, y ∈ A.

5. Assimétrica: R é assimétrica se: ∀ x, y ∈ A, xRy =⇒ y(cid:19)Rx . Isto é, se (x, y) ∈ R então

(y, x) /∈ R para qualquer x, y ∈ A.

6. Transitiva: R é transitiva se: ∀ x, y, z ∈ A, xRy e yRz =⇒ xRz . Isto é, se (x, y) ∈ R e

(y, z) ∈ R então (x, z) ∈ R para qualquer x, y, z ∈ A.

Deﬁnição 30 (Relação de ordem estrita). Sejam A um conjunto e R uma relação de A em A.
Dizemos que R é uma relação de ordem estrita (denotada pelo símbolo≺) se R possui as seguintes
propriedades:

1. Irreﬂexibilidade: ∀ x ∈ A, x ⊀ x

2. Assimétrica: ∀ x, y ∈ A, x ≺ y =⇒ y ⊀ x

3. Transitiva: ∀ x, y, z ∈ A, x ≺ y ∧ y ≺ z =⇒ x ≺ z

Se além dessas propriedades, quaisquer dois elementos distintos x, y ∈ A, x ≺ y ou y ≺ x,
chamamos essa relação de ordem estrita total.

Se um determinado conjunto A possui uma relação de ordem estrita total, essa relação es-
tabelece uma ordenação completa entre os elementos de A, isto é, podemos ordenar os elementos
de A tal qual ordenamos números reais. A sentença x ≺ y é lida como x precede y; essa sentença
não indica, necessariamente, que x é menor que y.

88

Capítulo 4. Permutações na álgebra abstrata

4.8.1 Sistema numérico fatorial

Deﬁnição 31 (Sistema numérico fatorial). Chamamos de sistema numérico fatorial a função
que associa a sequência (dn−1 dn−2 . . . d1 d0)! a um número k ∈ N deﬁnido por

(dn−1 dn−2 . . . d1 d0)! = dn−1 · (n − 1)! + dn−2 · (n − 2)! + . . . + d1 · 1! + d0 · 0! = k

Em que di ∈ N, 0 ≤ di ≤ i , ∀i ∈ {0, 1, . . . , n − 1}.

Exemplo 57. Calcule o número k representado por (10210)! no sistema numérico fatorial.

Resolução. k = (10020)! = 1 · 4! + 0 · 3! + 2 · 2! + 1 · 1! + 0 · 0! = 29.

Exemplo 58. Represente o número 34 no sistema numérico fatorial.

Resolução. Temos que 0! = 1, 1! = 1, 2! = 2, 3! = 6, 4! = 24 e 5! = 120. Portanto 34 será
escrito no máximo como (d4 d3 d2 d1 d0). Como 34 = 24 + 6 + 4, temos que 34 = 1 · 4! + 1 · 3! +
2 · 2! + 0 · 1! + 0 · 0! = (11200)!.

Conclusão: 34 é escrito como (11200)! no sistema fatorial.

Teorema 37. Para cada número natural k ∈ {0, 1, . . . , (n! − 1)}, existe uma única representação
no sistema numérico fatorial. Isto é, qualquer número pode ser representado de forma única por
uma sequência (dn−1 dn−2 . . . d1 d0)!, em que di ∈ N, 0 ≤ di ≤ i ∀ i ∈ {0, 1, . . . , n − 1}.

Demonstração. Seja Dn−1 = (dn−1 dn−2 . . . d1 d0)! a representação com n − 1 dígitos de um
número k no sistema fatorial onde:

(dn−1 dn−2 . . . d1 d0)! = dn−1 · (n − 1)! + dn−2 · (n − 2)! + . . . + d1 · 1! + d0 · 0! = k

Em que di ∈ N, 0 ≤ di ≤ i , ∀i ∈ [n].

Mostraremos que, variando os valores dos dígitos d0, d1, . . . , dn−1 tal qual variamos os
dígitos em um sistema numérico de base ﬁxa (respeitando os valores limites de cada dígito di),
formamos a sequência de números naturais. Para ilustrar esse fato, representaremos os número
de 0 a 10 usando o sistema fatorial.

4.8. Uma ordenação para as permutações de Sn

89

(0 0 0 0 0)! = 0.4! + 0.3! + 0.2! + 0.1! + 0.0! = 0
(0 0 0 1 0)! = 0.4! + 0.3! + 0.2! + 1.1! + 0.0! = 1
(0 0 1 0 0)! = 0.4! + 0.3! + 1.2! + 0.1! + 0.0! = 2
(0 0 1 1 0)! = 0.4! + 0.3! + 1.2! + 1.1! + 0.0! = 3
(0 0 2 0 0)! = 0.4! + 0.3! + 2.2! + 0.1! + 0.0! = 4
(0 0 2 1 0)! = 0.4! + 0.3! + 2.2! + 1.1! + 0.0! = 5
(0 1 0 0 0)! = 0.4! + 1.3! + 0.2! + 0.1! + 0.0! = 6
(0 1 0 1 0)! = 0.4! + 1.3! + 0.2! + 1.1! + 0.0! = 7
(0 1 1 0 0)! = 0.4! + 1.3! + 1.2! + 0.1! + 0.0! = 8
(0 1 1 1 0)! = 0.4! + 1.3! + 1.2! + 1.1! + 0.0! = 9
(0 1 2 0 0)! = 0.4! + 1.3! + 2.2! + 0.1! + 0.0! = 10

Seguindo essa lógica, conseguimos representar, sequencialmente e sem repetição, todos
os números naturais. Além disso, o maior número que pode ser representado no sistema fatorial
de n dígitos é:

( (n − 1) (n − 2) . . . 2 1 0 )! = (n − 1).(n − 1)! + (n − 2).(n − 2)! + . . . + 2.2! + 1.1! + 0.0!

( (n − 1) (n − 2) . . . 2 1 0 )! = (n − 1).(n − 1)! + (n − 2).(n − 2)! + . . . + 2.2! + (1.1! + 1) − 1

( (n − 1) (n − 2) . . . 2 1 0 )! = (n − 1).(n − 1)! + (n − 2).(n − 2)! + . . . + (2.2! + 2) − 1

...

( (n − 1) (n − 2) . . . 2 1 0 )! =n! − 1.

Seja a sequência de números naturais an = (0, 1, 2, . . . , n! − 1). Mostraremos, por indução
ﬁnita, que cada combinação possível de valores para d0, d1, . . . , dn−1, o número Dn−1 representa,
um único elemento da sequência an.

1) Tomando n = 1, temos que o maior elemento de a1 é 1! − 1 = 0. Logo a1 = (0). Por
outro lado, D0 = (d0)! ; o único número formado por D0 é D0 = (0)! = 0. Portanto, D0 = {0} =
a1.

2) Mostremos agora que, se Dn−1 representa um único elemento da sequência an, então

Dn representa um único elemento da sequência an+1.

Por hipótese, Dn−1 = (dn−1 dn−2 . . . d2 d1 d0)! representa, de forma única, todos os
elementos da sequência an = (0, 1, 2, . . . , n! − 1). Analisaremos agora os números formados por
Dn. Temos que

Dn = (dn dn−1 dn−2 . . . d1 d0)!

90

Capítulo 4. Permutações na álgebra abstrata

Dn = dn · n! + [dn−1 · (n − 1)! + . . . + d1 · 1! + d0 · 0!]

Dn = dn · n! + (dn−1 dn−2 . . . d1 d0)!

Dn = dn · n! + Dn−1.

Portanto todos os valores de Dn podem ser obtidos através da soma de combinações
de dn · n! + Dn−1. Como, por hipótese, Dn−1 varia de 0 a n! − 1, basta analisar as combinações
obtidas variando dn entre 0 e n ; e Dn−1 variando entre 0 e n! − 1.

Seja bi a sequência formada ao tomarmos dn = i e variarmos Dn−1 de 0 e n! − 1. As

sequências de valores formadas são:

dn = 0 =⇒ Dn = 0 · n! + Dn−1

b0 = (0 + 0, 0 + 1, 0 + 2, . . . , 0 + n! − 1) = (0, 1, 2, . . . , n! − 1)

dn = 1 =⇒ Dn = 1 · n! + Dn−1

b1 = (n! + 0, n! + 1, n! + 2, . . . , n! + n! − 1) = (n!, n! + 1, n! + 2, . . . , 2n! − 1)

dn = 2 =⇒ Dn = 2 · n! + Dn−1

b2 = (2n! + 0, 2n! + 1, 2n! + 2, . . . , 2n! + n! − 1) = (2n!, 2n! + 1, 2n! + 2, . . . , 3n! − 1)

...

dn = 2 =⇒ Dn = 2 · n! + Dn−1

bn = (n! · n! + 0, n! · n! + 1, . . . , n! · n! + n! − 1) = (n! · n!, n! · n! + 1, . . . , (n + 1)! − 1)

Cada sequência bi possui exatamente n! elementos consecutivos; o primeiro termo da
sequência bi+1 é o sucessor do último termo de bi. Justapondo as sequências b0, b1. . . , bn,
obtemos a sequência an+1 = (0, 1, 2, . . . (n + 1)! − 1). Portanto, pelo princípio da indução ﬁnita,
cada possível combinação d0, d1, d2, . . . , dn−1 em Dn−1 = (dn−1 dn−2 . . . d2 d1 d0)! representa
um único número da sequência an = (0, 1, 2, . . . n! − 1), para qualquer n ∈ N.

Conclusão: Qualquer número k ∈ {0, 1, . . . , n! − 1} possui uma única representação no

sistema numérico fatorial (dn−1 dn−2 . . . d2 d1 d0)!.

4.8.2 Relação de ordem induzida pelo código Lehmer

Teorema 38. O código Lehmer estabelece uma relação de ordem total e estrita para as permuta-
ções de Sn

Demonstração. Vimos no teorema 36 que há uma relação biunívoca entre as permutações de Sn
e o código Lehmer. Seja L(σ ) = l1 l2 . . . ln. Para qualquer i ∈ [n], 0 ≤ li ≤ n − i. Portanto L(σ )
pode ser associado de forma única ao número k tal que k = (l1 l2 . . . ln)!.

4.8. Uma ordenação para as permutações de Sn

91

Para cada permutação σ há um código Lehmer L(σ ) = l1 l2 . . . ln associado e cada
código pode ser associado a um número k = (l1 l2 . . . ln)! . Portanto, podemos estabelecer uma
relação biunívoca entre as permutações σ ∈ Sn e o conjunto de números naturais {0, 1, . . . , n!−1}
através do código Lehmer L(σ ) dessa permutação.

Conclusão: Há uma relação de ordem total e estrita para todas as permutações de Sn

induzida pelo código Lehmer.

Vamos mostrar um exemplo de aplicação desse resultado. Sejam as permutações 123,

132, 213, 231, 312 e 321 ∈ S3.

L(123) = 000 =⇒ k1 = (000)! = 0
L(132) = 010 =⇒ k2 = (010)! = 1
L(213) = 100 =⇒ k3 = (100)! = 2
L(231) = 110 =⇒ k4 = (110)! = 3
L(312) = 200 =⇒ k5 = (200)! = 4
L(321) = 210 =⇒ k6 = (210)! = 5

Conclusão: 123 ≺ 132 ≺ 213 ≺ 231 ≺ 312 ≺ 321 pois k1 < k2 < k3 < k4 < k5 < k6.

Observamos que sequer é necessário calcular o valor k correspondente à representação
do código Lehmer no sistema fatorial. É possível ordenar as permutações diretamente a partir do
código Lehmer. Para isso, basta comparar os códigos como se fossem números escritos numa
base qualquer.

Por exemplo, tomando as permutações σ = 45123, τ = 41235 e π = 45231 , temos que

L(σ ) = 33000, L(π) = 30000 e L(τ) = 33110; logo τ ≺ σ ≺ π.

Dessa forma é possível ordenar todas as permutações de um conjunto Sn através de um
critério simples e objetivo. Ressaltamos que essa é uma forma de estabelecer uma ordem, mas
não é a única. Para diferentes aplicações, pode ser desejável criar uma relação de ordem diferente
que possua uma determinada propriedade.

93

CAPÍTULO

5

CAMINHOS NA MALHA E
DESCONHECIMENTO DE PADRÕES

5.1 Caminho na malha quadriculada

Nesta seção, nosso objetivo será determinar o número de possíveis caminhos que uma
partícula pode realizar para se deslocar de um ponto (xi, yi) até o ponto (x f , y f ) em uma malha
quadriculada, sendo que, a cada movimento, essa partícula só pode deslocar-se unidades inteiras
para cima ou para a direita. Chamaremos esse tipo de trajeto de caminho norte-leste.13

Deﬁnição 32 (Caminho Norte-Leste). Sejam uma malha quadriculada bidimensional e uma
partícula que se desloca nessa malha do ponto (xi, yi) até o ponto (x f , y f ). Denominamos de
caminho norte-leste o trajeto realizado por essa partícula se, a cada movimento, ela só pode se
deslocar uma unidade para cima- do ponto (xk, yk) para o ponto (xk, yk + 1) - ou uma unidade
para direita - do ponto (xk, yk) para o ponto (xk + 1, yk).

Exemplo 59. Seja uma partícula localizada no ponto (0, 0) em uma malha quadriculada. Suponha
que essa partícula pode se movimentar nessa malha avançando uma unidade para a direita ou
uma unidade para cima. Há quantos caminhos possíveis para essa partícula chegar no ponto
(10, 5) ?

Resolução. Queremos determinar o número de caminhos norte-leste existentes partindo do ponto
(0, 0) e terminando no ponto (10, 5). A Figura 25 mostra dois possíveis caminhos norte-leste do
ponto (0, 0) ao ponto (10, 5).

13 A expressão caminho norte-leste foi inspirada na denominação utilizada por BÓNA (2006), “northeas-
tern lattice path”. Optou-se por não se fazer a tradução literal da expressão em inglês pois poderia
gerar mal-entendidos.

94

Capítulo 5. Caminhos na malha e desconhecimento de padrões

(10, 5)

5

4

3

2

1

(0, 0)

1

2

3

4

5

6

7

8

9

10

Figura 25 – Dois possíveis caminhos norte-leste do ponto (0, 0) ao ponto (10, 5)

Independentemente do caminho escolhido, para sair do ponto (0, 0) e chegar no ponto
(10, 5), a partícula realizará 10 movimentos para a direita e 5 movimentos para cima. Utilizando
a letra C para representar os deslocamentos para cima e D para representar os deslocamento para
a direita, qualquer caminho realizado será equivalente a um anagrama com as letras : C C C C
C D D D D D D D D D D.

Conclusão: Há (cid:0)10+5
5

(cid:1) = (cid:0)15
5

(cid:1) = 3003 possíveis caminhos norte-leste, partindo de (0, 0)

para chegar em (10, 5).

Exemplo 60. Há quantos caminhos norte-leste possíveis para uma partícula se deslocar do ponto
(-4, 5) ao (10, 8) ?

Resolução. Neste caso, a partícula terá que se deslocar 14 unidades para direita e 3 unidades para
cima. O número de caminhos será igual ao número de anagramas com 14 letras D e 3 letras C.

Conclusão: Há (cid:0)14+3
3

(cid:1) = (cid:0)17
3

(cid:1) = 680 caminhos possíveis.

Teorema 39 (Número de Caminhos Norte-Leste). O número de caminhos norte-leste do ponto
(xi, yi) até o ponto (x f , y f ), em que xi, yi, x f , y f ∈ Z, e x f ≥ xi, y f ≥ yi, é dado por

(cid:18)(x f − xi) + (y f − yi)
x f − xi

(cid:19)

Demonstração. Qualquer caminho norte-leste de (xi, yi) até o ponto (x f , y f ) é composto por
(x f − xi) movimentos para a direita e (y f − yi) movimentos para a cima. O número de caminhos
é dado então pelo número de anagramas formado por (x f − xi) letras D e (y f − yi) letras C.
Portanto, há (cid:0)(x f −xi)+(y f −yi)

(cid:1) caminhos.

x f −xi

Exemplo 61. Qual é o número de caminhos norte-leste partindo do ponto (0, 0) para chegar no
ponto (12, 6) que passam pelo ponto (5, 5)?

Resolução. Neste caso, basta dividir o problema em duas partes. Primeiro, calculamos o número
(cid:1) possibilidades. Depois,
de caminhos partindo do ponto (0, 0) e chegando no ponto (5, 5): (cid:0)10
5
(cid:1)
calculamos o número de caminhos partindo do ponto (5, 5) e chegando no ponto (12, 6): (cid:0)8
1

5.1. Caminho na malha quadriculada

95

possibilidades. Pelo princípio multiplicativo, o número total de caminhos será igual ao produto
desses dois resultados.

(cid:1) = 2016 caminhos norte-leste do ponto (0, 0) ao ponto
(cid:1) · (cid:0)8
Conclusão: Existem (cid:0)10
1
5
(12, 6) que passam pelo ponto (5, 5).

Exemplo 62. Quantos caminhos norte-leste do ponto (-3, -2) ao ponto (10, 5) não passam pela
origem?

Resolução. Resolveremos este problema usando o raciocínio complementar.

O número total de caminhos do ponto (−3, −2) ao ponto (10, 5), que passando ou não

pela origem, é igual a (cid:0)20
7

(cid:1)

O número de caminhos norte-leste do ponto (−3, −2) ao ponto (10, 5), que passam pela

(cid:1)
(cid:1) · (cid:0)15
origem é igual a (cid:0)5
5
2

Conclusão: o número de caminhos do ponto (−3, −2) ao ponto (10, 5), que não passam

pela origem é dado por:

(cid:19)

(cid:18)20
7

−

(cid:19)

(cid:18)5
2

(cid:19)

(cid:18)15
5

·

= 47490

5.1.1 Princípio da reflexão

Exemplo 63. Qual é o número de caminhos norte-leste partindo do ponto (0, 0) ao ponto (8, 8)
que tocam a reta y = x + 2?

Resolução. Para resolver esse problema, usaremos uma técnica chamada de princípio da reﬂexão.
Suponhamos que um determinado caminho norte-leste toca a reta y = x + 2 no ponto (k, k + 2).
O caminho de (0, 0) até (k, k + 2) pode ser reﬂetido em relação à reta y = x + 2. A Figura 26
mostra dois caminhos do ponto (0, 0) ao ponto (8, 8) que tocam a reta y = x + 2 pela primeira
vez em pontos distintos. Observamos que, independentemente do caminho realizado, a reﬂexão
projeta o ponto (0, 0) no ponto (−2, 2).

y = x + 2

(8, 8)

y

8

7

6

5

4

3

2

1

(2, 4)

(0, 0)

(−2, 2)

y = x + 2

(8, 8)

(−2, 2)

(3, 5)

y

8

7

6

5

4

3

2

1

(0, 0)

−2 −1

0

1

2

3

4

5

6

7

8

−2 −1

0

1

2

3

4

5

6

7

8

x

x

Figura 26 – Princípio da reﬂexão aplicado na reta y = x + 2 em dois caminhos norte-leste.

96

Capítulo 5. Caminhos na malha e desconhecimento de padrões

Da mesma forma, qualquer caminho partindo do ponto (−2, 2) ao ponto (8, 8), toca a
reta y = x + 2 em algum ponto (k, k + 2); o trecho (−2, 2) à (k, k + 2) pode ser reﬂetido em
relação a reta y = x + 2, projetando o ponto (−2, 2) no ponto (0, 0). Há, portanto, uma bijeção
entre o número de caminhos norte-leste do ponto (0, 0) ao ponto (8, 8) que passam pela reta
y = x + 2 e os caminhos do ponto (−2, 2) até o ponto (8, 8). O número de caminhos do do ponto
(−2, 2) até o ponto (8, 8) são fáceis de calcular: são realizados 10 movimentos para direita e 6
movimentos para cima.

Conclusão: Existem (cid:0)16
6

(cid:1) = 8008 caminhos norte-leste do ponto (0, 0) ao ponto (8, 8)

que tocam a reta y = x + 2.

Exemplo 64. Há quantos caminhos norte-leste saindo do ponto (0, 0) ao ponto (a, b), com a > 0
e b > 0, que tocam a reta r : y = x + m ,com m ∈ Z?

Resolução. Observamos que, dependendo do valor de m, pode não haver nenhum caminho que
toque esta reta. Suponhamos inicialmente que a partícula toca a reta r, depois determinamos as
condições para que isso ocorra.

Para determinar o número de caminhos que tocam a reta r, utilizamos o princípio da
reﬂexão. A posição para onde o ponto (0, 0) será reﬂetido independe do ponto onde o caminho
toca a reta r. Seja yp = xp + m, a ordenada do ponto onde o caminho toca a reta y = x + m
pela primeira vez. Se o caminho feito do ponto (0, 0) até o ponto (xp, xp + m) não importa para
determinar a reﬂexão, podemos analisar o caso mais simples. Suponhamos que a partícula partiu
do ponto (0, 0), deslocou-se xp unidades para a direita e depois xp + m unidades para cima, até
tocar no ponto (xp, xp + m). A reﬂexão deste caminho em torno da reta y = x + m, reﬂetirá o
ponto (0, 0) no ponto (m, m), conforme mostra a Figura 27.

y

y = x + m

(xp, xp + m)

xp + m

yr = m

xp + m

xp

m

xr = m

0

xp

m

xp

(a, b)

x

Figura 27 – Reﬂexão do ponto (0, 0) em relação a reta y = x + m

5.1. Caminho na malha quadriculada

97

O número de caminhos partindo do ponto (0, 0) ao ponto (a, b) que toca a reta y = x + m
é igual o número de caminhos partindo do ponto (−m, m) ao ponto (a, b). Este número é dado
por

(cid:18)a − (−m) + b − m
b − m

(cid:19)

=

(cid:19)

(cid:18) a + b
b − m

A expressão acima é válida quando b ≥ m e a ≤ m.

Conclusão: O número de caminhos partindo do ponto (0, 0) ao ponto (a, b) que toca a

reta y = x + m é igual (cid:0) a+b
b−m

(cid:1).

Teorema 40. As coordenadas do ponto R = (xr, yr) correspondente a reﬂexão do ponto A =
(xa, ya) em relação a reta r : y = x + m são dada por:

xr = ya − m

e

yr = xa + m

Demonstração. O ponto R = (xr, yr) será a reﬂexão do ponto A = (xa, ya) em relação a reta r se
os dois pontos se encontram à mesma distância desta reta, porém ocupam semi-planos distintos.

Determinaremos as coordenadas do ponto R em função do ponto A. Seja f (x) = x + m a
função que determina a reta r. Sejam os pontos P = (xp, yp) e Q = (xq, yq) pertencentes à reta r,
tal que AP seja perpendicular ao eixo x, e AQ paralelo ao eixo x. Como a reta r forma um ângulo
de 45∘ com o eixo x, RP será paralelo ao eixo x e RQ, perpendicular ao eixo x.

AP é perpendicular ao eixo x, logo xp = xa e yp = f (xp) = f (xa) = xa + m.

RP é paralelo ao eixo x, logo yr = yp. Portanto yr = xa + m.

RQ é perpendicular ao eixo x, logo xq = xr e yq = f (xq) = f (xr) = xr + m.

AQ é paralelo ao eixo x, logo ya = yq. Portanto ya = xr + m =⇒ xr = ya − m

Exemplo 65. Qual é o número de caminhos norte-leste partindo do ponto (0, 0) ao ponto (n, n)
que não ultrapassam a reta y = x ?

Resolução. No exemplo 64, calculamos o número de caminhos norte-leste que tocam uma reta
y = x + m. A questão agora é determinar quantos caminhos não ultrapassam a reta y = x.

Calcular diretamente o número de caminhos norte-leste do ponto (0, 0) ao ponto (n, n)
que não ultrapassam a reta y = x é muito trabalhoso. Calcularemos então o número de caminhos
que ultrapassam a reta y = x e excluiremos esse valor do total de caminhos.

A Figura 28 ilustra um caminho norte-leste do (0, 0) ao ponto (8, 8) que ultrapassa a reta

y = x.

Um caminho ultrapassa a reta y = x, se, somente se, ele toca a reta y = x + 1 em algum
ponto. Podemos então calcular o número de caminhos que ultrapassam a reta y = x, calculando o
número de caminhos que tocam a reta y = x + 1.

98

Capítulo 5. Caminhos na malha e desconhecimento de padrões

y

8

7

6

5

Toca a reta y = x + 1

4

3

2

1

y = x + 1

y = x

Ultrapassa a reta y = x

−2

−1

0
0

1

2

3

4

5

6

7

8

x

Figura 28 – Um caminho norte-leste que ultrapassa a reta y = x.

Para calcular o número de caminhos que tocam a reta y = x + 1, usaremos o princípio da
reﬂexão. O ponto (0, 0) é reﬂetido, em relação à reta y = x + 1, no ponto (−1, 1). O número de
caminhos que tocam a reta y = x + 1 é igual ao número de caminhos partindo do ponto (−1, 1)
ao ponto (n, n)

(cid:18)n − (−1) + n − 1
n − 1

(cid:19)

=

(cid:19)

(cid:18) 2n
n − 1

O total de caminhos de (0, 0) à (n, n) é dado por

(cid:18)n − 0 + n − 0
n − 0

(cid:19)

=

(cid:19)

(cid:18)2n
n

Portanto, o número de caminhos desejados é dado por

(cid:19)

(cid:18)2n
n

−

(cid:19)

(cid:18) 2n
n − 1

=

(2n)!
n!(2n − n)!

−

(2n)!
(n − 1)!(2n − (n − 1))!

=

(2n)!
n!n!

−

(2n)!
(n − 1)!(n + 1)!

=

(2n)!
n!n!

−

n
n

·

(2n)!
(n − 1)!n!(n + 1)

=

(2n)!
n!n!

−

n
n + 1

·

(2n)!
n!n!

=

1
n + 1

=

1
n + 1

·

·

(2n)!
n!n!
(cid:19)
(cid:18)2n
n

5.2. Permutações que desconhecem padrão

99

Conclusão: o número de caminhos norte-leste do ponto (0, 0) ao ponto (n, n) que não

ultrapassam a reta y = x é

1
n + 1

(cid:32)

(cid:33)

2n
n

Teorema 41. O número Cn de caminhos norte-leste partindo do ponto (0, 0) até o ponto (n, n)
que não ultrapassam a reta y = x é calculado pela expressão:

Cn =

(cid:19)

(cid:18)2n
n

−

(cid:19)

(cid:18) 2n
n − 1

=

1
n + 1

(cid:19)

(cid:18)2n
n

·

O número Cn é conhecido como n-ésimo número de Catalan e tem diversas aplicações

no campo da análise combinatória.

5.2 Permutações que desconhecem padrão

Nesta seção abordaremos um problema interessante de desconhecimento de padrão. Este

problema consiste em descobrir o número de permutações onde um certo padrão não ocorre.

Deﬁnição 33 (Desconhecimento de Padrão 13214). Dizemos que a permutação σ = σ1 σ2 . . . σn
possui o padrão 132, se, existem i, j, k ∈ [n] ,com i < j < k, tais que σi < σk < σ j. Se não
existem i, j, k ∈ [n], com i < j < k, tais que σi < σk < σ j, dizemos que a permutação σ
desconhece o padrão 132.

A permutação σ = 31254 possui o padrão 132 pois σ1 < σ5 < σ4 (no caso, os elementos
3, 4 e 5). A Figura 29 ilustra a permutação σ = 31254, destacando a ocorrência do padrão 132
nos elementos σ1, σ5 e σ4. essa não é a única ocorrência do padrão 132 nessa permutação; ele
ocorre também com o segundo, quarto e quinto elemento da permutação (σ2 < σ5 < σ4 ); e
novamente com o terceiro, quarto e quinto elemento (σ3 < σ5 < σ4).

5
5

4
4

3
3

2

1

Figura 29 – Permutação σ = 31254 e o padrão 132 nos elementos σ1, σ5 eσ4

14 BÓNA (2006) utiliza o termo 132-avoiding para se referir as permutações que não apresentam o padrão
132. Neste trabalho optou-se por utilizar a expressão desconhece o padrão 132 adotada em Moraes
(2012).

100

Capítulo 5. Caminhos na malha e desconhecimento de padrões

O padrão 132 é um padrão de comprimento 3. Cada permutação de três elementos
formam um novo padrão de comprimento 3. Há, portanto seis padrões de comprimento 3: 123,
132, 213, 231, 312 e 321. A característica mais fácil para reconhecer um padrão é a disposição
geométrica de seu grafo. A Figura 30 relaciona cada padrão de comprimento 3 com sua respectiva
disposição espacial.

Padrão 123

Padrão 132

Padrão 213

Padrão 231

Padrão 312

Padrão 321

Figura 30 – Grafos dos padrões de comprimento 3.

Quando uma permutação possui o padrão 132, temos três elementos posicionados de
forma que o menor precede o maior, que precede o intermediário (sem necessariamente estarem
em posições adjacentes). Quando isso não ocorre, dizemos que a permutação desconhece o
padrão 132. A Figura 31 ilustra a permutação σ = 43125 que desconhece o padrão 132; isto
é, não existem i, j, k ∈ {1, 2, 3, 4, 5}, com i < j < k, tal que σi < σk < σ j. Nosso objetivo nesta
seção será exatamente calcular quantas permutações de n elementos desconhecem o padrão 132.

5

4

3

2

1

Figura 31 – Exemplo de permutação que desconhece o padrão 132.

Exemplo 66. Quantas permutações de S10 desconhecem o padrão 132; isto é, não existem
i, j, k ∈ [10], com i < j < k, tal que σi < σk < σ j.

Resolução. Nesta primeira abordagem, começaremos posicionando os elementos da permutação
do maior para o menor de modo que a sequência formada desconheça o padrão 132.

Suponhamos que o elemento 10 esteja na quarta posição da esquerda para direita. Como

podemos posicionar os demais números a ﬁm de evitar o padrão 132?

Se posicionarmos o elemento 9 à direita do 10, não poderemos posicionar o 8 à esquerda
de 10, pois teríamos uma sequência onde 8 ≺ 10 ≺ 9 (isto é, 8 precede 10, que precede 9),
ocorrendo o padrão 132. Na verdade, se posicionarmos o elemento 9 à direita do 10, qualquer
sequência formada a partir disso possuirá o padrão 132, pois haverá um elemento a < 9 à

5.2. Permutações que desconhecem padrão

101

esquerda de 10 e teremos uma sequência onde a ≺ 10 ≺ 9. Portanto o algarismo 9 precisa ser
posicionado à esquerda de 10.

Seguindo o mesmo raciocínio, os algarismos 8 e 7 também devem estar à esquerda de
10. Consequentemente, os números de 1 a 6 ﬁcarão à direita de 10. A ﬁgura Figura 32 ilustra a
distribuição dos elementos de uma permutação de 10 elementos que desconhece o padrão 132,
após posicionarmos o maior elemento na quarta posição.

10

{7, 8, 9}

{1, 2, 3, 4, 5, 6}

Figura 32 – Formação de uma permutação que desconhece o padrão 132.

Como todos os elementos à esquerda de 10 são maiores que todos os elementos à direita
de 10, não há mais o risco de se formar um padrão 132 com o elemento 10. Nosso problema
agora é posicionar os elementos do subconjuntos {7, 8, 9} e {1, 2, 3, 4, 5, 6} de forma que cada
um desses subconjuntos desconheçam o padrão 132. Isto equivale a calcular o número de
permutações de S3 e multiplicar pelo número de permutações de S6 que desconhecem o padrão
132.

Seja p(n) o número de permutações de n elementos que desconhece o padrão 132.
Determinaremos uma expressão para p(10): número de permutações de 10 elementos que
desconhece o padrão 132.

Se posicionarmos o algarismo 10 na quarta posição, o número de permutações de S10 que
desconhecem o padrão 132 é dada por p(3) · p(6). Se posicionarmos o algarismo 10 na quinta
posição, teremos o subconjunto {6, 7, 8, 9} à direita e {1, 2, 3, 4, 5} à esquerda de 10. Logo a
parcela de permutações S10 que desconhecem o padrão 132 com o elemento 10 na quinta posição
é p(4) · p(5). Variando a posição do elemento 10 entre a primeira e a última posição, obtemos a
seguinte expressão

p(10) = p(0) · p(9) + p(1) · p(8) + p(2) · p(7) + . . . + p(9) · p(0) =

De forma geral, o número p(k) é dado por

p(k) =

k

∑

i=1

p(i − 1) · p(k − i)

10

∑

i=1

p(i − 1) · p(10 − i)

Deﬁnindo p(0) = 1, temos de imediato que p(1) = 1! = 1, p(2) = 2! = 2, pois nenhuma
permutação de 1 ou 2 elemento possui o padrão 132. Além disso, p(3) = 3! − 1 = 5, pois todas
as permutações de S3 desconhecem o padrão 132, exceto a própria 132. Calcularemos agora
p(10) através da recorrência acima.

p(4) =p(0) · p(3) + p(1) · p(2) + p(2) · p(1) + p(3) · p(0)

102

Capítulo 5. Caminhos na malha e desconhecimento de padrões

p(4) =1 · 5 + 1 · 2 + 2 · 1 + 5 · 1 = 14

p(5) =p(0) · p(4) + p(1) · p(3) + p(2) · p(2) + p(3) · p(1) + p(4) · p(0)

p(5) =1 · 14 + 1 · 5 + 2 · 2 + 5 · 1 + 14 · 1 = 42

p(6) =p(0) · p(5) + p(1) · p(4) + p(2) · p(3) + p(3) · p(2) + p(4) · p(1) + p(5) · p(0)

p(6) =1 · 42 + 1 · 14 + 2 · 5 + 5 · 2 + 14 · 1 + 42 · 1 = 132

p(7) =p(0) · p(6) + p(1) · p(5) + p(2) · p(4) + p(3) · p(3) + p(4) · p(2) + p(5) · p(1)

+ p(6) · p(0)

p(7) =1 · 132 + 1 · 42 + 2 · 14 + 5 · 5 + 14 · 2 + 42 · 1 + 132 · 1 = 429

p(8) =p(0) · p(7) + p(1) · p(6) + p(2) · p(5) + p(3) · p(4) + p(4) · p(3) + p(5) · p(2)

+ p(6) · p(1) + p(7) · p(0)

p(8) =1 · 429 + 1 · 132 + 2 · 42 + 5 · 14 + 14 · 5 + 42 · 2 + 132 · 1 + 429 = 1430

p(9) =p(0) · p(8) + p(1) · p(7) + p(2) · p(6) + p(3) · p(5) + p(4) · p(4) + p(5) · p(3)

+ p(6) · p(2) + p(7) · p(1) + p(8) · p(0)

p(9) =1 · 1430 + 1 · 429 + 2 · 132 + 5 · 42 + 14 · 14 + 42 · 5 + 132 · 2 + 429 · 1 + 1430 · 1

= 4862

p(10) =p(0) · p(9) + p(1) · p(8) + p(2) · p(7) + p(3) · p(6) + p(4) · p(5) + p(5) · p(4)

+ p(6) · p(3) + p(7) · p(2) + p(8) · p(1) + p(9) · p(0)

p(10) =4862 · 1 + 1430 · 1 + 429 · 2 + 132 · 5 + 14 · 42 + 42 · 14 + 132 · 5 + 429 · 2

+ 1430 · 1 + 4862 · 1 = 16796

Conclusão: Existem 16796 permutações de S10 que desconhecem o padrão 132.

O exemplo 66 pode ser generalizado para calcular o número de permutações de Sn que

desconhecem o padrão 132 para qualquer n ∈ N.

Teorema 42. Seja Sn o conjunto das permutações de n elementos. O número p(n) de permutações
de n elementos que desconhecem o padrão 132 é dada pela recorrência:

p(n) =

n

∑

i=1

p(i − 1) · p(n − i)

Com p(0) = p(1) = 1, por deﬁnição.

5.2. Permutações que desconhecem padrão

103

A fórmula de recorrência do teorema 42 é útil, mas bastante trabalhosa, principalmente
quando tomamos valores de n cada vez maiores. Abordaremos agora o problema sobre uma
perspectiva diferente para obter uma fórmula geral para o cálculo do número de permutações
que desconhecem o padrão 132.

Por simplicidade, tomaremos as permutações de S7. Analisaremos graﬁcamente quais

são as restrições para a formação de uma permutação σ = σ1σ2 . . . σ7.

Não há restrição para escolha de σ1. Seja σ1 = 5. Quais são os possíveis valores para σ2?

O elemento σ2 pode ser qualquer número menor que 5, pois tomando σ2 < σ1, para
qualquer σi, com 2 < i ≤ 7, a sequência σ1 ≺ σ2 ≺ σi não formará o padrão 132. Se tomarmos
σ2 maior que 5, a única opção é σ2 = 6; pois se σ2 > 6, existirá algum σi = 6, com i > 2, e a
sequência σ1 ≺ σ2 ≺ σi (5 ≺ σ2 ≺ 6) terá o padrão 132. Portanto σ2 ∈ {1, 2, 3, 4, 6}.

A Figura 33 ilustra a permutação σ = 5731624 destacando o padrão 132 formado por

σ1, σ2 e σ5, devido σ2 ser maior que σ1 e existir um elemento entre σ1 e σ2.

7
7

5
5

6
6

4

2

3

1

Figura 33 – Permutação σ = 5731624, e o padrão 132 formado por σ1, σ2 e σ5.

Seja σ2 = 3. O elemento σ3 poderá ser qualquer número menor que σ2 ou o número
imediatamente superior a σ2 que ainda não foi tomado (no caso, o número 4). Dessa forma,
σ3 ∈ {1, 2, 4}.

Seja σ3 = 2. O elemento σ4 poderá ser qualquer número menor que σ3 ou o número
imediatamente superior a σ3 que ainda não foi tomado (no caso, o número 4). Dessa forma,
σ4 ∈ {1, 4}.

Continuando esse processo, formamos uma permutação de S7 que desconhece o padrão

132.

A Figura 34 ilustra a formação de uma permutação que desconhece o padrão 132, etapa

por etapa, partindo de σ1 = 5 e destacando as possíveis escolhas para σ2, σ3, . . . , σ7.

104

Capítulo 5. Caminhos na malha e desconhecimento de padrões

5

5

6

4

3

2

1

5

5

5

⇒

3

⇒

3

4

2

1

⇒

4

1

2

σ2 ∈ {1, 2, 3, 4, 6}

σ3 ∈ {1, 2, 4}

σ4 ∈ {1, 4}

6

1

⇒

4

2

σ5 ∈ {1, 6}

3

7

6

4

3

2

7

1

7

6

6

5

5

⇒

3

4

2

⇒

3

4

2

1

1

σ6 ∈ {1, 7}

σ7 ∈ {7}

Legenda:As linhas e círculos pontilhados indicam as possíveis escolhas para o próximo termo da sequência.

Figura 34 – Processo de formação de uma permutação que desconhece o padrão 132.

Deﬁniremos agora uma processo para formar uma permutação σ = σ1 σ2 . . . σn que

desconhece o padrão 132. Sejam os conjuntos:

i
(cid:91)

σk

Ai =

k=1
Ri = [n]/Ai

∀i ∈ {1, 2, . . . , n}

∀i ∈ {1, 2, . . . , n}

Bi = {x ∈ Ri : x < σi}

∀i ∈ {1, 2, . . . , n}

Ci = {x ∈ Ri : x > σi}

∀i ∈ {1, 2, . . . , n}

Para formar uma sequência que desconhece o padrão 132, escolhemos sucessivamente σ1, σ2,
. . . σn tal que:

σ1 ∈ [n]

σ2 ∈ B1

ou σ2 = min{C1}

ou σ3 = min{C2}

σ3 ∈ B2
...

σn−1 ∈ Bn−2

ou σ3 = min{Cn−2}

σn ∈ Ri−1

5.2. Permutações que desconhecem padrão

105

Analisaremos uma permutação σ = σ1 σ2 . . . σn pelo comportamento do grafo formado
pela sequência σ1, σ2, . . . σn. Podemos pensar que estamos nos deslocando pelo grafo do
ponto (1, σ1) ao ponto (n, σn). De qualquer ponto (i − 1, σi−1), com 1 < i < n, temos duas
possibilidades para o próximo movimento:

∙ nos deslocamos para baixo, escolhendo para σi qualquer valor x < σi−1 que ainda não

pertença a sequência σ1 σ2 . . . σi−1; ou

∙ nos deslocamos para cima, tomando σi como o menor valor x > σi−1 que ainda não

pertença a sequência σ1 σ2 . . . σi−1.

Dessa forma, cada permutação que desconhecem o padrão 132, pode ser analisada a partir
dos possíveis caminhos do ponto (1, 1) ao ponto (n, n) que obedeçam os critérios estabelecidos
anteriormente.

5.2.1 Sequência de descidas

Deﬁnição 34 (Sequência de descidas15). Seja σ = σ1 σ2 . . . σn uma permutação que desconhece
o padrão 132. Seja a função Qσ : [n] → [n] deﬁnida como:

Qσ (1) = n − σ1

Qσ (i) =


0




min
0<k<i

{σk} − σi

se σi > σi−1

se σi < σi−1

∀ i ∈ {2, 3, . . . , n}

Denominaremos de sequência de descidas e denotaremos por Qσ = q1 q2 . . . qn a sequên-

cia formada a partir da função Qσ tal que qi = Qσ (i) para cada i ∈ [n].

Na sequência de descidas Qσ = q1 q2 . . . qn de uma permutação σ , qi representa quantas
unidades σi está abaixo do menor número entre σ1, σ2, . . . σi−1. Se qi = 0, não houve descida
no movimento do ponto (i − 1, σi−1) ao ponto (i, σi), portanto σi “subiu” para o próximo valor
disponível. Dessa forma, dada uma sequência de descida, conseguimos estabelecer qual foi a
permutação que gerou essa sequência.

Exemplo 67. Seja a permutação σ = 634512 que desconhece o padrão 132. Encontre a sequência
de descidas Qσ dessa permutação.

Resolução. Utilizando a deﬁnição 34, temos que Qσ = q1 q2 q3 q4 q5 q6 é dada por

=⇒ q1 = n − σ1 = 6 − 6 = 0
15 Sequência elaborada e deﬁnida pelo autor deste trabalho para auxiliar a resolução do problema de

σ1 = 6

contagem de permutações que desconhecem o padrão 132.

106

Capítulo 5. Caminhos na malha e desconhecimento de padrões

σ2 = 3 < σ1 =⇒ q2 = min σ1 − σ2 = 6 − 3 = 3

σ3 = 4 > σ2 =⇒ q3 = 0

σ4 = 5 > σ3 =⇒ q4 = 0

σ5 = 1 < σ4 =⇒ q5 = min σ1, σ2, σ3, σ4 − σ5 = 3 − 1 = 2

σ6 = 2 > σ1 =⇒ q6 = 0

Conclusão: a sequência de descidas da permutação σ = 634512 é Qσ = 030020.

Exemplo 68. Seja a sequência Qσ = 30021010 gerada por uma permutação σ que desconhece
o padrão 132. Determine a permutação σ .

Resolução. Usando a deﬁnição 34 e o fato de que σ ∈ S8, temos que:

q1 = 3 =⇒ q1 = 8 − σ1

=⇒ σ1 = 8 − 3 = 5

q1 = 0 =⇒ σ2 > σ1

q3 = 0 =⇒ σ3 > σ2

=⇒ σ2 = 6

=⇒ σ3 = 7

q4 = 2

=⇒ q4 = min{σ1, . . . , σ3} − σ4 =⇒ σ4 = 5 − 2 = 3

q5 = 1 =⇒ q5 = min{σ1, . . . , σ4} − σ5 =⇒ σ5 = 5 − 1 = 2

q6 = 0 =⇒ σ6 > σ5

=⇒ σ3 = 4 (pois σ4 = 3)

q7 = 1 =⇒ q7 = min{σ1, . . . , σ6} − σ7 =⇒ σ7 = 2 − 1 = 1

q8 = 0 =⇒ σ8 > σ7

=⇒ σ3 = 8

Conclusão: σ = 56732418.

Teorema 43. Sejam σ ∈ Sn uma permutação que desconhece o padrão 132 e Qσ a sequência de
descida gerada por essa permutação. Temos que

r

∑

i=1

qi = n − min
0< j≤r

{σ j}, ∀ r ∈ [n]

Demonstração. Mostraremos, por indução ﬁnita, que q1 + q2 + . . . qr = n − min{σ1, σ2, . . . , σr},
∀ r ∈ [n].

Como caso inicial, tomemos r = 2. Temos, por deﬁnição que q1 = n − σ1. Se σ2 >
σ1, q2 = 0, então min{σ1, σ2} = σ1 e q1 + q2 = n − σ1 + 0 = n − σ1 = n − min{σ1, σ2}. Se
σ2 < σ1, q2 = σ1 − σ2, então min{σ1, σ2} = σ2 e q1 + q2 = n − σ1 + (σ1 − σ2) = n − σ2 =
n − min{σ1, σ2}. Portanto q1 + q2 = n − min{σ1, σ2}.

Mostremos que

q1 + q2 + . . . + qr = n − min{σ1, σ2, . . . , σr} =⇒ q1 + q2 + . . . + qr+1 = n − min{σ1, σ2, . . . , σr, σr+1}

5.2. Permutações que desconhecem padrão

107

Temos, por hipótese de indução, que q1 + q2 + . . . qr = n − min{σ1, σ2, . . . , σr}. Vamos

dividir esta parte da demonstração em dois casos.

i. σr+1 > σr.

Se σr+1 > σr, então qr+1 = 0. Logo q1 + q2 + . . . qr + qr+1 = n − min{σ1, σ2, . . . , σr}.

ii. σr+1 < σr

Se σr+1 < σr, então qr+1 = σr+1 − min{σ1, σ2, . . . , σr}. Logo q1 + q2 + . . . qr + qr+1 =

n − min{σ1, σ2, . . . , σr} − (σr+1 − min{σ1, σ2, . . . , σr}) = n − σr+1.

Mostremos agora que σr+1 = min{σ1, σ2, . . . , σr, σr+1}. Suponha que exista σi < σr+1,
com i < r. Dessa forma, σi < σr+1 < σr com i < r < r + 1. Absurdo, pois σ , por hipótese inicial,
desconhece o padrão 132. Logo, q1 + q2 + . . . qr + qr+1 = n − min{σ1, σ2, . . . , σr, σr+1}, quando
σr+1 < σr.

De i e ii, temos que q1 + q2 + . . . qr + qr+1 = n − min{σ1, σ2, . . . , σr, σr+1}.

Conclusão: como q1 +q2 = n−min{σ1, σ2} e q1 +q2 +. . . qr = n−min{σ1, σ2, . . . , σr}
implica que q1 + q2 + . . . qr+1 = n − min{σ1, σ2, . . . , σr, σr+1}, temos, pelo princípio da indução
ﬁnita que:

r

∑

i=1

qi = n − min
0< j≤r

{σ j}, ∀ r ∈ [n]

Corolário 3. Sejam σ ∈ Sn uma permutação que desconhece o padrão 132 e Qσ a sequência de
descida gerada por essa permutação. Temos que

q1 + q2 + . . . + qn = n − 1

Demonstração. Decorre direto do teorema 43 pois

q1 + q2 + . . . + qn = n − min
0< j≤n

{σ j} e min
0< j≤n

{σ j} = 1

Teorema 44. Sejam σ ∈ Sn uma permutação que desconhece o padrão 132 e Qσ a sequência de
descida gerada por essa permutação. Temos que

q1 + q2 + . . . + qk ≥ k − 1, ∀ k ∈ [n]

Demonstração. Suponha, por absurdo, que q1 + q2 + . . . + qk < k − 1. Do teorema 43, temos
que q1 + q2 + . . . + qk = n − min{σ1, σ2, . . . , σk}. Substituindo, temos

q1 + q2 + . . . + qk < k − 1

n − min{σ1, σ2, . . . , σk} < k − 1

108

Capítulo 5. Caminhos na malha e desconhecimento de padrões

min{σ1, σ2, . . . , σk} > n − k + 1

min{σ1, σ2, . . . , σk} ≥ n − k + 2

Sejam σi e σ j, respectivamente o maior e o menor elemento de {σ1, σ2, . . . , σk}. Temos
que σi ≤ n e σ j ≥ n − k + 2. Entre n e (n − k + 2) há, no máximo, k − 1 elementos; mas o
conjunto {σ1, σ2, . . . , σk} possui k elementos distintos. Absurdo.

Conclusão: q1 + q2 + . . . + qk ≥ k − 1, ∀ k ∈ [n].

Teorema 45. Sejam σ ∈ Sn uma permutação que desconhece o padrão 132 e Qσ a sequência de
descida gerada por essa permutação. Temos que

qk < n − k + 2,

∀ k ∈ [n]

Demonstração. Temos, pelo teorema 44 que:

q1 + q2 + . . . + qk−1

≥ k − 2,

então

q1 + q2 + . . . + qk−1 + qk ≥ k − 2 + qk

∀ k ∈ [n]

Temos do corolário 3 que:

q1 + q2 + . . . + qn = n − 1 =⇒ q1 + q2 + . . . + qk ≤ n − 1, ∀ k ∈ [n]

Dessa forma:

n − 1 ≥ q1 + q2 + . . . + qk−1 + qk ≥ k − 2 + qk

n − 1 ≥ k − 2 + qk

qk ≤ n − k + 1

Conclusão: qk < n − k + 2 ,

∀ k ∈ [n]

Com esses resultados podemos deduzir uma fórmula para calcular o número de permuta-
ções de Sn que desconhecem o padrão 132. Uma primeira abordagem poderia ser contar o número
de soluções da equação q1 + q2 + . . . + qn = n − 1, q1, q2, . . . qn ∈ N usando combinação completa.
Porém calcular o número de soluções dessa equação com as restrições qi < n − i + 2, ∀ i ∈ [n]
usando princípio da inclusão-exclusão seria inviável.

5.2.2 Caminhos sul-leste gerados pela sequência de descidas

Partiremos para uma outra abordagem: Sejam a permutação σ que desconhece o padrão
132 e Qσ = q1 q2 . . . qn a sequência de descidas gerada por essa permutação. Tome a malha

5.2. Permutações que desconhecem padrão

109

quadriculada de (0, 0) à (n, n). Seja Cσ o caminho sul-leste16- isto é, caminhos onde a partícula
pode deslocar-se apenas para baixo ou para direita - partindo do ponto (0, n) com 2n passos
deﬁnidos do seguinte modo:

Passo 1: a partícula parte do ponto P0 = (0, n) e desloca-se q1 unidades para baixo, chegando ao
ponto P1 = (0, n − q1);

Passo 2: a partícula parte do ponto P1 = (0, n − q1) e desloca-se 1 unidades para direita, chegando
ao ponto P2 = (1, n − q1);

Passo 3: a partícula parte do ponto P2 = (1, n − q1) e desloca-se q2 unidades para baixo, chegando
ao ponto P3 = (1, n − (q1 + q2));

Passo 4: a partícula parte do ponto P3 = (1, n − (q1 + q2)) e desloca-se 1 unidades para direita,
chegando ao ponto P4 = (2, n − (q1 + q2 + q3));

. . .

Passo 2n − 1: a partícula parte do ponto P2n−2 = (n − 1, n − (q1 + q2 + . . . + qn−1)) e desloca-se
qn unidades para baixo, chegando ao ponto P2n−1 = (n − 1, n − (q1 + q2 + . . . + qn−1 + qn));

Passo 2n: a partícula parte do ponto P2n−1 = (n − 1, n − (q1 + q2 + . . . + qn−1 + qn))) e desloca-se
1 unidades para direita, chegando ao ponto P2n = (n, n − (q1 + q2 + . . . + qn−1 + qn)).

A Figura 35 ilustra a permutação σ = 5324617 que desconhece o padrão 132 e o caminho
Cσ formado a partir da sequência de descidas Qσ = 2210010. Note que todos os pontos onde
σi < σi−1 o grafo da permutação e o caminho Cσ coincidem.

σ = 5324617

7

Qσ = 2210010

6

4

5

3

2

⇒

1

5

⇒

3

2

6

4

7

1

Figura 35 – Permutação σ = 5324617 e o caminho Cσ formado a partir de Qσ = 2210010.

O caminho Cσ é deﬁnido de forma que cada passo de número ímpar 2k − 1 corresponde
a um deslocamento de qk unidades para baixo, enquanto os passos de número par correspondem
a um deslocamento de 1 unidade para esquerda.

Todos os passos pares correspondem a um deslocamento de n − 1 unidades para a direita.
Todos os n passos ímpares correspondem a um deslocamento de q1 + q2 + . . . + qn = n − 1
unidades para baixo. Portanto o caminho Cσ parte do ponto (0, n) e chega no ponto ﬁnal (n, 1).

16 Em analogia ao conceito de caminho norte-leste, deﬁnido na página 93 deste trabalho.

110

Capítulo 5. Caminhos na malha e desconhecimento de padrões

As coordenadas do passos ímpares 2k − 1 são dadas por

(k − 1, n − (q1 + q2 + . . . + qk−1 + qk))

As coordenadas dos passos pares 2k são dadas por

(k, n − (q1 + q2 + . . . + qk−1 + qk))

Seja yk = n − (q1 + q2 + . . . qk−1 + qk). Do teorema 44 temos que

q1 + q2 + . . . + qk−1 + qk ≥ k − 1

yk = n − (q1 + q2 + . . . qk−1 + qk) ≤ n − k + 1

yk ≤ n − k + 1

∴ yk < n + 2 − k

Portanto as coordenadas dos pontos dos passos ímpares são dadas por (k − 1, yk) e dos
passos pares (k, yk), onde yk < n + 2 − k. Note que nas coordenadas (x, y) tanto dos passos pares,
quanto dos ímpares, y < n + 2 − x, portanto o caminho Cσ é um caminho sul-leste do ponto (0, n)
ao ponto (n, 1) que não encosta na reta y = n + 2 − x.

Para calcular o número de caminhos sul-leste do ponto (0, n) ao ponto (n, 1) que não
encosta na reta y = n + 2 − x, usaremos um raciocínio análogo ao usado para provar o teorema 41
da página 99.

Primeiramente, contamos o total de caminhos sul-leste do ponto (0, n) ao ponto (n, 1).
Denotando por B os deslocamentos para baixo e por D os deslocamentos para a direita, qualquer
caminho do ponto (0, n) ao ponto (n, 1) equivale a um anagrama formado por n − 1 letras B e n
(cid:1) caminhos.
letras D. Temos então (cid:0)(n−1)+n

(cid:1) = (cid:0)2n−1
n−1

n

Descontamos agora os caminhos sul-leste que tocam a reta y = n + 2 − x. Para calcular o

número de caminhos que tocam a reta y = n + 2 − x, usamos o princípio da reﬂexão.

Reﬂexão do ponto (x, y) = (0, n) em relação à reta y = n + 2 − x

x = 0 =⇒ y = n + 2 − 0 =⇒ y′ = n + 2

y = n =⇒ n = n + 2 − x =⇒ x′ = 2

Pelo princípio da reﬂexão, o número de caminhos do ponto (0, n) ao ponto (n, 1) que
tocam a reta y = n + 2 − x é igual ao número de caminhos partindo do ponto (2, n + 2) ao ponto
(n, 1). Temos então (cid:0)(n−2)+(n+2−1)

(cid:1).

(cid:1) = (cid:0)2n−1
n−2

n−2

5.2. Permutações que desconhecem padrão

111

Logo, o número de caminhos que não tocam a reta y = n + 2 − x é dado por

(cid:19)

(cid:18)2n − 1
n − 1

−

(cid:19)

(cid:18)2n − 1
n − 2

(2n − 1)!
(n − 1)!n!

−

(2n − 1)!
(n − 2)!(n + 1)!

(2n − 1)! · 2n
(n − 1)!n! · 2n

−

(2n − 1)! · 2n · (n − 1)
(n − 2)!(n + 1)! · 2n · (n − 1)

(2n)!
2(n!n!)

−

(2n)! · (n − 1)
2(n!(n + 1)!)

(2n)!
2(n!n!)

−

(2n)! · (n − 1)
2(n!n!(n + 1))

(2n)!
2(n!n!)

(cid:20)1
2

−

n − 1
2(n + 1)

(cid:21)

(cid:18)2n
n

(cid:19) (cid:20)(n + 1) − (n − 1)

(cid:21)

2(n + 1)

1
n + 1

(cid:19)

(cid:18)2n
n

·

Conclusão: Como cada caminho Cσ está associado de forma biunívoca a uma permutação

que desconhecem o padrão 132, o número de permutações desse tipo é dada por

(cid:1).
n+1 · (cid:0)2n
Como vimos na página 99, esse resultado é conhecido como número de Catalan.

1

n

Teorema 46. O número Pn de permutações de Sn que desconhece o padrão 132 é dada por

Pn =

(cid:19)

(cid:18)2n
n

−

(cid:19)

(cid:18) 2n
n − 1

=

1
n + 1

·

(cid:19)

(cid:18)2n
n

5.2.3 Desconhecimento de outros padrões de comprimento 3

(cid:0)2n
n

O número de permutações de n elementos que desconhecem o padrão 132 é dado por
(cid:1). Analisaremos agora qual é o número de permutações que desconhecem os outros
1
n+1
padrões de comprimento 3. Há mais 5 padrões possíveis de comprimento 3: o padrão 123, o
padrão 213, o padrão 231, o padrão 312 e o padrão 321.

Como os padrões 213, 231, 312 são simétricos ao padrão 132, é de se esperar que
o número de permutações que possuem/desconhecem cada um desses padrões sejam iguais.
Mostraremos que essa conjectura é verdadeira.

Padrões 132 e 231

112

Capítulo 5. Caminhos na malha e desconhecimento de padrões

Geometricamente, o padrão 231 pode ser obtido através de uma reﬂexão em relação a
uma reta vertical do padrão 132, como pode ser visto na Figura 36. Para obter uma permutação
que possui/desconhece o padrão 231, basta tomar uma permutação que possui/desconhece o
padrão 132 e inverter a ordem de seus elementos.

Padrão 132

Padrão 231

Figura 36 – Reﬂexão vertical do padrão 132.

Teorema 47. Seja uma permutação σ = σ1 σ2 . . . σn−1σn. Se σ possui o padrão 132, então
a permutação σ ′ = σ ′
n = σ1,
possui o padrão 231. Da mesma forma, se σ desconhece o padrão 132,então σ ′
n desconhece o
padrão 231.

2 = σn−1, . . . , σ ′

n−1 = σ2 e σ ′

n, tal que σ ′

1 = σn, σ ′

2 . . . σ ′

n−1σ ′

1 σ ′

Demonstração. Se σ = σ1 σ2 . . . σn−1σn possui o padrão 132, então existem i, j, k ∈ [n], com
i < j < k, tal que σi < σk < σ j.
n−i, σk = σ ′

n− j e n − k < n − j < n − i, temos que σ ′

Como σi = σ ′

n−k, σ j = σ ′

n−i < σ ′

n−k <

n− j. Portanto σ ′ possui o padrão 231.
σ ′

Analogamente, se não existem i, j, k ∈ [n], com i < j < k, tal que σi < σk < σ j, então não
n−k < σ ′
n− j. Portanto se σ desconhece o padrão

n−i < σ ′

existem n − k < n − j < n − i tal que σ ′
132, σ ′ desconhece o padrão 231.

Padrões 132 e 312

Geometricamente, o padrão 312 pode ser obtido através de uma reﬂexão em relação a
uma reta horizontal do padrão 132, como visto na Figura 37. Para obter uma permutação que
possui / desconhece o padrão 312, basta tomar uma permutação que possui / desconhece o padrão
132 e substituir elemento 1 pelo elemento n, o elemento 2 pelo elemento n − 1 e assim por diante.

Teorema 48. Seja uma permutação σ = σ1 σ2 . . . σn−1σn. Se σ possui o padrão 132, então a
2 . . . σ ′
permutação σ ′ = σ ′
i = n − σi + 1, ∀i ∈ [n], possui o padrão 312. Da
mesma forma, se σ desconhece o padrão 132, σ ′

n desconhece o padrão 312.

n, tal que σ ′

n−1σ ′

1 σ ′

5.2. Permutações que desconhecem padrão

113

Padrão 132

Padrão 312

Figura 37 – Reﬂexão horizontal do padrão 132.

Demonstração. Se σ = σ1 σ2 . . . σn−1σn possui o padrão 132, então existem i, j, k ∈ [n], com
i < j < k , tal que σi < σk < σ j.

Como σ ′

i = n − σi + 1, σ ′

j = n − σ j + 1, σ ′

k = n − σk + 1, então σ ′

j < σ ′

k < σ ′

i , com

i < j < k. Portanto σ ′ possui o padrão 312.

Analogamente, se não existem i, j, k ∈ [n], com i < j < k, tal que σi < σk < σ j, então
k < σ ′
i . Portanto se σ desconhece o padrão 132,

j < σ ′

não existem i, j, k, com i < j < k, tal que σ ′
então σ ′ desconhece o padrão 312.

Padrões 231 e 213

O padrão 213 pode ser pode ser obtido através de uma reﬂexão horizontal do padrão 231,
como pode ser visto na Figura 38. Para obter uma permutação que possui/ desconhece o padrão
213, basta tomar uma permutação que possui/desconhece o padrão 231 e substituir o número k
por n − k + 1 para todo k ∈ [n]. A demonstração é análoga à teorema 48.

Padrão 231

Padrão 213

Figura 38 – Reﬂexão horizontal do padrão 231.

114

Capítulo 5. Caminhos na malha e desconhecimento de padrões

Conclusão: o número de permutações de Sn que desconhecem os padrões 132, 312, 231

e 213 são iguais e dado por

.

Padrões 123 e 321

(cid:19)

1
n + 1

(cid:18)2n
n

O padrão 321 pode ser obtido a partir de uma reﬂexão vertical do padrão 123, como
visto na Figura 39. Há portanto uma bijeção entre as permutações que possuem / desconhecem o
padrão 123 e as que possuem / desconhecem o padrão 321.

Padrão 123

Padrão 321

Figura 39 – Reﬂexão vertical do padrão 123.

Mostraremos agora que existe uma bijeção entre o número de permutações que desco-

nhecem o padrão 132 e as permutações que desconhecem o padrão 123.

Uma permutação σ = σ1 σ2 . . . σn desconhece o padrão 123 se não existem i, j, k ∈ [n],

com i < j < k, tal que σi < σ j < σk.

Para formar uma sequência que desconhece o padrão 123, ao tomarmos um elemento
σi > σi−1, qualquer número maior que σi deve precedê-lo na sequência. Não há restrição em
tomar σi < σi−1. Dessa forma, podemos escolher livremente σi < σi−1 dentre os elementos
restantes; para tomar σi > σi−1, devemos tomar o maior número disponível.

Deﬁnindo os conjuntos

i
(cid:91)

σk

Ai =

k=1
Ri = [n]/Ai

∀i ∈ {1, 2, . . . , n}

∀i ∈ {1, 2, . . . , n}

Bi = {x ∈ Ri : x < σi}

∀i ∈ {1, 2, . . . , n}

Ci = {x ∈ Ri : x > σi}

∀i ∈ {1, 2, . . . , n}

5.2. Permutações que desconhecem padrão

115

Para formar uma sequência que desconhece o padrão 123, escolhemos sucessivamente

σ1, σ2, . . . σn tal que:

σ1 ∈ [n]

σ2 ∈ B1

ou σ2 = max{C1}

ou σ3 = max{C2}

σ3 ∈ B2
...

σn−1 ∈ Bn−2

ou σ3 = max{Cn−2}

σn ∈ Ri−1

Dada uma σ = σ1 σ2 . . . σn que desconhece o padrão 123, podemos tomar uma sequência
de descidas Qσ segundo a deﬁnição 34. A única diferença entre a formação de uma permutação
que desconhece o padrão 132 e uma permutação que desconhece o padrão 123, é que na primeira,
toda vez que σi > σi−1, tomamos σi o menor elemento do subconjunto dos números maiores
que σi; enquanto nas permutações que desconhecem o padrão 123, tomamos o maior elemento
desse subconjunto.

Dessa forma, cada permutação σ que desconhece o padrão 123 está associada a uma
única sequência Qσ , que por sua vez está associada a uma única permutação σ ′ que desconhece
o padrão 132. Portanto, o número de permutações que desconhecem o padrão 132 é igual o
número de permutações que desconhecem o padrão 123; que, por sua vez, é igual ao número de
permutações que desconhecem o padrão 321.

Conclusão: o número de permutações de n elementos que desconhece os padrões 123,

132, 213, 231, 312 e 321 são iguais e calculados através do n-ésimo número de Catalan

1
n + 1

(cid:19)

(cid:18)2n
n

117

CAPÍTULO

6

CONSIDERAÇÕES FINAIS

A Combinatória é um ramo da matemática de grande importância, mas que nem sempre
é bem compreendido pelos estudantes. É comum a análise combinatória no Ensino Básico
limitar-se ao estudo de permutações, arranjos e combinações, mas como Morgado et al. (1991)
destacam, o campo da “análise combinatória” é muito mais amplo, com aplicação na estatística,
na biologia, na química, entre outros. Dessa forma, neste trabalho buscou-se realizar um extenso
estudo sobre análise combinatória, abordando conceitos e temas que são pouco explorados na
Educação Básica, como o conceito de combinação completa, os lemas de Kaplanski, o princípio
da inclusão-exclusão, entre outros; bem como adentrar em tópicos mais abstratos da análise
combinatória, como o grupo de permutações e os ciclos de permutações, normalmente abordados
somente no Ensino Superior.

Lima et al. (2006a, p. 111) destacam a importância de se priorizar o desenvolvimento do
raciocínio lógico em detrimento da memorização e aplicação de fórmulas muito especíﬁcas. Este
trabalho foi construído com base nessa premissa. Partindo-se do pilar básico da combinatória,
o princípio fundamental da contagem, foi-se construindo conceitos cada vez mais abstratos e
complexos da análise combinatória, pautados no raciocínio lógico, no uso de analogias e reapli-
cação/adaptação de técnicas e raciocínios desenvolvidos em situações anteriores na resolução de
novos problemas.

Nessa busca da construção gradual dos conceitos de combinatória, optou-se por uma es-
crita direcionada ao leitor, repleta de indagações, reﬂexões e descrições detalhadas das resoluções,
no lugar de respostas rápidas aos exemplos e problemas. O objetivo dessa escolha é tornar mais
fácil e didática a compreensão dos métodos de resolução utilizados. Essa compreensão permite
ao leitor a reaplicação dos métodos em problemas similares e abre espaço para adaptação desses
métodos ou desenvolvimento de novas metodologias na resolução de problemas diferentes.

Uma da pretensões deste trabalho é tornar mais acessível os temas de combinatória
abordados. Almeja-se, dessa forma, que este sirva como um instrumento de estudo, pesquisa e

118

Capítulo 6. Considerações ﬁnais

reﬂexão para professores da Educação Básica. Espera-se que o professor da Educação Básica
possa utilizá-lo como fonte de consulta na elaboração de sequência didática sobre análise
combinatória.

119

REFERÊNCIAS

AZEVEDO, A. d.; PICCININI, R. Introdução à teoria dos grupos. [S.l.: s.n.], 1969. 114 p.
Nenhuma citação no texto.

BHATTACHARYA, P. B.; JAIN, S. K.; NAGPAUL, S. Basic abstract algebra. [S.l.]: Cambridge
University Press, 1986. 454 p. Citado na página 65.

BÓNA, M. A walk through combinatorics: An introduction to combinatorics and graph theory.
2. ed. [S.l.]: World Scientiﬁc Publishing, 2006. 469 p. Citado nas páginas 73, 93, 99 e 121.

CARNEIRO, J. P. C. O problema do amigo oculto. Revista do professor de matemática, n. 28,
1995. Disponível em: <http://www.rpm.org.br/cdrpm/28/4.htm>. Citado na página 49.

DAVIS, T. Catalan numbers. [S.l.]: Berkeley Math Circle Handouts, http://mathcircle. berkeley.
edu/BMC6/pdf0607/catalan. pdf, 2006. Nenhuma citação no texto.

DIAS, I.; GODOY, S. M. S. de. Elementos de Matemática - Notas de Aulas. São Carlos: Uni-
versidade de São Paulo - Instituto de Ciências Matemáticas e de Computação, 2009. Nenhuma
citação no texto.

DOMINGUES, H. H.; IEZZI, G. Álgebra Moderna. 4. ed. reformulada. ed. São Paulo: Atual,
2003. 368 p. Citado nas páginas 63 e 77.

ELIZALDE, S.; DEUTSCH, E. A simple and unusual bijection for dyck paths and its conse-
quences. Annals of Combinatorics, Springer, v. 7, n. 3, p. 281–297, 2003. Nenhuma citação
no texto.

GRAHAM, R. L.; KNUTH, D. E.; PATASHNIK, O. Concrete Mathematics: A Foundation
for Computer Science. 2nd. ed. Boston, MA, USA: Addison-Wesley Longman Publishing Co.,
Inc., 1994. ISBN 0201558025. Nenhuma citação no texto.

LIMA, E.; CARVALHO, P. C. P.; WAGNER, E.; MORGADO, A. C. A Matemática do En-
sino Médio: volume 2. 6. ed. Rio de Janeiro: SBM, 2006. 308 p. (Coleção do Professor de
Matemática). Citado nas páginas 19, 21, 26 e 117.

. A Matemática do Ensino Médio: volume 1. 9. ed. Rio de Janeiro: SBM, 2006. 237 p.

(Coleção do Professor de Matemática). Nenhuma citação no texto.

MANTACI, F. R. R. A permutations representation that knows what ”eulerian” means. Discrete
Mathematics and Theoretical Computer Science,DMTCS, v. 4, n. 2, p. 101–108, 05 2001.
Disponível em: <https://hal.inria.fr/hal-00958950/document>. Citado na página 84.

MORAES, J. L. C. d. Ordenação de Sequências Finitas por Reversões Usando Conjugações
em Grupos de Permutações. 70 p. Dissertação (Mestrado) — Universidade de Brasília, Brasília,
Junho 2012. Citado na página 99.

120

Referências

MORGADO, A. C.; CARVALHO, J. B. P. de; CARVALHO, P. C. P.; FERNANDEZ, P. Ánalise
Combinatória e Probabilidade: com as soluções de exercícios. 9. ed. Rio de Janeiro: SBM,
1991. 343 p. (Coleção do Professor de Matemática). Citado nas páginas 23, 26, 35, 38, 42, 49,
51 e 117.

MUNIZ NETO, A. C. Tópicos de matemática elementar: Combinatória. 1. ed.. ed. Rio de
Janeiro: SBM, 2012. 237 p. (Coleção Professor de Matemática). Citado nas páginas 36 e 46.

PROVAS E GABARITOS DO ENEM. Disponível
provas-e-gabaritos>. Accesso em: 11/08/2017. Nenhuma citação no texto.

em: <http://portal.inep.gov.br/

VAJNOVSZKI, V. Lehmer code transforms and mahonian statistics on permutations. Discrete
Mathematics, Elsevier, v. 313, n. 5, p. 581–589, 2013. Nenhuma citação no texto.

VESTIBULARES ANTERIORES DA FUVEST. Disponível em: <http://acervo.fuvest.br/fuvest/
>. Accesso em: 11/08/2017. Nenhuma citação no texto.

VESTIBULARES ANTERIORES DA UNICAMP. Disponível em: <https://www.comvest.
unicamp.br/vestibulares-anteriores/>. Accesso em: 10/08/2017. Nenhuma citação no texto.

VESTIBULARES ANTERIORES DO IME. Disponível
provas-anteriores-cfg.html>. Accesso em: 11/08/2017. Nenhuma citação no texto.

em:

<http://ime.eb.br/

VESTIBULARES ANTERIORES DO ITA. Disponível em: <http://www.vestibular.ita.br/provas.
htm>. Accesso em: 11/08/2017. Nenhuma citação no texto.

121

APÊNDICE

A

COMENTÁRIOS DO AUTOR

Comentário sobre as permutações que desconhecem o pa-

drão 132

Os problemas de combinatória sempre me despertaram grande interesse por serem
desaﬁantes e possibilitarem, quase sempre, mais de uma abordagem. A busca por soluções
simples e elegantes é um desaﬁo estimulante.

Gostaria de tecer aqui um comentário sobre a solução apresentada para o problema das

permutações que desconhecem o padrão 132.

A demonstração apresentada em BÓNA (2006) difere da apresentada neste trabalho.
BÓNA (2006) primeiro mostra que o número f (n) de permutações de Sn que desconhecem o
padrão 132 satisfaz a recorrência

f (n) =

n

∑

i=1

f (i − 1) f (n − i), onde f (0) = 1, f (1) = 1

Depois mostra que o número de caminhos norte-leste c(n) do ponto (0, 0) ao ponto (n, n) que
não ultrapassam a reta y = x satisfazem uma relação equivalente

c(n) =

n

∑

i=1

c(i − 1)c(n − i), onde c(0) = 1, c(1) = 1

Como essas recorrências são idênticas, ele conclui que há uma bijeção entre o número
de permutações que desconhecem o padrão 132 e o número de caminhos norte-leste que não
ultrapassa a reta y = x.

Feito isso, ele demonstra que o número c(n) é dado por c(n) =

1
n + 1

(cid:32)

(cid:33)
.

2n
n

122

APÊNDICE A. Comentários do autor

Após conhecer essa relação entre as permutações que desconhecem o padrão 132 e o
número de caminhos norte-leste, iniciei uma busca para estabelecer uma relação explícita de
bijeção entre esses dois conjuntos. O resultado dessa busca foi a criação da sequência descidas
Qσ , deﬁnida na página 105 e o caminho sul-leste Cσ deﬁnido na página 109. A partir dessa
construção, consegui estabelecer uma relação explícita entre as permutações que desconhecem
o padrão 132 e um caminho na malha quadriculada (não exatamente o mesmo de Bona, mas
um equivalente). Em minha pesquisa por artigos relacionados, não encontrei nenhuma solução
semelhante a que desenvolvi neste trabalho.

UNIVERSIDADE DE SÃO PAULOInstituto de Ciências Matemáticas e de Computação