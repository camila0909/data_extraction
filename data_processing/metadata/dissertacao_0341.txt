Universidade Federal de São Paulo

Instituto de Ciência e Tecnologia

Mestrado Proﬁssional em Matemática
em Rede Nacional - PROFMAT

Contagem via funções geradoras

Marina Miranda Alves Brasiliano

Orientador: Prof. Dr. Robson da Silva

São José dos Campos
Setembro, 2020

Título: Contagem via funções geradoras

Dissertação apresentada ao Instituto de Ciência e Tecnologia da UNIFESP, campus São
José dos Campos/SP, como parte dos requisitos exigidos para a obtenção do título de
Mestre pelo Programa de Mestrado Proﬁssional em Matemática em Rede Nacional –
PROFMAT.

São José dos Campos
Setembro, 2020

Miranda Alves Brasiliano, Marina

Contagem via funções geradoras, Marina Miranda Alves Brasi-

liano – São José dos Campos,2020.

LXVI, 66f.

Dissertação (Mestrado) – Universidade Federal de São Paulo. Insti-

tuto de Ciência e Tecnologia. Programa de Pós-Graduação em Matemática

em Rede Nacional (PROFMAT).

Counting by generating functions

1. Funções geradoras. 2. Funções geradoras no Ensino Médio. 3.

Combinação com repetição.

4. Conjuntos ponderados.

5. Séries de

potências formais. 6. Funções geradoras exponenciais.

UNIVERSIDADE FEDERAL DE SÃO PAULO

INSTITUTO DE CIÊNCIA E TECNOLOGIA

34
Mestrado Proﬁssional em Matemática em Rede Nacional
PROFMAT

Chefe de Departamento:

Prof. Dr. Eduardo Antonelli

Coordenador do Programa de Pós-Graduação:

Prof. Dr. Angelo Calil Bianchi

iv

marina miranda alves brasiliano

C O N TA G E M V I A F U N Ç Õ E S G E R A D O R A S

Presidente da banca: Prof. Dr. Robson da Silva

Banca examinadora:

Profa. Dra. Claudia Aline Azevedo dos Santos Mesquita

Profa. Dra. Gleiciane da Silva Aragão

Prof. Dr. Mateus Alegri

Data da Defesa: 04 de Setembro de 2020

v

“Façamos o nosso melhor. O restante Deus fará!”
São Padre Pio de Pietrelcina

vi

A G R A D E C I M E N T O S

Agradeço a Deus por ter me proporcionado todas as condições necessárias para conseguir
iniciar, perdurar e ﬁnalizar o Mestrado Proﬁssional em Matemática: pais que se sacriﬁcaram
para me proporcionar uma educação de qualidade, marido e ﬁlhos que compreenderam
minha ausência e me apoiaram, um orientador excepcional cuja raiz acadêmica é a mesma
que a minha, amigos de turma que deixaram às sextas-feiras mais leves e divertidas, e
professores maravilhosos e comprometidos que, com certeza, ﬁzeram toda a diferença na
minha formação acadêmica e proﬁssional. A todas essas pessoas que foram presentes de
Deus em minha vida, meu muito obrigada!

vii

R E S U M O

Motivado por uma questão do Exame Nacional do Ensino Médio - Enem - de 2017,
o presente trabalho, visando ampliar o conhecimento do professor de Matemática sobre
Combinatória Enumerativa, apresenta as funções geradoras como uma ferramenta impor-
tante na resolução de problemas, principalmente os de contagem em que são permitidas
repetições na escolha de objetos. Para tanto, essa dissertação apresenta desde uma visão
intuitiva para a função geradora, quanto uma mais aprofundada no âmbito de conjuntos
ponderados e séries de potências formais. Por ﬁm, uma proposta didática é apresentada
para que tal ferramenta de contagem possa ser levada pelo professor aos seus alunos.
Palavras-chave: 1. Funções geradoras.
3.
2. Funções geradoras no Ensino Médio.
Combinação com repetição. 4. Conjuntos ponderados. 5. Séries de potências formais.
6. Funções geradoras exponenciais.

A B S T R A C T

Motivated by a question from the National High School Examination - Enem - 2017, the
present work, aiming at improving teacher’s mathematics knowledge about Enumerative
Combinatorics, presents as generating functions an important tool to solve problems,
mainly the ones in which repetitions in the choice of objects are allowed. For this purpose,
this dissertation presents an intuitive vision of generating function, as well as in the context
of weighted sets and series of formal powers. Finally, a didactic proposal is presented so
that such a counting tool can be used by the teacher and his students.
Keywords: 1. Generating functions.
3.
Combination with repetition. 4. Weighted sets. 5. Formal power series. 6.Exponential
generating functions.

2. Generating funtions in High School.

viii

S U M Á R I O

INTRODUÇÃO
1 preliminares

2

3

2 funções geradoras

7

3 funções geradoras no ensino médio

10

4 combinação com repetição

15

5 coeficientes de funções geradoras

19
6 forma fechada de uma função geradora

24

7 conjuntos ponderados

29
8 séries de potências formais

39
9 funções geradoras exponenciais

48

10 proposta didática

56

10.1 Proposta didática: Todas as possibilidades em uma só expressão
10.2 Orientações sobre a proposta didática

61

57

11 considerações finais

65

referências bibliográficas

66

1

I N T R O D U Ç Ã O

Segundo a Base Nacional Comum Curricular (BNCC), os professores do Ensino Médio
devem trabalhar com alunos a habilidade de “elaborar e resolver problemas de contagem
envolvendo diferentes tipos de agrupamentos de elementos, por meio dos princípios aditivo
e multiplicativo, recorrendo a estratégias diversas como o diagrama de árvore”. Essa
habilidade está dentro da Competência Matemática e suas Tecnologias (ver Item 5.2 em
[1]). Tal competência refere-se à “capacidade do aluno de utilizar estratégias, conceitos
e procedimentos matemáticos para interpretar, construir modelos e resolver problemas
em diversos contextos, analisando a plausibilidade dos resultados e a adequação das
soluções propostas, de modo a construir argumentação consistente”. Nesse contexto,
cabe ao professor veriﬁcar qual a melhor maneira de trabalhar a Análise Combinatória
com os seus alunos, o quão aprofundada ela será dada. Para [2], o professor deve estar
presente e ser atuante nas diferentes fases do processo de aprendizagem de seu aluno,
tendo necessariamente que interpretar, gerir, planejar, colocar em prática e avaliar as suas
opções curriculares.

Na maioria das vezes e na maior parte dos materiais didáticos a Análise Combinatória
contempla os princípios fundamentais da contagem e os seguintes tipos de agrupamentos
de objetos: permutação simples, permutação com repetição, arranjo simples e combinação
simples. Por várias questões como número de aulas semanais e obrigatoriedade de cumprir o
conteúdo, independente da efetividade do aprendizado, nada além disso é ensinado. E essa
atitude de se trabalhar o básico da combinatória tem boa aceitação entre os professores.
No entanto, em 2017, o Exame Nacional do Ensino Médio (ENEM), trouxe uma
questão de combinatória mais desaﬁadora, era necessário saber resolver uma equação com
variáveis inteiras não negativas. O resultado não podia ser outro, segundo a plataforma
+ENEM (ver [6]), apenas 10% dos alunos no Brasil que ﬁzeram a prova acertaram essa
questão. Mas o mais intrigante foi o fato de que quase a metade dos alunos escolheram
a alternativa que trabalhava a questão como um problema de combinação simples, ou
seja, possivelmente eles só usaram as ferramentas que conheciam para tentar resolver e
chegar a uma solução que estava presente como alternativa. Assim, esse trabalho tem
como objetivo apresentar ao professor de Matemática uma ferramenta para se resolver
questões de contagem que ultrapassa o básico trabalhado no ensino médio e, mostrar,
através de uma simples proposta didática que utiliza o produto notável do quadrado da
soma de duas variáveis como disparador, que é possível também ampliar o horizonte do
aluno no que tange à análise combinatória.

2

1

P R E L I M I N A R E S

Ao analisarmos os conteúdos que apareceram, desde 2009 até 2019, no Exame Nacional
do Ensino Médio - Enem, conhecido como a maior porta para a universidade pública,
veriﬁcamos que pelo menos uma questão de análise combinatória esteve presente em uma
de suas versões (o comum, Libras ou PPL), sendo que o do ano de 2017 foi o exame que
mais questões desse assunto contemplou, foram quatro ao todo. Mas foi uma questão em
especial nesse ano que assustou muitos vestibulandos e professores por não ser usual e
depois da apresentação dos resultados, pelo baixíssimo índice de acerto.

A referida questão do ENEM 2017 era a seguinte: Um brinquedo infantil caminhão-
cegonha é formado por uma carreta e dez carrinhos nela transportados, conforme a ﬁgura.

Figura 1: Caminhão-cegonha

No setor de produção da empresa que fabrica esse brinquedo, é feita a pintura de
todos os carrinhos para que o aspecto do brinquedo ﬁque mais atraente. São utilizadas as
cores amarelo, branco, laranja e verde, e cada carrinho é pintado apenas com uma cor. O
caminhão-cegonha tem uma cor ﬁxa. A empresa determinou que em todo caminhão-cegonha
deve haver pelo menos um carrinho de cada uma das quatro cores disponíveis. Mudança
de posição dos carrinhos no caminhão-cegonha não gera um novo modelo do brinquedo.

Com base nessas informações, quantos são os modelos distintos do brinquedo caminhão-

cegonha que essa empresa poderá produzir?
a) C6,4
b) C9,3
c) C10,4
d) 64
e) 46

Ao se deparar com uma questão como essa, a primeira noção que o aluno tem que
ter é o que signiﬁca C6,4 ou C9,3, por exemplo. Se o estudante nunca teve contato com a
análise combinatória e suas simbologias ﬁcará confuso, mas se por outro lado, sabe o que
signiﬁca a notação Cn,p estará mais próximo de uma possível resolução. Trata-se de uma
combinação simples de n elementos tomados p a p, com n ≥ 1 e p um número natural
tal que p ≤ n. De maneira simplista, Cn,p gera o número de maneiras de se agrupar p
elementos pertencentes a um grupo de n elementos, sem a preocupação do lugar que ocupa.

3

preliminares

4

Os agrupamentos diferem-se entre si apenas pela natureza dos elementos, e não por sua
posição. Assim, quando o aluno se depara com a frase “Mudança de posição dos carrinhos
no caminhão-cegonha não gera um novo modelo do brinquedo”, possivelmente irá inferir
que a ordem não importa e, portanto, que se trata de uma combinação. Basta saber agora
qual é a correta. E nesse raciocínio, cabe a pergunta: o que explica que quase a metade dos
estudantes brasileiros optaram pela alternativa c, ou seja, C10,4? Talvez tenham pensado:
“são dez carrinhos e quatro cores, logo deverá ter o número 10 e o número 4 na alternativa”,
ou ainda, “tenho dez carrinhos e quatro cores, vou escolher dos dez carrinhos quatro para
pintar um de cada cor, já que deverá ter pelo menos um de cada cor”. Infelizmente, não é
possível saber o que se passou na cabeça dos alunos que optaram pela alternativa c, mas é
possível procurar maneiras de se trabalhar esse conteúdo com os futuros alunos para que
estes não cometam o mesmo engano.

E o professor, será que está pronto para esse desaﬁo? Será que ele mesmo entende que
tipo de agrupamento essa questão sugere? Uma alternativa é procurar como se resolver
a questão. Um dos sites mais utilizados por professores para fazer provas e listas de
exercícios trouxe a seguinte resolução (ver [11]):

Sabendo-se que cada caminhão cegonha possui 10 carros e que é preciso ao menos um
carrinho de cada cor, então restam 6 carrinhos nos quais as cores podem ser permutadas.
Sendo a, b, c e d a quantidade de carrinhos brancos, laranjas, amarelos e verdes, além dos
4 já pintados (um de cada cor), tem-se:

a + b + c + d = 6.

Assim, a quantidade de soluções inteiras não negativas dessa equação de quatro variáveis
será:





6 + 4 − 1
4 − 1


 =






 = C9,3.

9
3

Para quem sabe resolver equações de variáveis inteiras positivas utilizando-se combina-
ção com repetição essa resolução é suﬁciente, mas para a grande maioria que não ultrapassa
o limite da combinação simples, essa resolução não é nada plausível. O indivíduo irá se
perguntar como uma equação de quatro variáveis possui o número de soluções possíveis
expressa por um número binomial? Posto isto, o que está por trás de uma questão como
essa? E se fossem dadas mais restrições para as cores dos carrinhos, como por exemplo, a
empresa determina que obrigatoriamente terá que ter 1, 2 ou 3 carrinhos laranjas e, ao
mesmo tempo, 1, 2 ou 3 carrinhos verdes. Como resolveríamos essa questão? Será que
também chegaríamos a uma combinação? Será que existe uma maneira para se resolver
problemas como estes, em que é permitida a repetição de elementos e que, além disso,
existem restrições importantes a serem consideradas? É nesse espírito, de ir além do
que se trabalha no ensino médio, que será feito aqui o estudo de funções geradoras, que

preliminares

5

segundo [9, Cap. 5], é uma das “principais ferramentas para a solução de problemas
de contagem, especialmente problemas que envolvem a seleção de objetos nos quais a
repetição é permitida”.

Mas antes, é necessário que tenhamos a base de combinatória bem deﬁnida. Vejam

seus dois princípios básicos de acordo com [9, Cap. 2]:

Princípio Aditivo da Contagem: Se A e B são dois conjuntos disjuntos, ou seja,
A ∩ B = ∅, com p e q elementos, respectivamente, então A ∪ B terá p + q elementos.
Poderemos também dizer que sejam dois eventos A e B mutuamente exclusivos, de tal
forma que o primeiro pode ocorrer de p maneiras diferentes e o segundo, de q maneiras
distintas, então o número de maneiras de ocorrer o evento A ou o evento B é p + q.

Princípio Multiplicativo da Contagem: Se um evento A pode ocorrer de m
maneiras diferentes e, se para cada uma dessas m maneiras possíveis de A ocorrer, um
outro evento B pode ocorrer de n maneiras diferentes, então o número de maneiras de
ocorrer o evento A seguido do evento B é m · n.

Note que o Princípio Aditivo é usado quando temos hipóteses e o Princípio Multiplica-
tivo, quando temos etapas. Geralmente, as hipóteses são ligadas pela conjunção “ou”, já
as etapas, pela conjunção “e”. Além do mais, esses dois princípios podem ser estendidos
para um número ﬁnito de conjuntos ou eventos sucessivos, conforme mostra [9, Cap. 2] ao
deﬁnir as seguintes extensões para os dois princípios.

Extensão do Princípio Aditivo: Se A1, A2, ..., An são conjuntos disjuntos 2 a 2, e

se Ai possui ai elementos, então a união Sn

i=1 = Ai possui Pn

i=1 ai elementos.

Extensão do Princípio Multiplicativo: Se um evento Ai pode ocorrer de mi ma-
neiras diferentes, para i = 1, 2, 3, ..., n, então esses n eventos podem ocorrer sucessivamente
de m1 · m2 · · · mn maneiras diferentes.

Exemplo 1.1. (IFAL 2018) Em uma civilização antiga, o alfabeto tinha apenas três letras.
Na linguagem dessa civilização, as palavras tinham de uma a quatro letras. Quantas
palavras existiam na linguagem dessa civilização?

a)4.
b)12.
c)16.
d)40.
e)120.
Temos 4 hipóteses: a palavra possui uma letra (evento A1), duas letras (evento A2),
três letras (evento A3) ou quatro letras (evento A4). Vamos calcular o total de maneiras de
cada evento ocorrer sabendo que nesse alfabeto só existem 3 letras, e pelo Princípio Aditivo
da Contagem, somar essas possibilidades. Para o evento A1, temos 3 possibilidades. Para
o evento A2, temos 3 possibilidades para a primeira letra e 3 para a segunda, como são
2 etapas, teremos pelo Princípio Multiplicativo da Contagem, 3 · 3 = 32 = 9 maneiras.
Analogamente, para os eventos Ai, teremos 3i maneiras. Logo, a resposta esperada será
3 + 32 + 33 + 34 = 3 + 9 + 27 + 81 = 120.

preliminares

6

Em relação aos tipos de agrupamentos, iremos mostrando e deﬁnindo os que iremos
utilizar conforme forem aparecendo no texto. No Capítulo 2, veremos funções geradoras
de maneira mais intuitiva à luz das ideias de [9], já no Capítulo 3, mostraremos como de
certa forma essa função está implícita em alguns conteúdos trabalhados no ensino médio.
No Capítulo 4, veremos combinações com repetição partindo de resoluções de equa-
ções cujas variáveis são inteiros não negativos. Voltando às funções geradoras, veremos,
no Capítulo 5, o que signiﬁcam seus coeﬁcientes e como calculá-los, pois nem sempre
representarão uma resposta para problemas como o do caminhão-cegonha.

No Capítulo 6, veremos como encontrar, dada a função geradora, uma forma mais
simples de reescrevê-la, chamada forma fechada de uma função geradora. A partir daí,
iniciaremos a parte mais formal da dissertação que, baseado em [4], veremos uma combi-
natória enumerativa enfatizando métodos bijetivos. Para isso trabalharemos conjuntos
ponderados e suas respectivas funções geradoras no Capítulo 7, porém, nesse capítulo só
serão apresentados exemplos de conjuntos ﬁnitos, por exemplo, o conjunto de permutações
de uma palavra ponderados por suas inversões.

No Capítulo 8, apresentaremos o que são séries de potências formais e sua relação
com conjuntos ponderados, mas desta vez, inﬁnitos. Também veremos como eles devem
ser para também admitirem função geradora. Além disso, veremos algumas propriedades
importantes dessas séries, por exemplo, todo polinômio de uma variável é um caso especial
de séries de potências formais e que podemos ter composição de séries dadas algumas
restrições. Veremos tudo isso, para que, no Capítulo 9, possamos estudar funções geradoras
exponenciais e diferenciá-las das ordinárias vistas anteriormente.

E, ﬁnalmente, no Capítulo 10, será apresentada uma proposta didática com problemas,
inclusive o do caminhão-cegonha, para que os alunos possam resolvê-los usando a ideia de
função geradora. A proposta utiliza conhecimentos pré-existentes sobre produto notável
e sobre os princípios básicos da contagem, a ﬁm de explicar de maneira mais didática
possível como funciona tal ferramenta e como ela gera resultados de combinatória para,
neste caso, problemas em que a ordem não será considerada.

2

F U N Ç Õ E S G E R A D O R A S

As funções geradoras tiveram origem nos trabalhos do matemático francês Abraham De
Moivre (1667-1754), que tem seu nome conhecido pelos alunos do ensino médio pela
famosa fórmula da potência de um número complexo, a fórmula de De Moivre, e que
contribuiu de maneira signiﬁcativa para a teoria das probabilidades. Porém, foi Leonhard
Euler (1707-1783), o matemático que de fato “domou” os números complexos, descobertos
dois séculos antes, tornando acessíveis as operações com estes [3, p. 185], que aplicou
funções geradoras de maneira intensiva para solucionar problemas em Teoria Aditiva dos
Números, especialmente na Teoria de Partições. Outros dois importantes matemáticos
que utilizaram esse método foram S. Laplace (1749-1827) no estudo da probabilidade e N.
Bernoulli (1687-1759) no estudo de permutações caóticas.

Mas o que é uma função geradora? Se voltarmos à questão do Enem sobre o caminhão-
cegonha que motivou o presente estudo, podemos interpretar esse problema da seguinte
maneira: sabendo que no caminhão-cegonha estão dez carrinhos, que pelo menos um deles
deverá ter cada uma das quatro cores e que a ordem dos carrinhos não é considerada,
temos que sobram seis carrinhos que podem ser pintados com as quatro cores, de tal
forma que podemos ter todos da mesma cor, cinco de uma cor e um de outra, quatro
da mesma cor e dois de outra, etc. Ou seja, se atribuirmos as variáveis x1, x2, x3 e x4
para, respectivamente, a quantidade de carrinhos a serem pintados da cor amarela, branca,
laranja ou verde, teremos que x1 + x2 + x3 + x4 = 6. Assim, o resultado do problema será
numericamente igual ao total de soluções inteiras não negativas dessa equação.

Pensemos agora nos valores que cada uma dessas variáveis podem ter. Por exemplo, se
todos os carrinhos forem pintados de amarelo, esse fato corresponde à solução (6, 0, 0, 0) da
equação. Se dois carrinhos forem pintados de amarelo, dois de branco, um de laranja e um
de verde, isso corresponderá a solução (2, 2, 1, 1). Logo, podemos inferir que as variáveis
x1, x2, x3 e x4 podem assumir os valores 0, 1, 2, 3, 4, 5 ou 6.

Em seguida, façamos a associação de cada variável ao polinômio x0 + x1 + x2 + x3 +
x4 + x5 + x6, que controla seus possíveis valores. Perceba que os expoentes correspondem

7

funções geradoras

8

a cada valor que x1, x2, x3 e x4 podem assumir. Assim, como temos quatro variáveis e
utilizando-se o princípio multiplicativo da contagem, temos:

(x0 + x1 + x2 + x3 + x4 + x5 + x6)4 = x24 + 4x23 + 10x22 + 20x21 + 35x20 + 56x19
+ 84x18 + 116x17 + 149x16 + 180x15 + 206x14
+ 224x13 + 231x12 + 224x11 + 206x10 + 180x9
+ 149x8 + 116x7 + 84x6 + 56x5 + 35x4 + 20x3
+ 10x2 + 4x + 1.

Sabemos que a resposta procurada é C9,3, e que essa combinação é igual a 84. Observe
que o coeﬁciente de x6 é 84, exatamente a resposta esperada. Mas o que signiﬁca então
o coeﬁciente de x24 ou o coeﬁciente de x9? São soluções de que situação? Ora, como
x1, x2, x3 e x4 podem assumir qualquer valor do conjunto {0, 1, 2, 3, 4, 5, 6}, poderíamos
escolher, por exemplo, x1 = x2 = x3 = x4 = 6, obtendo assim x1 + x2 + x3 + x4 = 24.
Note que não teríamos nenhuma outra maneira para que a soma das variáveis desse 24,
ou seja, só existe uma maneira de escolhermos valores para as variáveis de tal forma que
sua soma seja 24, e de fato, o coeﬁciente de x24 é 1. Observe também que as soluções
(5, 6, 6, 6), (6, 5, 6, 6), (6, 6, 5, 6) e (6, 6, 6, 5) geram x1 + x2 + x3 + x4 = 23, e que não
existe nenhuma outra solução com as restrições dadas com a soma dando esse resultado,
o que nos mostra que existem apenas quatro soluções para a referida equação. Veja o
coeﬁciente de x23, exatamente o número de soluções encontradas. Logo, podemos inferir
que existem consequentemente 180 soluções para a equação x1 + x2 + x3 + x4 = 9, com
as variáveis assumindo valores de 0 a 6, já que o coeﬁciente de x9 é igual a 180.

Assim, o polinômio x24 + 4x23 + 10x22 + 20x21 + 35x20 + 56x19 + 84x18 + 116x17 +
149x16 + 180x15 + 206x14 + 224x13 + 231x12 + 224x11 + 206x10 + 180x9 + 149x8 + 116x7 +
84x6 + 56x5 + 35x4 + 20x3 + 10x2 + 4x + 1 é a função geradora para o problema “qual é
o número de soluções da equação x1 + x2 + x3 + x4 = m tal que xi ∈ {0, 1, 2, 3, 4, 5, 6}
para i = 1, 2, 3, 4?”, uma vez que a sequência formada pelos seus coeﬁcientes nos fornece
as respostas para este problema para todos os possíveis valores de m.

De maneira mais geral, conforme [9, Cap. 5], uma função geradora para uma sequência

(a0, a1, a2, ...) é a série de potências

∞
X

n=0

anxn = a0 + a1x + a2x2 + . . . .

Note que um polinômio p(x) = a0 + a1x + ... + amxm pode ser visto como a série de

potências P∞

n=0 anxn = a0 + a1x + a2x2 + ..., em que an = 0, para ∀n > m.

No caso do problema do caminhão-cegonha, a sequência que fornece as respostas do

problema é

(1, 4, 10, 20, 35, 56, 84, 116, ..., 10, 4, 1, 0, 0, 0, ...),

funções geradoras

9

sendo que cada termo ar dessa sequência, para r = 0, 1, 2, ..., é o coeﬁciente de xr na série
de potências que representa sua função geradora ordinária:

f (x) =x24 + 4x23 + 10x22 + 20x21 + 35x20 + 56x19 + 84x18 + 116x17 + 149x16 + 180x15
+ 206x14 + 224x13 + 231x12 + 224x11 + 206x10 + 180x9 + 149x8 + 116x7 + 84x6
+ 56x5 + 35x4 + 20x3 + 10x2 + 4x + 1.

Mais adiante será mostrada uma outra maneira de se conceber função geradora, bem
como serão apresentados tipos especias dessas funções, como por exemplo, a função
geradora de inversão e a função geradora exponencial, respectivamente apresentadas nos
Capítulos 7 e 9.

3

F U N Ç Õ E S G E R A D O R A S N O E N S I N O M É D I O

Ao analisarmos o Currículo do Estado de São Paulo sobre Matemática e suas tecnologias
da Secretaria da Educação de 2011 [10], encontraremos um conteúdo que faz parte da
lista dos referentes ao segundo ano do Ensino Médio chamado “Binômio de Newton”, cuja
habilidade a ser trabalhada em sala de aula pelo professor com seus alunos é “conhecer e
saber utilizar as propriedades simples do Binômio de Newton e do Triângulo de Pascal”. E
esse mesmo currículo mostra a importância de tal conteúdo fazendo a seguinte comparação:
“A Matemática, sua história e sua cultura são um exemplo candente de equilíbrio entre a
conservação e a transformação, no que tange aos objetos do conhecimento. Uma máquina
a vapor ou um computador IBM 360 certamente têm, hoje, interesse apenas histórico,
podendo ser associados a peças de museu. O Teorema de Pitágoras, o Binômio de Newton
e a Relação de Euler, no entanto, assim como os valores humanos presentes em uma peça
de Shakespeare, permanecem absolutamente atuais.”

Outro ponto a ser destacado sobre o Binômio de Newton é que apesar de levar o
nome do matemático e físico inglês Isaac Newton (1642-1727), que para [3, p.157], em
seu Capítulo XV intitulado sagazmente como “Faça-se Newton! E tudo foi Luz...”, foi o “
maior intelecto já produzido pela Humanidade no âmbito das Ciências Exatas”, o binômio
com expoente inteiro não-negativo não foi o real objeto de estudo de Newton. Esse gênio
estava na verdade interessado na época em três temas: o traçado analítico de tangentes, a
quadratura de curvas e as séries inﬁnitas. Foi quando, por volta de 1664-1665, descobriu
como exprimir potências racionais de binômios por meio de séries, cuja fórmula pode ser
expressa resumidamente como:

(1 + x)

m
n =1 +

m
n
x +
1!
( m
n )( m

( m
n )( m
n − 1)
2!
n − 1)( m
n − 2)( m
4!

x2 +

n − 3)

( m
n )( m

n − 1)( m
3!
x4 + ...

+

n − 2)

x3

(1)

A demonstração rigorosa de tal descoberta só foi feita por Gauss no século XIX. Assim,
o Binômio de Newton estudado na escola é um caso particular do binômio de expoente
racional tratado por Newton em relação ao expoente, tal que m poderá ser 0, 1, 2, 3... e
n sempre será 1 e, por outro lado, é um caso expandido em relação ao binômio, pois ao
invés de usar apenas o (1 + x), utiliza-se qualquer binômio, por exemplo, (a + b).

Na maioria dos livros didáticos de Matemática do ensino médio o Binômio de Newton é
apresentado aos alunos como a potência (a + b)n para n = 0, 1, 2, ... com suas respectivas
expansões. Veja os primeiros casos das expansões do Binômio de Newton:

10

funções geradoras no ensino médio

11

(a + b)0 = 1
(a + b)1 = a + b
(a + b)2 = a2 + 2ab + b2
(a + b)3 = a3 + 3a2b + 3ab2 + b3
(a + b)4 = a4 + 4a3b + 6a2b2 + 4ab3 + b4
(a + b)5 = a5 + 5a4b + 10a3b2 + 10a2b3 + 5ab4 + b5.

Note que existe um padrão em relação aos coeﬁcientes, como por exemplo, quando temos
o a ou o b elevados ao maior expoente possível, tem-se coeﬁcientes sempre iguais a 1, termos
que representam monômios de mesmo grau também sempre possuem o mesmo expoente,
ou seja, resumidamente podemos dizer que termos simétricos têm mesmo coeﬁciente. E
porque isso acontece?

Se ao invés de potência, fosse veriﬁcado um produto entre três binômios distintos, por

exemplo, (a + b)(c + d)(e + f ). Perceba que

(a + b)(c + d)(e + f ) = ace + acf + ade + adf + bce + bcf + bde + bdf

(2)

é formado de 8 termos, cada termo possui três letras, cada uma delas selecionadas de
um dos binômios. Como são duas opções de letras em cada binômio, pelo princípio
multiplicativo da contagem, temos 23 = 8 termos. Se o produto fosse formado por n
binômios, pelo princípio multiplicativo da contagem, teríamos 2n termos. Consideremos,
agora, (a + b)(a + b)(a + b). E em (2) substituiremos c e e por a, bem como, d e f por b,
obtendo

(a + b)(a + b)(a + b) = aaa + aab + aba + abb + baa + bab + bba + bbb

= a3 + a2b + a2b + ab2 + a2b + ab2 + ab2 + b3
= a3 + 3a2b + 3ab2 + b3.

(3)

Note que a soma dos coeﬁcientes continuou 8, porém, tivemos três termos em que o a foi
selecionado duas vezes e o b uma vez, pois posso tirar o a dos dois primeiros binômios, dos
dois últimos, ou do primeiro e do último, ou seja, são três maneiras de escolher dentre três
binômios, dois para serem os fornecedores de a, e consequentemente, o binômio que sobrou,
fornecerá b. Assim, conforme deﬁnição de combinação simples dada nas preliminares, o
coeﬁciente de a2b é igual a C3,2. Analogamente, o coeﬁciente de ab2 será C3,1, pois será
escolhido de três binômios um para ser o fornecedor de a. Logo, podemos reescrever (3)
como

(a + b)3 = C3,3a3 + C3,2a2b + C3,1ab2 + C3,0b3.

funções geradoras no ensino médio

12

Seguindo o mesmo raciocínio, como (a + b)n = (a + b)(a + b)...(a + b), o coeﬁciente
de akbn−k será igual ao total de k escolhas de a, dentre os n produtos de a + b. Para cada
k escolhas de a, restam n − k escolhas de b. Pela comutatividade dos número reais, a
ordem não importa e, consequentemente, há Cn,k maneiras de se fazer essa escolha. Logo,

(a + b)n =Cn,nan + Cn,n−1an−1b + Cn,n−2an−2b2 + ...

+ Cn,2a2bn−2 + Cn,1abn−1 + Cn,0bn.

(4)

De fato, segundo [4, Cap. 1], Cn,k, para 0 ≤ k ≤ n, é dado por

n!
k!(n−k)!

. Para k < 0

ou k > n, deﬁne-se Cn,k = 0.

No Ensino Médio, geralmente após ser apresentado o Binômio de Newton, o professor
segue para um famoso triângulo chamado de “Triângulo de Pascal”, que para [9, Cap.
3] é deﬁnido como o triângulo formado pelos coeﬁcientes de (4) para n = 0, 1, 2, 3....
Esse triângulo também é conhecido como Triângulo Aritmético, de Tartaglia-Pascal ou
simplesmente Triângulo Combinatório. Existem maneiras distintas de escrevê-lo em relação
ao seu formato, mas para facilitar a comparação de cada elemento aos coeﬁcientes das
expansões binomiais, ele será mostrado da seguinte forma:

1

1

1

1

1

1

2

3

4

1

3

6

1

4

1

Enumerando-se as linhas de acordo com o expoente da potência da qual os coeﬁcientes
foram retirados e enumerando-se as colunas da mesma forma, de 0 a n, é possível perceber
que cada elemento representa a combinação simples Cn,p, onde n é a potência do binômio
e p é a coluna referente, ou seja, o termo (p + 1) da expansão binomial. Por exemplo,
na linha 4 e na coluna 2 temos o número 6, coeﬁciente do terceiro termo da expansão
de (a + b)4, que equivale a C4,2. Assim, podemos dizer que existem seis maneiras de
escolhermos dois elementos de um conjunto de quatro elementos distintos.

Como nosso interesse aqui são as funções geradoras, tomemos a = x e b = 1 em
cada binômio a enésima potência para os Binômios de Newton. Obteremos as expansões
binomiais reescritas da seguinte forma:

funções geradoras no ensino médio

13

(x + 1)0 = 1
(x + 1)1 = x + 1
(x + 1)2 = x2 + 2x + 1
(x + 1)3 = x3 + 3x2 + 3x + 1
(x + 1)4 = x4 + 4x3 + 6x2 + 4x + 1
(x + 1)5 = x5 + 5x4 + 10x3 + 10x2 + 5x + 1

Note que os coeﬁcientes mantiveram-se os mesmos, e portanto, continuam sendo os
números de cada linha do Triângulo de Pascal. Além disso, voltamos a equação (1) para
m = 0, 1, 2... e n = 1.

Note que cada expansão acima pode ser considerada, conforme deﬁnição dada no
capítulo anterior, uma função geradora ordinária para a sequência formada pelos elementos
de cada linha do referido triângulo.

Por exemplo, um problema prático que teria f (x) = x5 + 5x4 + 10x3 + 10x2 + 5x + 1
como função geradora seria “Quantos subconjuntos de n elementos tem um conjunto
de cinco elementos?”. Assim, se n = 0, teríamos o conjunto vazio (1 maneira), se
n = 1, teríamos o conjunto unitário (5 maneiras), e assim por diante. Logo, a sequência
(ar) = (1, 5, 10, 10, 5, 1) pode ser vista como o resultado do total de escolhas que posso
fazer de um grupo de cinco elementos tomados r a r, ou seja, combinação simples de 5
elementos tomados r a r (C5,r). Uma outra maneira de escrever a função geradora acima,
usando o Binômio de Newton, seria

f (x) = (x + 1)5.

Mais a diante, veriﬁcaremos que essa é a forma fechada de se escrever a referida função

geradora.

Consequentemente, segundo [9, Cap. 5], como o número de maneiras de retirarmos r
objetos de um conjunto de n objetos distintos, r ≤ n, é Cn,r, a função geradora ordinária
para este problema é: f (x) = Pn

r=0 Cn,rxr, como visto na equação (4), teremos

f (x) = (x + 1)n.

Outra parte desse conteúdo que é trabalhado no ensino médio são as propriedades do
Triângulo de Pascal. Uma em especial é o Teorema das Linhas (ver [7, Cap. 6]), que diz
que para cada linha n do Triângulo Aritmético, a soma de seus elementos é numericamente
igual ao total de subconjuntos de um conjunto de n elementos, ou seja, Pn
i=0 Cn,i = 2n.
Isso ocorre pois para achar o número de elementos de um subconjunto posso pensar que vou
escolher dos n elementos i para compor o subconjunto para 0 ≤ i ≤ n, ou simplesmente,

funções geradoras no ensino médio

14

que para cada elemento tenho 2 possibilidades de escolha, estar ou não no subconjunto,
ou seja, pelo princípio multiplicativo da contagem, de 2n maneiras. Ainda posso chegar
nesse resultado usando a função geradora f (x) = (x + 1)n, pois é ensinado no conteúdo
de Binômio de Newton que para encontrarmos a soma dos coeﬁcientes da expansão de um
binômio, temos que substituir as variáveis por 1. Note que

f (1) = (1 + 1)n = 2n =

n
X

i=0

Cn,i,

ou seja, resulta na soma dos coeﬁcientes da função geradora f (x) = (x + 1)n. A ideia de
substituirmos a variável por 1 de uma função geradora será revisitada no Capítulo 7 com
maiores detalhes.

Assim, apesar de função geradora não ser um conteúdo previsto para o ensino médio,
é possível, sem ferir o que está previsto no currículo de Matemática, se trabalhar com
este assunto no âmbito da educação básica a partir de problemas da análise combinatória
rotineiros e utilizando-se o Binômio de Newton, como foi o caso do problema prático acima.
Mas ainda é possível ir um pouco mais além no ensino médio, em seu currículo do
Estado de São Paulo (ver [10]), por exemplo, não é especiﬁcado o tipo de combinação que
se deve ser trabalhada com o aluno, tanto que a questão do Enem de 2017 que impulsionou
o presente estudo referiu-se a combinação com repetição, e já vimos nas preliminares que
existe uma função geradora que gerou o resultado da questão. Falta saber o motivo dos
coeﬁcientes da função geradora encontrada resultar na combinação com repetição desejada.
No próximo capítulo será estudada a combinação com repetição.

4

C O M B I N A Ç Ã O C O M R E P E T I Ç Ã O

Retornemos ao problema do Enem de 2017 que motivou o presente estudo. Vimos que o
resultado do problema será numericamente igual ao total de soluções inteiras não negativas
da equação

x1 + x2 + x3 + x4 = 6,

(5)

ao atribuirmos as variáveis x1, x2, x3 e x4 para, respectivamente, a quantidade de carrinhos
a serem pintados da cor amarela, branca, laranja ou verde. No Capítulo 2, a esse problema
foi atribuída uma função geradora que apresentou a solução em um dos seus coeﬁcientes,
sem ainda provar que isso de fato é válido. Mas antes de chegarmos a tal demonstração,
vamos veriﬁcar uma maneira de resolvermos tal equação utilizando-se conceitos básicos de
combinatória.

Seja a equação x1 + x2 = 6 para x1 e x2 inteiros não-negativos. Note que o conjunto
solução dessa equação será {(0, 6), (1, 5), (2, 4), (3, 3), (4, 2), (5, 1), (6, 0)}, e portanto, ela
possui 7 soluções possíveis. Representemos cada uma dessas soluções da seguinte maneira:

(0, 6) : +111111

(1, 5) : 1 + 11111

(2, 4) : 11 + 1111

(3, 3) : 111 + 111

(4, 2) : 1111 + 11

(5, 1) : 11111 + 1

(6, 0) : 111111+

Note que existem sete lugares possíveis para se colocar o sinal de “+” entre seis 10s.
Agora, e se fosse a equação (5), como representaríamos suas soluções dessa maneira?
Ora, manteríamos a mesma quantidade de 10s, porém acrescentaríamos mais símbolos
de “+”. Por exemplo, a solução (2, 3, 0, 1) seria representada por “11 + 111 + +1”. Note
que existem dois “+”consecutivos pois x3 = 0. Já as soluções (1, 3, 1, 1) e (0, 2, 4, 0)
seriam representadas, respectivamente, por “1 + 111 + 1 + 1” e “+11 + 1111+”. Em
todas as representações temos seis símbolos 10s e três símbolos +0s, que, para cada caso,
vão permutando seus lugares. Assim, podemos perceber que o total de soluções inteiras
não-negativas para (5) será igual ao número de maneiras que podemos escolher dentre

15

combinação com repetição

16

nove símbolos, três para serem o “+”, ou seja, C9,3 = 9!
desse problema conforme visto no Capítulo 2.

6!.3! = 84. De fato, 84 é a solução

Veja o seguinte teorema:

Teorema 4.1. O número de soluções em inteiros não-negativos da equação

x1 + x2 + ... + xr = m,

(6)

para m > 0, é dado por Cm+r−1,r−1.

Demonstração. Como estamos interessados em expressar o inteiro m como soma de r
inteiros não-negativos, basta, como ﬁzemos no caso anterior, colocarmos r − 1 sinais de +”
e m números 10s:

11111...1 + + + ...+,

totalizando m + r − 1 símbolos. Como cada permutação distinta entre esses símbolos
gerará uma solução para a equação (6), basta veriﬁcar de quantas maneiras isso deve ser
feito. Devemos escolher dentre os m + r − 1 símbolos, r − 1 para serem os sinais de “+”,
o que pode ser feito de Cm+r−1,r−1 maneiras diferentes.

Exemplo 4.2. (Efomm 2019) Considere uma loja que vende cinco tipos de refrigerantes.
De quantas formas diferentes podemos comprar três refrigerantes desta loja?
a) Dez.
b) Quinze.
c) Vinte.
d) Trinta e cinco.
e) Sessenta.

Solução: Tomemos as variáveis x1, x2, x3, x4 e x5 para determinar a quantidade de
cada tipo de refrigerante a ser comprado. Como serão comprados três refrigerantes, temos
que:

x1 + x2 + x3 + x4 + x5 = 3.

Como temos mais tipos de refrigerantes do que o número de unidades que deverá ser
comprada, existirão variáveis que serão iguais a zero, logo, as soluções dessa equação serão
inteiras não-negativas. Conforme Teorema 4.1, o número de soluções dessa equação, onde
m = 3 e r = 5, será

C3+5−1,5−1 = C7,4 =

7!
4!.3!

=

7.6.5
3.2.1

= 35.

Logo, teremos 35 formas diferentes de comprar os três refrigerantes.

Suponhamos, agora, que os tipos de refrigerante do Exemplo 4.2 são a, b, c, d e e. Na
tabela abaixo temos a lista de todas as 35 possibilidades de compra dos três refrigerantes:

combinação com repetição

17

aaa bbb
aab bba
aac bbc
aad bbd ccd
cce
aae bbe
ade
acd
abc
bcd
ade
ace

ccc
ddd
eee
eea
dda
cca
ccb ddb eeb
eec
ddc
dde
eed
abd abe
bde
bce

Note que a primeira linha da tabela representa as possibilidades de compra do mesmo
tipo de refrigerante, da segunda à quarta linha, temos as possibilidades de compras de
dois tipos iguais e um diferente, e nas duas últimas linhas, estão as de compras de tipos
distintos. Perceba também que essas duas últimas linhas representam as possibilidades de
escolhermos de cinco tipos de refrigerantes, três tipos distintos, ou seja, trata-se de uma
combinação simples de 5 elementos tomados 3 a 3:

C5,2 = 10.

Assim, temos para o problema mais soluções que uma combinação simples pode oferecer.
Para [9, Cap. 3], uma tabela como essa é uma lista das combinações com repetição de 5
tomados 3 a 3, que denotaremos como CR5,3.

Portanto, CRn,p é o número total de maneiras de selecionarmos p objetos dentre n
objetos distintos, onde cada objeto pode ser tomado até p vezes. Assim como CR5,3 gerou
o total de soluções inteiras não-negativas de x1 + x2 + x3 + x4 + x5 = 3, CRn,p gera o
total de soluções inteiras não-negativas da equação x1 + x2 + x3 + ... + xn = p. Logo,
conforme o Teorema 4.1 e a analogia anterior, temos que a combinação com repetição de
n elementos tomados p a p será:

CRn,p = Cn+p−1,n−1.

Um fato interessante a ser considerado é que para combinação simples de n elementos
tomados p a p, p tem que ser menor do que ou igual a n. Já para combinação com repetição,
esta restrição não é necessária, veja a equação gerada pelo problema do caminhão-cegonha
x1 + x2 + x3 + x4 = 6. Temos n = 4 e p = 6, ou seja, p > n.

Outro fato também a ser considerado é que essa fórmula para CRn,p pode ser escrita

como

CRn,p = Cn+p−1,p,

pois, segundo [9, Cap. 2], Cn+p−1,n−1 e Cn+p−1,p são combinações complementares e,
portanto, resultam no mesmo valor. Note que se considerarmos m objetos distintos, o
número de maneiras de escolhermos r objetos é igual ao número de escolhermos (m − r)
objetos, pois, se dos m objetos tirarmos r, sobram (m − r) e o contrário será verdadeiro.
Se dos m objetos tirarmos (m − r), sobram r, pois trata-se de uma bijeção. Logo,
Cm,r = Cm,m−r, onde Cm,m−r é chamada de combinação complementar de Cm,r. Assim,

combinação com repetição

18

se tomarmos m = n + p − 1 e r = n − 1, teremos (m − r) = (n + p − 1) − (n − 1) = p.
Portanto,

Cn+p−1,n−1 = Cn+p−1,p.

Essa mesma informação sobre combinações complementares também pode ser útil para
darmos uma outra resposta para o questionamento feito no Capítulo anterior sobre o fato
de que termos simétricos da expansão de um Binômio de Newton do tipo (a + b)n possuem
o mesmo coeﬁciente. De (4) teremos, por exemplo, que Cn,n−1 e Cn,1 são coeﬁcientes de
termos simétricos da expansão e, por serem, respectivamente, numericamente iguais às
combinações complementares Cn,n−1 e Cn,1, terão o mesmo valor. No próximo Capítulo
iremos mais a fundo no cálculo de coeﬁcientes de uma função geradora.

5

C O E F I C I E N T E S D E F U N Ç Õ E S G E R A D O R A S

No Exemplo 4.2 do Capítulo anterior foi utilizada a combinação com repetição para
solucionar o problema. Vamos agora veriﬁcar como ele pode ser resolvido utilizando-se a
ferramenta “função geradora”. Lembremos que no Capítulo 2 deﬁnimos função geradora
para uma sequência numérica como a série de potências que possuem seus elementos como
coeﬁcientes. Para [9, Cap. 5], se essa sequência é formada por soluções de um problema
combinatório, essa série de potências é uma função geradora ordinária. Vamos encontrar
agora a função geradora da sequência associada às soluções do Exemplo 4.2, que tem como
objetivo calcular de quantas maneiras diferentes podemos comprar três refrigerantes de
uma loja dentre os cinco tipos que ela vende.

Novamente usando as variáveis x1, x2, x3, x4 e x5 para determinar a quantidade de

cada tipo de refrigerante a ser comprado, temos que:

x1 + x2 + x3 + x4 + x5 = 3.

As variáveis envolvidas podem valer de 0 a 3 unidades. Assim, façamos a associação
de cada variável ao polinômio x0 + x1 + x2 + x3, que controla seus possíveis valores.
Novamente, pelo princípio multiplicativo:

(x0 + x1 + x2 + x3)5 = x15 + 5x14 + 15x13 + 35x12 + 65x11 + 101x10

+ 135x9 + 155x8 + 155x7 + 135x6 + 101x5 + 65x4
+ 35x3 + 15x2 + 5x + 1.

O polinômio resultante é a função geradora requerida. Como o coeﬁciente de x3 é 35,

essa é a resposta esperada.

A partir dessa resolução podemos formular alguns questionamentos sobre os passos
utilizados. A primeira pergunta a se fazer é por qual motivo fazemos a associação de cada
variável ao polinômio x0 + x1 + x2 + x3 e em seguida aplicamos o princípio multiplicativo. A
segunda pergunta é porque só usamos um dos coeﬁcientes como resposta e desconsideramos
os outros.

Antes de chegarmos a essas respostas analisemos um outro exemplo que apresenta um

número reduzido de tipos de refrigerantes.

Exemplo 5.1. Considere uma loja que vende dois tipos de refrigerantes. De quantas
formas diferentes podemos comprar três refrigerantes desta loja?

19

coeficientes de funções geradoras

20

Esse problema pode ser facilmente resolvido usando-se enumeração das possibilidades.

Sejam a e b os dois tipos de refrigerantes, as possíveis soluções serão:

aaa, aab, abb, bbb.

Logo, teremos 4 maneiras de comprarmos três refrigerantes desta loja.

Note que o exemplo acima tem como resposta o número de soluções inteiras não
negativas de x1 + x2 = 3, que vimos no capítulo anterior que seria CR2,3 = C2+3−1,2−1 =
C4,1 = 4. Assim, suas soluções seriam (3, 0), (2, 1), (1, 2) e (0, 3).

Veja que cada variável xi pertence ao conjunto {0, 1, 2, 3}. Vamos fazer a associação
delas, então, ao polinômio x0 + x1 + x2 + x3, conforme feito nos exemplos anteriores para
encontrarmos a função geradora. Assim, fazendo o produto entre o polinômio associado a
x1 e a x2, teremos, ao aplicar a propriedade distributiva da multiplicação, o seguinte:

(x0 + x1 + x2 + x3) · (x0 + x1 + x2 + x3) =

x0 · x0 + x0 · x1 + x0 · x2 + x0 · x3
+x1 · x0 + x1 · x1 + x1 · x2 + x1 · x3
+x2 · x0 + x2 · x1 + x2 · x2 + x2 · x3
+x3 · x0 + x3 · x1 + x3 · x2 + x3 · x3.

Perceba que cada parcela xa · xb acima pode ser vista como a soma da quantidade de

elementos de a e de b, já que xa · xb = xa+b, ou seja,

(x0 + x1 + x2 + x3) · (x0 + x1 + x2 + x3) = x0 + x1 +x2 + x3

+ x1 +x2 + x3 +x4

+x2 + x3 +x4 + x5

+ x3 +x4 + x5 +x6.

Note que ﬁcamos com uma parcela de x0, duas de x1, três de x2, quatro de x3, três de

x4, dois de x5 e uma de x6. Assim,

(x0 + x1 + x2 + x3) · (x0 + x1 + x2 + x3) = x0 + 2x1 + 3x2 + 4x3 + 3x4 + 2x5 + x6.

Pelo o que foi visto anteriormente, f (x) = x0 + 2x1 + 3x2 + 4x3 + 3x4 + 2x5 + x6
é a função geradora ordinária associada a sequência (ar) = (1, 2, 3, 4, 3, 2, 1, 0, 0, 0, ...),
cujos elementos são soluções de um problema de combinatória. Nesse caso 1, 2, 3, 4, 3, 2 e
1 representam o número de maneiras de comprarmos, respectivamente, 0, 1, 2, 3, 4, 5 e 6
refrigerantes dentre duas opções a e b. Note que como só nos interessa comprarmos três,
ﬁcamos apenas com o coeﬁciente de x3, onde x3 foi formada por todas as possibilidades
em que a quantidade de refrigerantes de a somada a quantidade de refrigerantes de b
desse 3 unidades. Note também que com as restrições dadas não conseguimos comprar 7

coeficientes de funções geradoras

21

refrigerantes, já que no máximo podemos comprar três de cada tipo, assim os coeﬁcientes
de xk para k ≥ 7 serão iguais a 0.

Para esse problema conseguimos responder nossos dois questionamentos da seguinte
maneira: usamos para as duas variáveis o polinômio x0 + x1 + x2 + x3 pois o número
máximo de refrigerantes de cada tipo que podemos comprar é três e o número mínimo é zero.
Acrescentar x4 a esse polinômio, por exemplo, nos daria a possibilidade de comprarmos
quatro refrigerantes de um tipo, o que seria inadequado já que só queremos três ao todo.
Como a quantidade de cada tipo de refrigerante é representada por um expoente, e
nosso objetivo seria “somar os expoentes”, temos que de alguma forma multiplicarmos
as potências. Como queremos somar a quantidade de refrigerantes do tipo a com a
quantidade do tipo b, precisamos ver de quantas maneiras podemos escolher os de a e os
de b. Conforme vimos no Capítulo 1, o uso da conjunção “e” nos sugere a utilização do
princípio multiplicativo da contagem, e ao multiplicarmos os polinômios associados a cada
variável, teremos pela propriedade distributiva da multiplicação, o produto de todas as
potências possíveis, e consequentemente, a soma de todas as quantidades de refrigerantes
de cada tipo disponíveis para compra. Assim, nesse exemplo só nos interessa do polinômio
resultante o termo de grau 3, cujo coeﬁciente é gerado pela soma de todos os produtos
que após a aplicação da distributiva deram x3. Porém os outros coeﬁcientes também
têm signiﬁcado, eles representam o número de maneiras que podemos comprar, podendo
escolher no máximo três de cada tipo, m refrigerantes, onde m é o grau de cada termo.
Assim como os termos de xk, para k ≥ 7, não aparecem, temos que seus coeﬁcientes são
nulos, ou seja, temos 0 maneira de comprarmos 7 ou mais refrigerantes.

Para uma melhor compreensão, vamos agora trabalhar com uma situação em que cada
variável possui uma restrição diferente. Reformulemos o Exemplo 4.2 da seguinte maneira:

Exemplo 5.2. Considere uma loja que vende cinco tipos de refrigerantes (A, B, C, D e
E). De quantas formas diferentes podemos comprar oito refrigerantes desta loja, de tal
forma que sejam comprados de 2 a 7 do tipo A, de 1 a 3 do tipo B e do tipo C e pelo
menos um de D?

De fato teríamos outro tipo de restrição pois x1 ∈ {2, 3, 4, 5, 6, 7}, x2 ∈ {1, 2, 3},
x3 ∈ {1, 2, 3}, x4 ∈ {1, 2, 3, 4, 5, 6, 7, 8} e x5 ∈ {0, 1, 2, 3, 4, 5, 6, 7, 8}. Além disso, se
considerarmos que a soma das quantidades mínimas irá dar 5, cada variável só poderá chegar
até seu mínimo mais três unidades, assim cada conjunto ﬁcará restrito a: x1 ∈ {2, 3, 4, 5},
x2 ∈ {1, 2, 3}, x3 ∈ {1, 2, 3}, x4 ∈ {1, 2, 3, 4} e x5 ∈ {0, 1, 2, 3}. Logo, associando,
respectivamente, as variáveis x1, x2, x3, x4 e x5 aos polinômios que controlam seus
possíveis valores, pelo princípio multiplicativo, teremos:

(x2 + x3 + x4 + x5)(x1 + x2 + x3)(x1 + x2 + x3)(x1 + x2 + x3 + x4)(x0 + x1 + x2 + x3) =
x18 + 5x17 + 15x16 + 33x15 + 57x14 + 81x13 + 96x12 + 96x11 + 81x10 + 57x9
+33x8 + 15x7 + 5x6 + x5.

coeficientes de funções geradoras

22

Como o coeﬁciente de x8 é 33, essa é a solução do novo problema.

Perceba que o menor expoente de x é 5, de fato a soma dos valores mínimos das
variáveis é 5, bem como, a soma de seus valores máximos é 18, maior expoente de x. Além
disso, se veriﬁcarmos o coeﬁciente de x6, por exemplo, teremos 5 maneiras de comprarmos
6 refrigerantes. Veja que como é necessário comprar no mínimo 2 do tipo A e no mínimo 1
dos tipos B, C e D, cinco refrigerantes já estão deﬁnidos, sobra apenas um refrigerante para
ser escolhido dentre as cinco opções (A, B, C, D ou E), ou seja, teremos cinco maneiras de
escolhermos seis refrigerantes. Assim, conseguiremos encontrar as soluções de problemas
desse tipo mesmo que as restrições das variáveis sejam diferentes entre si.

No Capítulo 3, vimos conteúdos do ensino médio que estão ligados à funções geradoras
e é importante mostrar ao aluno essa “ferramenta poderosa”, porém é fato que o tempo
é preciosíssimo em se tratando de uma prova importante, por exemplo. O aluno prova-
velmente não teria tempo hábil para, sem ajuda de uma calculadora online (ver [8]) ou
outras ferramentas similares, fazer o produto dos polinômios associados a cada variável
e, consequentemente, chegar no coeﬁciente requerido. Vimos alguns exemplos em que o
coeﬁciente era numericamente igual a combinação com repetição de n elementos tomados
até p vezes (CRn,p). Mas será que isto é válido sempre ou existem situações especíﬁcas
em que não podemos usar a combinação com repetição? Veja o exemplo a seguir.

Exemplo 5.3. (FGV 2017) O coeﬁciente de x12 na expansão de (1 + x4 + x5)10 é igual a

a) 120.
b) 90.
c) 81.
d) 60.
e) 54.

Se fôssemos resolver como os exemplos anteriores poderíamos considerar (1 + x4 + x5)10

como a função geradora para o número de soluções inteiras não-negativas de

x1 + x2 + x3 + ... + x10 = 12,

com a restrição xi ∈ {0, 4, 5}. O que de fato ocorre. Porém, seguindo os exemplos anteriores
como o Exemplo 4.2, faríamos para achar o coeﬁciente de x12 a seguinte combinação:
CR10,12 = C10+12−1,12 = C21,12 = 293930, que obviamente não é a resposta correta visto
que não há essa opção dentre as possíveis. Logo, podemos concluir que nem sempre essa
ideia é válida. Nesse caso, podemos pensar em uma lógica simples. Para obtermos x12,
podemos veriﬁcar de que maneira o 4 e o 5 podem somados gerar 12. Veja que apenas 3
quatros somados geram 12, isto é, 4 + 4 + 4. Como são dez fatores iguais a (1 + x4 + x5),
devemos escolher três fatores, tomando x4 em cada um, e nos demais tomamos o 1. Como
podemos fazer isto de C10,3 = 10!
3.2.1 = 120 maneiras diferentes, este é o coeﬁciente
de x12. Portanto, a alternativa correta é a letra a.

3!.7! = 10.9.8

coeficientes de funções geradoras

23

Observe que se fosse substituído o 12 por 7, por exemplo, não teríamos nenhuma
solução pois não temos como escrever 7 como a soma de quatros e cincos. Assim, a
restrição xi ∈ {0, 4, 5} inﬂuenciou totalmente na forma de resolvermos o problema.

Como na maioria dos problemas de combinatória, cada caso é único e deve ser resolvido
com cautela, pensando com cuidado nas restrições e possibilidades que cada situação
oferece. No próximo capítulo iremos fazer o caminho inverso, iremos encontrar, dados os
coeﬁcientes, a forma fechada da função geradora, ou seja, a função geradora escrita em
uma expressão simples.

6

F O R M A F E C H A D A D E U M A F U N Ç Ã O G E R A D O R A

No Capítulo 3, vimos que o problema “Quantos subconjuntos de n elementos tem um
conjunto de cinco elementos?” está associado à função geradora

f (x) = x5 + 5x4 + 10x3 + 10x2 + 5x + 1,

cujos coeﬁcientes são os elementos da sequência ar = C5,r, onde r ∈ {0, 1, 2, 3, 4, 5}, isto
é, cada um desses elementos representam a quantidade de subconjuntos de r elementos.
Vimos também que uma outra maneira de se escrever a função geradora acima seria
f (x) = (x + 1)5, já que x5 + 5x4 + 10x3 + 10x2 + 5x + 1 é a expansão do binômio
(x + 1)5. Ao escrevermos a função geradora como f (x) = (x + 1)5, encontramos sua
forma fechada.

Consideremos, agora, uma sequência simples formada por n números 10s, ou seja,

(ar) = (1, 1, 1, 1, 1, 1, ..., 1). Sua função geradora será

f (x) = 1 + x + x2 + x3 + x4 + ... + xn−1.

(7)

Essa função é tratada de maneira especial por Loehr [4, Cap. 6], já que é um polinômio
gaussiano que aparece muito nos estudos de funções geradoras, também conhecido como
q-análogo do natural n relativo à variável x e cuja simbologia que o representa é [n]x, ou
seja, (7) poderia ser reescrita como f (x) = [n]x.

Para encontrarmos uma forma fechada para (7), utilizaremos um conteúdo trabalhado
no ensino médio, a progressão geométrica. Uma progressão geométrica, mais conhecida
como PG, é uma sequência numérica em que cada termo, a partir do primeiro, é gerado
pelo produto do termo anterior por uma constante real, chamada de razão. Note que a
sequência (1, x, x2, x3, x4, ..., xn−1) é uma progressão geométrica ﬁnita de razão x, cujo
primeiro termo é 1. Se ﬁzermos a soma de todos os termos desta PG, obteremos exatamente
a função (7).

Para chegarmos a uma forma fechada para (7), vamos utilizar os passos da demonstração
da soma dos n primeiros termos de uma PG feita em [7, p. 53]. Primeiramente, vamos
multiplicar a função (7) por x, obtendo

xf (x) = x + x2 + x3 + x4 + ... + xn−1 + xn.

(8)

24

forma fechada de uma função geradora

25

Em seguida, vamos fazer a subtração (7) − (8), obtendo f (x) − xf (x) = 1 − xn, isto é,
(1 − x).f (x) = 1 − xn. Logo,

f (x) =

1 − xn
1 − x

.

(9)

Assim, em (9) temos a forma fechada de f (x) = 1 + x + x2 + x3 + x4 + ... + xn−1.
Além disso, podemos dizer que é uma forma fechada para o polinômio [n]x, ou seja,
[n]x = 1−xn

1−x , ou se preferirem, multiplicando numerador e denominador por −1, temos:

[n]x =

xn − 1
x − 1

.

(10)

Para ﬁns de convergência, trabalharemos com o intervalo |x| < 1, o que faz com que a

função (9) esteja deﬁnida em todo seu domínio.

No caso anterior, usamos uma sequência ﬁnita de números 10s. E se ela fosse inﬁnita,
ou seja, (ar) = (1, 1, 1, 1, 1, 1, ...), como ﬁcaria a forma fechada de sua função geradora?
Poderíamos considerar esse novo caso como sendo a soma de inﬁnitos termos de uma
PG. Tomemos novamente para x valores tais que |x| < 1. Assim, como limn→∞ xn = 0
para |x| < 1 (ver [7, p. 54]), temos que

isto é,

lim
n→∞

f (x) =

1 − 0
1 − x

,

lim
n→∞

f (x) =

1
1 − x

.

(11)

Portanto, de (11) temos que a forma fechada da função geradora f (x) = 1 + x + x2 +

x3 + x4 + ... da sequência (ar) = (1, 1, 1, 1, 1, 1, ...) é

f (x) =

1
1 − x

.

(12)

Exemplo 6.1. Encontre a forma fechada da função geradora para a sequência (ar) =
(0, 0, 0, 1, 1, 1, 1, ...).

Note que a função geradora procurada é a série de potências

f (x) = 0 + 0x + 0x2 + x3 + x4 + x5 + x6 + ...,

ou seja,

f (x) = x3 + x4 + x5 + x6 + ....

forma fechada de uma função geradora

26

Portanto, se colocarmos em evidência o fator x3, teremos que

f (x) = x3(1 + x + x2 + x3 + x4 + ...) = x3.

1
1 − x

,

conforme (12).

Portanto, a forma fechada pedida é

f (x) =

x3
1 − x

.

Exercícios como o do exemplo anterior são resolvidos através de manipulações algébricas.
Não existe uma única regra, uma única maneira para resolver todos os exercícios desse
tipo, temos que analisar caso a caso e veriﬁcar qual é o melhor caminho a seguir para
resolvê-los. Por exemplo, se fosse pedido a forma fechada da função geradora da sequência
(ar) = (1, 0, 1, 0, 1, 0, 1, ...), o primeiro passo seria analisar como escrever a função geradora
na forma de série de potências. Ficaria f (x) = 1 + 0x + x2 + 0x3 + x4 + 0x5 + x6 + ...,
ou seja, f (x) = 1 + x2 + x4 + x6 + .... Todos os expoentes dessa série agora são pares, o
que nos sugere resolver esse problema, por exemplo, como em uma resolução de equação
biquadrada, que é resolvida por substituição de variáveis. Tomemos z = x2, obtendo
f (z) = 1 + z + z2 + z3 + ... . De (12) temos que f (z) = 1
1−z . Porém, z = x2, o que nos
leva a forma fechada pedida:

f (z) =

1
1 − x2 .

Um exemplo muito interessante que [9, Cap.5] traz é o seguinte:

Exemplo 6.2. Encontre a forma fechada da função geradora para a sequência ar = r.

A função geradora procurada é representada pela série de potências

g(x) = 0 + x + 2x2 + 3x3 + 4x4 + 5x5 + ....

Nos resta procurarmos uma maneira de manipular algebricamente tal função para encon-
trarmos sua forma fechada. Sabemos que

f (x) =

1
1 − x

= 1 + x + x2 + x3 + x4 + x5... = x0 + x1 + x2 + x3 + x4 + x5....

forma fechada de uma função geradora

27

Note que o expoente de cada termo corresponde a cada elemento da sequência. Uma
maneira de passarmos o expoente para coeﬁciente em um monômio seria derivá-lo, já que
d(xn)
dx = nxn−1. Portanto, se derivarmos f (x) em função de x obteremos:

f 0(x) =

1

(1 − x)2 = 0 + 1x0 + 2x1 + 3x2 + 4x3 + 5x4 + ....

Perceba que as manipulações ainda não cessaram, teremos agora que multiplicar nossa

f 0(x) por x para ﬁnalmente chegarmos a g(x).

xf 0(x) =

x

(1 − x)2 = 0 + 1x1 + 2x2 + 3x3 + 4x4 + 5x5 + ... = g(x).

Logo, a forma fechada da função geradora para a sequência ar = r será

g(x) =

x
(1 − x)2 .

Independentemente da sequência dada em um exercício como este, ela irá gerar uma
série de potências conforme a própria deﬁnição de função geradora, portanto, é interessante
conhecermos algumas funções que podem ser escritas como tal. Em [4, Cap. 7] encontramos
a expansão em série de potências da função exponencial, das funções trigonométricas seno
e cosseno e de uma função logarítmica. São exemplos de séries de potências formais que
veremos mais a diante, no Capítulo 8. Veja:

1. Função exponencial:

x2
2!
Portanto, f (x) = ex é a função geradora da sequência de termo geral ar = xr
r ≥ 0.

ex = 1 + x +

x3
3!

x4
4!

+ ...

+

+

r! para

2. Função seno:

sen(x) = 0 + x + 0x2 −

x3
3!

+ 0x4 +

x5
5!

+ 0x6 −

x7
7!

...

Portanto, f (x) = sen(x) é a função geradora da sequência de termo geral

ar =






0,
(−1)(r−1)/2
r!

se r é par

xr,

se r é ímpar

,

para para r ≥ 0.

3. Função cosseno:

forma fechada de uma função geradora

28

x2
2!
Portanto, f (x) = cos(x) é a função geradora da sequência de termo geral

cos(x) = 1 + 0x −

+ 0x3 +

+ 0x5 −

x4
4!

x6
6!

...






0,
(−1)r/2
r!

se r é ímpar

xr,

se r é par

,

ar =

para para r ≥ 0.

4. Função logarítmica natural:

ln(1 + x) = 0 + x −

x2
2

+

x3
3

−

x4
4

+

x5
5

...

Portanto, f (x) = ln(1 + x) é a função geradora da sequência de termo geral

ar =






0,
(−1)r+1
r

se r = 0

xr,

se r ≥ 1

.

Note que para esses exemplos, as funções geradoras perderam a característica de terem
uma forma fechada de função composta com polinômios como as encontradas nos Exemplos
6.1 e 6.2, por exemplo. No Capítulo 9, veremos que a expansão em série de potências da
função exponencial poderá ser vista como um outro tipo de função geradora, a função
geradora exponencial. Iremos diferenciá-la da função geradora ordinária e mostrar a sua
utilidade para a resolução de problemas de contagem.

7

C O N J U N T O S P O N D E R A D O S

Conforme dito no Capítulo 2, iremos ver uma outra maneira de conceber uma função
geradora. Para isso, vamos entender primeiro o que vem a ser um conjunto ponderado.
Para [4, Cap. 6], um conjunto ponderado é um par (S, wt), onde S é um conjunto e
wt : S → N é uma função de S em números inteiros não-negativos, chamada de função
peso. Assim, para cada z ∈ S, o inteiro wt(z) é chamado de peso de z. Nesta deﬁnição,
não é necessário que S seja um conjunto ﬁnito, porém iniciaremos com exemplos em que
ele será.

Deﬁnição 1 (Função geradora para um conjunto ponderado). Dado um conjunto ponde-
rado ﬁnito (S, wt), a função geradora para S é o polinômio:

GS,wt(x) = X
z∈S

xwt(z)

Podemos escrever para essa função geradora simplesmente GS(x) ou G(x). Observe
também que em nossa deﬁnição a soma do lado direito está bem deﬁnida, uma vez que S
é ﬁnito e a adição de polinômios é uma operação associativa e comutativa.

No Capítulo 3 discutimos o problema “Quantos subconjuntos de n elementos tem um
conjunto de cinco elementos?” e associamos a ele a função geradora f (x) = x5 + 5x4 +
10x3 + 10x2 + 5x + 1. Mas será que essa é a única função geradora para esse problema?
Para respondermos a essa pergunta, vamos primeiramente entender o que acontece para
um caso mais simples. Seja {1, 2, 3} um conjunto de três elementos distintos e chamemos
de S o conjunto formado por seus subconjuntos, ou seja,

S = {∅, {1} , {2} , {3} , {1, 2} , {1, 3} , {2, 3} , {1, 2, 3}} .

A função geradora relacionada a pergunta “Quantos subconjuntos de n elementos tem
um conjunto de três elementos?” será f (x) = x3 + 3x2 + 3x + 1 pois consideremos a
função peso wt : S → N tal que wt(A) = |A|, para todo A ∈ S, em que |A| é o número
de elementos de A. Usando a Deﬁnição 1, temos que

GS,wt(x) = X
A∈S

xwt(A) = x0 + x1 + x1 + x1 + x2 + x2 + x2 + x3 = 1 + 3x + 3x2 + x3.

Portanto, G(x) = f (x) = (1 + x)3.

Note que x0 apareceu uma vez pois o conjunto vazio não possui elementos, x1 apareceu

três vezes pois existem três conjuntos unitários em S, e assim por diante.

29

conjuntos ponderados

30

Mas e se deﬁníssemos a função peso diferente, como por exemplo wt(A) = P

i∈A i com
A ∈ S e wt(∅) = 0, isto é, o peso de A será dado pela soma de seus elementos. Assim,
novamente usando a Deﬁnição 1 teremos a função geradora:

G(x) = X
A∈S

xwt(A) = x0 + x1 + x2 + x3 + x3 + x4 + x5 + x6 = 1 + x + x2 + 2x3 + x4 + x5 + x6.

Note que apenas o coeﬁciente de x3 é 2 pois tanto o subconjunto {3} quanto {1, 2}

resultam em 3 quando somamos seus elementos.

Assim, temos duas funções geradoras distintas para um mesmo conjunto S e poderíamos
encontrar mais tantas funções quanto a nossa imaginação permitisse, já que podemos
criar diferentes funções pesos e, consequentemente, diferentes funções geradoras. Logo,
para o questionamento “Quantos subconjuntos de n elementos tem um conjunto de cinco
elementos?” só teríamos a função geradora f (x) = x5 + 5x4 + 10x3 + 10x2 + 5x + 1
relacionada pois implicitamente já descrevi a função peso wt e o conjunto S. A função
wt retorna a quantidade de elementos dos subconjuntos de um conjunto de 5 elementos
contidos em S. Concluindo que só existirá um conjunto ponderado e, portanto, sua
respectiva função geradora se houver o par (S, wt) bem deﬁnido.

Para o problema do caminhão-cegonha que motivou nosso estudo, encontramos a função

geradora

f (x) =x24 + 4x23 + 10x22 + 20x21 + 35x20 + 56x19 + 84x18 + 116x17 + 149x16 + 180x15
+ 206x14 + 224x13 + 231x12 + 224x11 + 206x10 + 180x9 + 149x8 + 116x7 + 84x6
+ 56x5 + 35x4 + 20x3 + 10x2 + 4x + 1.

pois tratava-se de um conjunto ponderado (S, wt), onde S é o conjunto de todas as
possibilidades de se pintar carrinhos usando quatro cores, de tal forma que cada cor
poderia ser usada de 0 a 6 vezes e wt é a função peso que conta o total de carrinhos
pintados. Veja que o coeﬁciente de x24 é igual a 1 pois só tem um elemento em S que
possui 24 carrinhos pintados, que corresponde à situação de pintarmos 6 carrinhos com
cada uma das quatro cores disponíveis. O mesmo ocorre para o termo independente igual
a 1 da função geradora, ou seja, o x0, pois também só tem um elemento em A que possui
zero carrinho pintado, que seria a situação de pintarmos 0 carrinho com cada uma das
cores. Perceba também que utilizamos como resposta do nosso problema o coeﬁciente de
x6 pois nos interessava de quantas maneiras poderiam ser pintados 6 carrinhos ao todo
com as quatro cores disponíveis.

Agora, se quiséssemos achar uma forma fechada para a função geradora acima, pode-

ríamos retornar a potência de polinômios que a gerou no Capítulo 2:

(x0 + x1 + x2 + x3 + x4 + x5 + x6)4.

conjuntos ponderados

31

Note que trata-se de um polinômio gaussiano [7]x elevado à quarta potência. No capítulo
anterior, vimos que [7]x = x0 + x1 + x2 + x3 + x4 + x5 + x6 = x7−1
x−1 . Logo, a forma
fechada para a função geradora em questão será

f (x) =

  x7 − 1
x − 1

!4

.

(13)

Perceba que o próprio polinômio [7]x pode ser encarado como uma função geradora
G(x) = [7]x de um conjunto ponderado (S, wt), tal que S = {0, 1, 2, 3, 4, 5, 6} e wt(i) =
i para todo i ∈ S, em um contexto que para cada cor disponível podemos pintar i
carrinhos. Como são quatro cores, pelo princípio multiplicativo da contagem, teremos
G(x) · G(x) · G(x) · G(x) = [G(x)]4 como a função geradora do problema do caminhão-
cegonha. Mas porque isso está correto? Na sequência será justiﬁcado o porquê que
podemos multiplicar funções geradoras de conjuntos ponderados. O mesmo faremos para
a adição dessas funções. Em ambos os casos nos basearemos nas demonstrações feitas em
[4, Cap. 6].

Teorema 7.1 (Regra da Soma para Conjuntos Ponderados). Suponhamos (S1, wt1),
(S2, wt2),..., (Sk, wtk) conjuntos ponderados ﬁnitos tais que S1, ..., Sk são conjuntos dis-
juntos dois a dois. Seja S = S1 ∪ ... ∪ Sk e wt : S → N tal que wt(z) = wti(z) para todo
z ∈ Si. Então

GS,wt(x) = GS1,wt1(x) + GS2,wt2(x) + ... + GSk,wtk (x).

Demonstração. Pela Deﬁnição 1, GS,wt(x) = P
z∈S xwt(z). Como a adição de polinômios
é comutativa e associativa, nós podemos ordenar os termos da soma para que todos os
objetos em S1 venham primeiro, em seguida os de S2, e assim por diante, até chegarmos
nos de Sk. Obtendo

GS,wt(x) = X
z∈S1
= X
z∈S1

xwt(z) + X
z∈S2
xwt1(z) + X
z∈S2

xwt(z) + ... + X
z∈Sk
xwt2(z) + ... + X
z∈Sk

xwt(z)

xwtk(z)

= GS1,wt1(x) + GS2,wt2(x) + ... + GSk,wtk (x).

Teorema 7.2 (Regra do Produto para Dois Conjuntos Ponderados). Suponhamos (S1, wt1)
e (S2, wt2) conjuntos ponderados ﬁnitos tais que o conjunto S seja dado pelo produto
cartesiano entre os conjuntos S1 e S2, ou seja, S = S1 × S2. Deﬁnimos o peso wt como
wt((i, j)) = wt1(i) + wt2(j) para i ∈ S1 e j ∈ S2. Então

GS,wt(x) = GS1,wt1(x) · GS2,wt2(x).

conjuntos ponderados

32

Demonstração. Pela Deﬁnição 1 e conforme deﬁnições acima, temos que

GS,wt(x) = X
z∈S

xwt(z) = X
(i,j)∈S

xwt((i,j)) = X

xwt1(i)+wt2(j).

(i,j)∈S1×S2

Como xwt1(i)+wt2(j) = xwt1(i) · xwt2(j), segue que

GS,wt(x) = X

xwt1(i) · xwt2(j) =

(i,j)∈S1×S2





X

xwt1(i)


 ·





X

xwt2(j)


 ,

i∈S1

j∈S2

pelo Lema (2.5) em [4, Cap. 2].

Assim, novamente usando Deﬁnição 1, temos que

GS,wt(x) = GS1,wt1(x) · GS2,wt2(x).

Teorema 7.3 (Regra do Produto para k Conjuntos Ponderados). Suponhamos que (Si, wti)
é um conjunto ponderado ﬁnito para 1 ≤ i ≤ k. No conjunto produto S = S1 × S2 × ... × Sk,
deﬁnimos o peso wt como wt((z1, ..., zk)) = Pk

i=1 wti(zi) para todo zi ∈ Si. Então

GS,wt(x) =

k
Y

n=i

GSi,wti(x).

Demonstração. Esta fórmula segue a regra do produto para dois conjuntos ponderados
por indução em k. Sabemos pelo Teorema 7.2 que é válido para k = 2, ou seja, para
S = S1 × S2. Suponhamos válido para k, ou seja, para S = S1 × S2 × ... × Sk, tendo
GS,wt(x) = Qk
n=i GSi,wti(x). Como S × Sk+1 é um produto de dois conjuntos ponderados,
novamente pelo Teorema 7.2, temos

GS×Sk+1,wt(x) = GS,wt(x) · GSk+1,wt =

k
Y

n=i

GSi,wti(x) · GSk+1,wt =

k+1
Y

n=i

GSi,wti(x).

Esse último teorema justiﬁca a função (13), forma fechada da função geradora do

problema do caminhão-cegonha, estar correta.

Existem muitos tipos de funções geradoras, algumas inclusive são conhecidas por nomes
especíﬁcos. Como o objetivo aqui é relacionar a função geradora vista de maneira intuitiva
no Capítulo 2 e a forma aqui apresentada nesse capítulo, trabalharemos agora com um
tipo especial: a função geradora de inversão.

Para entendermos o que é uma inversão, pensemos em uma palavra w tal que w pode
ser escrita como w1w2...wn, ou seja, dado um conjunto A ﬁnito, uma palavra em um
alfabeto A é a sequência w = w1w2...wn, onde cada wi ∈ A com 1 ≤ i ≤ n pode ser
considerado como se fosse uma letra dessa palavra, no entanto, nesse caso tomemos A = Z,

conjuntos ponderados

33

isto é, wi é um número inteiro e não uma letra do nosso alfabeto. Assim, deﬁnimos inversão
como um par de índices i < j de tal modo que ocorre wi > wj. Escrevemos inv(w) para o
número de inversões de w, ou seja, inv(w) conta pares de letras em w, não necessariamente
adjacentes, que estão fora da ordem numérica. Matematicamente, conforme [4, Cap. 6],
temos que

inv(w1w2...wn) = X

χ(wi > wj).

1≤i<j≤n

Deﬁnimos , também, Inv(w) como o conjunto de todos os pares de inversão (i, j), ou seja,
|Inv(w)| = inv(w). Vejamos o exemplo a seguir:

Exemplo 7.4. Considere a palavra w = 3272, onde w1 = 3,w2 = 2, w3 = 7 e w4 = 2. O
par (1, 2) é uma inversão de w pois w1 = 3 > 2 = w2. O par (2, 3) não é uma inversão,
pois w2 = 2 ≤ 7 = w3. Analogamente ao primeiro caso, (1, 4) e (3, 4) são inversões. Logo,
teremos

Inv(w) = {(1, 2), (1, 4), (3, 4)}

e, consequentemente, inv(w) = 3 já que inv(w) = |Inv(w)|.

Posto isto, podemos deﬁnir na sequência o que vem a ser uma função geradora de

inversão.

Deﬁnição 2 (Função geradora de inversão). Dado um conjunto ﬁnito S de palavras sobre
o alfabeto Z, a função geradora de inversão para S é

GS,inv(x) = X
w∈S

xinv(w).

Como nosso objetivo nessa dissertação é trabalharmos a combinatória via função
geradora, de preferência utilizando conteúdos do Ensino Médio, iremos agora analisar a
ideia da permutação simples de n elementos, conforme a deﬁnição dada em [4, Cap. 1].

Deﬁnição 3 (Permutação). Dado um conjunto A com n elementos. Uma permutação de
A é a palavra w = w1w2...wn em que cada letra de A aparece exatamente uma vez. Por
exemplo, seja o conjunto A = {x, y, z}, as palavras xyz e zxy são permutações de A.

Para isso, vamos veriﬁcar como ﬁcaria a função geradora de inversão para o conjunto
das permutações entre os elementos do conjunto {1, 2, 3} que chamaremos de S. Um
aluno do Ensino Médio que já aprendeu o conteúdo sobre permutação simples, certamente
saberia dizer que existirão 6 elementos em S, mas como encontrar a função geradora
requerida?

Primeiramente vamos determinar S:

S = {123, 132, 213, 231, 312, 321} .

conjuntos ponderados

34

Em seguida, vamos aplicar a Deﬁnição 2:

GS,inv(x) = xinv(123) + xinv(132) + xinv(213) + xinv(231) + xinv(312) + xinv(321)

= x0 + x1 + x1 + x2 + x2 + x3
= 1 + 2x + 2x2 + x3.

Note que podemos escrever o polinômio resultante como

(1 + x + x2) + (x + x2 + x3) = (1 + x + x2) + x(1 + x + x2) = (1 + x)(1 + x + x2).

Assim,

GS(x) = 1(1 + x)(1 + x + x2).

Observe também que GS(1) = 6 = 3! = |S|. O que decorre da Deﬁnição 1, já
que os coeﬁcientes são gerados pela soma de quantos objetos temos de cada peso, e
ao substituirmos x por 1, obtemos a soma de todos os coeﬁcientes de cada termo, que
obrigatoriamente terá que resultar em |S|. O mesmo ocorrerá para as duas primeiras
funções geradoras encontradas nesse capítulo referente ao mesmo conjunto S, onde para
ambas temos G(1) = 8, valor que corresponde ao total de subconjuntos de um conjunto de
3 elementos. Esse fato também é usado no conteúdo de Binômio de Newton e Triângulo
de Pascal trabalhados no Ensino Médio, ao pedirmos a soma dos coeﬁcientes de uma
expansão de um binômio ou ainda para demonstrarmos o Teorema das Linhas, conforme
discutido no ﬁnal do Capítulo 3.

Voltando a ideia da permutação, vejamos o que acontece quando queremos determinar
a função geradora de inversão GT (x) para o conjunto T das permutações de {1, 2, 3, 4},
um conjunto de 4 elementos. Sabemos que o total de subconjuntos será 4! = 24, e
consequentemente, GT (1) = 24. Mas como encontrar GT (x) sem ter que analisar cada
uma das 24 permutações? Para isso faremos a análise de T para veriﬁcarmos se existe
alguma hipótese.

Seja T = {1234, 1324, 2134, 2314, 3124, 3214, 1243, ..., 1423, ..., 4123, ...} mostrado par-
cialmente, podemos considerar que para as 6 permutações de {1, 2, 3} o quatro foi acres-
centado como se fosse a quarta letra nas seis primeiras novas palavras, e na sequência,
foi inserido entre a última e a penúltima letra, depois, entre a primeira e a segunda, e
por ﬁm, como a primeira letra. Para cada situação foi gerado seis novas palavras, em
um total de 24, como nós já havíamos previsto. Usando a Deﬁnição 2 e o Teorema 7.1,
vamos encontrar a função geradora de inversão de T . Para isso, vamos reescrever T como
T = T1 ∪ T2 ∪ T3 ∪ T4, onde Ti é o conjunto das permutações de {1, 2, 3, 4} com o 4 na
i-ésima posição. Note que em T4 cada elemento possui exatamente o mesmo número
de inversões que S, conjunto das permutações de {1, 2, 3}. Logo, a função geradora de
inversão para T4, GT4(x), é igual a para S, ou seja, GT4(x) = 1 + 2x + 2x2 + x3. Em T3,
o 4 estará na terceira posição e aumentará apenas uma inversão para cada elemento, logo a

conjuntos ponderados

35

função geradora de inversão para T3 será GT3(x) = x + 2x2 + 2x3 + x4. Em T2, o 4 estará
na segunda posição e aumentarão, portanto, duas inversões para cada elemento, logo a
função geradora de inversão para T2 será GT2(x) = x2 + 2x3 + 2x4 + x5. E por ﬁm, em T1,
o 4 estará na primeira posição e aumentarão três inversões para cada elemento, obtendo
como função geradora de inversão para T1 a GT1(x) = x3 + 2x4 + 2x5 + x6. Assim, pelo
Teorema 7.1,

GT (x) = GT1(x) + GT2(x) + GT3(x) + GT4(x)

= (x3 + 2x4 + 2x5 + x6) + (x2 + 2x3 + 2x4 + x5) + (x + 2x2 + 2x3 + x4)
+ (1 + 2x + 2x2 + x3)
= x3(1 + 2x + 2x2 + x3) + x2(1 + 2x + 2x2 + x3) + x(1 + 2x + 2x2 + x3)
+ 1(1 + 2x + 2x2 + x3)
= (1 + 2x + 2x2 + x3)(x3 + x2 + x + 1)
= 1(1 + x)(1 + x + x2)(1 + x + x2 + x3)

Note que a função geradora acima é dada pelo produto dos polinômios gaussianos [1]x,

[2]x, [3]x e [4]x, ou seja, GT (x) = [1]x · [2]x · [3]x · [4]x.
Em [4, Cap. 6], encontramos a seguinte deﬁnição:

Deﬁnição 4 (q-fatorial de n relativo a x). Para cada n ≥ 1 e toda variável x, deﬁnimos
q-fatorial de n relativo a x como o polinômio

[n]!x =

n
Y

i=1

[i]x =

n
Y

i=1

(1 + x + x2 + ... + xi−1) =

n
Y

i=1

xi − 1
x − 1

.

Logo, GT (x) = [4]!x. Assim uma boa hipótese para a função geradora de inversão para
um conjunto S formado pelos subconjuntos de n elementos é GS(x) = [n]!x. Antes de
demostrarmos tal hipótese vamos veriﬁcar mais um exemplo e alguns conceitos importantes.

Exemplo 7.5. Dado um n inteiro positivo e considerando n conjuntos ponderados Si =
{0, 1, ..., i − 1}, para 1 ≤ i ≤ n, onde wt(z) = z para cada z ∈ Si. Pela Deﬁnição 1 e
usando a simbologia de um q-análogo de n relativo a x, temos que GSi(x) = x0 + x1 + ... +
xi−1 = [i]x. Agora, consideremos o conjunto produto S = S1 × S2 × ... × Sn, pela Regra
do Produto de n Conjuntos Ponderados e pela Deﬁnição 4, temos que a função geradora
para S é

n
Y

GS(x) =

[i]x = [n]!x.

i=1

Note que tanto a hipótese da fórmula da função geradora de inversão para as permuta-
ções de n elementos, quanto a função geradora encontrada no Exemplo 7.5 são iguais. Será
que daria para provar a hipótese acima usando o exemplo? Para isso precisaremos saber
que dados dois conjuntos ponderados (S, w1) e (T , w2), uma bijeção de preservação-de-peso
de (S, w1) para (T , w2) é a bijeção f : S → T tal que w2(f (z)) = w1(z), para todo z ∈ S
(ver [4, Cap. 6]).

conjuntos ponderados

36

Teorema 7.6 (Regra da Bijeção para funções geradoras). Suponhamos (S, w1) e (T , w2),
dois conjuntos ponderados ﬁnitos tais que existe uma bijeção de preservação-de-peso
f : S → T . Então

GS,w1(x) = GT ,w2(x).

Demonstração. Seja g : T → S a função inversa de f . Veriﬁca-se que g é uma bijeção
de preservação-de-peso, já que f é. Para cada k ≥ 0, temos Sk = {z ∈ S : w1(z) = k} e
Tk = {u ∈ T : w2(u) = k}. Como f e g preservam pesos, elas restringem-se para gerar as
funções fk : Sk → Tk e gK : Tk → Sk que são mutuamente inversas. Portanto, |Sk| = |Tk|
para todo k ≥ 0. Isto posto,

GS,w1(x) = X

k≥0

|Sk|xk = X
k≥0

|Tk|xk = GT ,w2(x).

Após provarmos a Regra da Bijeção para funções geradoras, vamos provar nossa

hipótese.

Teorema 7.7 (Fórmula da função geradora de inversão para as permutações de n ele-
mentos). Para todo n ≥ 0, seja Sn o conjunto das permutações de {1, 2, ..., n}, ponderados
pelas inversões. Então

GSn,inv(x) = X
w∈Sn

xinv(w) = [n]!x.

1 × T 0

2 × ... × T 0

Demonstração. Seja Tn = T 0
n, o conjunto produto análogo ao apresentado no
Exemplo 7.5, com T 0
i = {0, 1, ..., i − 1}, para 1 ≤ i ≤ n, de tal forma que GTn(x) = [n]!x.
Portanto, para provar o teorema é suﬁciente deﬁnir uma bijeção de preservação-de-peso
fn : Sn → Tn. Seja w = w1w2...wn ∈ Sn uma permutação de {1, 2, ..., n}. Para cada k
entre 1 e n, deﬁnimos tk para ser o número de pares i < j tais que wi < wj e wi = k. Então
deﬁnimos fn(w) = (t1, t2, ..., tn). Em outras palavras, tk = | {(i, j) ∈ Inv(w) : wi = k} |
é o número de inversões que o símbolo k tem com os símbolos à sua direita. Note que esses
símbolos tem k − 1 possibilidades. Note que toda inversão de w é contada somente por um
dos números tk, então temos que inv(w) = Pn
k=1 tk = wt(fn(w)) para todo w ∈ Sn. Isto
nos mostra que fn preservou os pesos, porém, resta agora veriﬁcarmos que existe a bijeção
em fn. Seja gn : Tn → Sn a função inversa de fn. O caso para n ≤ 1 é imediato pois
envolve apenas um elemento. Suponhamos que a bijeção é válida para gn−1, com n > 1.
Tomemos (t1, ..., tn) ∈ Tn = Tn−1 × T 0
n, com v = gn−1(t1, ..., tn−1) uma permutação de
{1, 2, ..., n − 1}. Para acharmos gn(t1, ..., tn), vamos inserir o símbolo n na permutação v
de tal forma que n gere tn novas inversões. Note que temos n possibilidades de locais para
n ser inserido. Se ele for colocado como o último símbolo, não teremos novas inversões,
porém, se ele for colocado como o primeiro, teremos n − 1 inversões. Assim, podemos
inferir que tn ∈ {0, 1, ..., n − 1}. Isto posto, temos que para todo k ≤ n, tk é o número

conjuntos ponderados

37

de pares de inversões envolvendo o símbolo k e os que estão à sua direita. Assim gn é a
função inversa de fn, ou seja, existe a bijeção. Logo, pelo Teorema (7.6),

GSn,inv(x) = GTn(x) = [n]!x.

Para exempliﬁcarmos o que foi demonstrado acima, seja k = 5, então t5 só poderá valer
0, 1, 2, 3 ou 4, já que só haverá inversão se o 5 estiver à esquerda de 0, 1, 2, 3 ou 4. Assim,
temos que tk ∈ {0, 1, 2, ..., k − 1} = T 0
k para todo k. Então, fn(w) está contido no conjunto
Tn. Por exemplo, se w = 4, 1, 7, 5, 2, 8, 3, 6, então fn = (0, 0, 0, 3, 2, 0, 4, 2). Nesse caso
t5 = 2 pois teremos duas inversões: (4, 5) e (4, 7). Perceba que o 5 é o símbolo w4 de w e,
também, 5 < 2 e 5 < 3, com w5 = 2 e w7 = 3. Por outro lado, seja g8(0, 1, 0, 3, 2, 1, 1, 5),
conseguimos chegar em w fazendo o seguinte raciocínio. Como t8 = 5, existem 5 símbolos
à direita do 8, logo w3 = 8. Como t7 = 1 e o último símbolo não é o 8, w7 = 7. O mesmo
para o 6, como t6 = 1 e w7 = 7, o 6 só poderá ser o w6. Como o t3 = 0, o 3 só pode ser o
último símbolo. Temos então, por enquanto, o ﬁnal de w: 6, 7, 3. Como t4 = 3, t2 = 1 e
t5 = 2, obrigatoriamente o 4 terá que estar antes de 1, 2 e 3, o 2 antes do 1 e 5 depois do
4 e do 2. Teremos então a sequência 4, 2, 5, 1 não necessariamente adjacentes. Como já
sabemos a posição do 8, nos resta apenas a possibilidade w = 4, 2, 5, 1, 6, 7, 3, que resulta
em f8(w) = (0, 1, 0, 3, 2, 1, 1, 5).

Note que a demonstração do Teorema 7.7 usou a ideia de função geradora para um
conjunto ponderado, conforme apresentada na Deﬁnição 1. Porém esse não é o único
caminho possível, usando a deﬁnição de função geradora apresentada no Capítulo 2 e
como se apresentou sua construção, poderíamos também chegar, mesmo sem o rigor da
demonstração acima, na fórmula da função geradora de inversão para as permutações
de n elementos fazendo o seguinte raciocínio. Consideremos todas as permutações de
{1, 2, ..., n}. Obrigatoriamente todos os elementos serão inseridos, alternando apenas as
ordens. Para fazer essa inserção vamos pensar da seguinte maneira. Se colocarmos o 1, não
chegaríamos a nenhuma inversão, pois teríamos apenas um elemento. Se colocarmos na
sequência o 2, teríamos duas possibilidades: uma ou nenhuma inversão. Ao colocarmos o
3, poderíamos agora ter duas, uma ou nenhuma inversão em relação ao 3. Por exemplo, a
permutação 3, 2, 1 gera duas inversões, já 1, 3, 2 gera apenas uma e 2, 1, 3, nenhuma inversão
em relação ao símbolo 3. Para o 4, teríamos de três a nenhuma inversão em relação ao 4, e
assim sucessivamente até chegar em n. Para cada situação acima teríamos um polinômio
associado. Para o caso do 1, seria o x0. Para o 2, seria x0 + x1, ou seja, nenhuma ou uma
inversão. Já para o 3, teríamos o polinômio associado x0 + x1 + x2, e assim por diante até
chegar em n e seu respectivo polinômio associado x0 + x1 + x2 + ... + xn−1. Assim, pelo
princípio multiplicativo da contagem, teríamos:

f (x) = 1(1 + x)(1 + x + x2)...(1 + x + x2 + ... + xn−1) = [n]!x.

conjuntos ponderados

38

Perceba que o que diferenciou o raciocínio para chegarmos à função geradora de inversão
de uma permutação de 4 elementos, anteriormente apresentada nesse mesmo capítulo, e
o usado para chegarmos à função acima para n elementos foi o princípio da contagem
utilizado. No primeiro caso, chegou-se à função dividindo a situação em hipóteses: ou o
4 ﬁcaria na primeira ou na segunda ou na terceira ou na quarta posição. Cada hipótese
gerou sua própria função geradora e, pela Regra da Soma para Conjuntos Ponderados,
obtivemos a função ﬁnal. Tal regra, nada mais é que o princípio aditivo da contagem
aplicado às funções geradoras para conjuntos ponderados. Por outro lado, para chegarmos
à função geradora de inversão de uma permutação de n elementos, dividimos o problema
em etapas. A primeira etapa foi inserir o símbolo 1, a segunda etapa foi inserir o 2, e
assim por diante, até a enésima etapa que foi inserir o n. Ao dividirmos o problema de
contagem em etapas, podemos resolvê-lo usando o princípio multiplicativo da contagem e
foi exatamente o que ﬁzemos. Cada etapa gerou um polinômio associado diferente, que
pode ser considerado uma função geradora para cada situação, essas funções foram então
multiplicadas. Note que é exatamente a ideia do Teorema 7.3: Regra do Produto para k
Conjuntos Ponderados.

Não importa o nível da questão ou do assunto de combinatória, a base para sua
resolução são os dois princípios da contagem: aditivo e multiplicativo. Para as funções
geradoras de conjuntos ponderados não seria diferente, a base para sua construção são as
Regras da Soma e do Produto para Conjuntos Ponderados.

Até agora trabalhamos com situações que envolviam conjuntos ﬁnitos de objetos
ponderados, mas também é possível que nos deparamos com conjuntos inﬁnitos de objetos
com pesos, para isso iremos estudar no próximo capítulo as séries de potências formais.

8

S É R I E S D E P O T Ê N C I A S F O R M A I S

No último capítulo, nós vimos o que são conjuntos ponderados e como chegamos às funções
geradoras para esses conjuntos: GS(x) = P
z∈S xwt(z), onde S é um conjunto ﬁnito de
objetos ponderados. Essas funções geradoras são polinômios de variável x, para os quais
apresentaremos uma deﬁnição mais formal a seguir. Agora, suponhamos que S é um
conjunto inﬁnito de objetos com pesos. Por analogia com o caso ﬁnito, gostaríamos de
deﬁnir uma função geradora GS(x) = P
n≥0 anxn, onde an é o número de
objetos em S de peso n.

z∈S xwt(z) = P

Vejamos um exemplo trazido em [4, Cap. 7]. Seja S o conjunto de todas as palavras
dentro do alfabeto {0, 1} ponderado pelo comprimento. Teremos an = 2n para todo n ≥ 0,
pois uma palavra de comprimento n é formada por n símbolos dentro do alfabeto {0, 1}.
Para cada símbolo teremos duas opções: 0 ou 1. Logo, pelo princípio multiplicativo da
contagem, teremos 2n maneiras de escrevermos tal palavra, e então

GS(x) = 1 + 2x + 4x2 + 8x3 + ... + 2nxn + ... =

∞
X

n=0

2nxn.

Note que usamos uma função real para modelar a função combinatória geradora, o que
pode ser problemático porque existe uma preocupação com a questão da convergência.
No caso acima GS(x) é uma série de potências que pode ser vista como uma função de
variável real que está deﬁnida para todo x. Porém, para não cairmos na problemática da
convergência podemos restringir esse domínio tomando − 1
2, de tal forma que ao
usar a forma fechada (12) do Capítulo 6, tenhamos GS(x) = P
1−2x escrita
como tal.

n≥0(2x)n = 1

2 < x < 1

Como a ideia é ver uma função geradora P∞

n=0 anxn como apenas a forma abreviada
para uma sequência inﬁnita de inteiros (a0, a1, a2, ..., an, ...), ou seja, não nos importa o
valor de x e sim os coeﬁcientes, a questão de convergência não nos interessa e podemos
restringir x de tal forma que ﬁque centrado em x = 0, por exemplo. Ou melhor ainda,
como não será feita uma substituição de x por um número real especíﬁco, podemos pensar
em x como um símbolo, não uma variável, e é o que faremos a partir de agora.

Em combinatória, geralmente basta considerar séries de potências formais cujos coeﬁci-
entes são inteiros, porém, em [4, Cap. 7] encontramos uma situação um pouco mais geral
onde os coeﬁcientes provém de um anel arbitrário.

Deﬁnição 5 (Anéis). Um anel consiste de um conjunto R e de duas operações binárias +
(adição) e · (multiplicação) com domínio R × R, sujeitos aos seguintes axiomas:

• ∀x, y ∈ R, x + y ∈ R

39

séries de potências formais

40

• ∀x, y, z ∈ R, x + (y + z) = (x + y) + z

• ∀x, y ∈ R, x + y = y + x

• ∃OR ∈ R, ∀x ∈ R, x + OR = x = OR + x

• ∀x ∈ R, ∃ − x ∈ R, x + (−x) = OR = (−x) + x

• ∀x, y ∈ R, x · y ∈ R

• ∀x, y, z ∈ R, x · (y · z) = (x · y) · z ∈ R

• ∃1R ∈ R, ∀x ∈ R, x · 1R = x = 1R · x

• ∀x, y, z ∈ R, x · (y + z) = x · y + x · z

• ∀x, y, z ∈ R, (x + y) · z = x · z + y · z

Também podemos usar xy em vez de x · y. Assim, R é uma anel comutativo se, e somente
se, satisfaz o axioma comutativo da multiplicação, ou seja,

∀x, y ∈ R, xy = yx.

Uma observação a ser considerada é que, dado um anel R, e supondo x1, x2, ..., xn ∈ R,
como a adição é associativa, podemos inequivocamente escrever a soma x1 + x2 + ... + xn
sem parênteses. Analogamente, como a multiplicação é associativa, podemos escrever o
produto x1x2x3...xn sem parênteses.

Deﬁnição 6 (Corpos). Um corpo é um anel comutativo F com 1F 6= 0F de tal forma que
todo elemento não nulo de F tem um inverso multiplicativo:

∀x ∈ F , x 6= 0F → ∃y ∈ F , xy = 1F = yx.

Na sequência, deﬁniremos série de potências formal. Para isso representaremos um
corpo que contém o conjunto Q dos racionais pela letra K. Por exemplo, K pode ser o
próprio Q, o R(conjunto dos números reais), ou o C(conjunto dos números complexos).

Deﬁnição 7 (Séries de potências formais). Uma série de potências formal em uma variável
com coeﬁcientes em K é uma função F : N → K. Nós escrevemos F (n) ou Fn para
o valor da função F em função de n (n ∈ N). O conjunto de todas essas funções será
denotado K[[x]], onde x é um símbolo chamado de indeterminado.

Uma série de potências formal F ∈ K[[x]] é exatamente o mesmo que uma sequência

F = (F0, F1, F2, ..., Fn, ...) = (F (0), F (1), F (2), ..., F (n), ...)

séries de potências formais

41

cujos índices são inteiros não negativos, onde cada Fn ∈ K. Costumamos exibir essa
sequência usando notação de séries de potências escrevendo

F =

∞
X

n=0

Fnxn

e chamando Fn de coeﬁciente de xn em F .

Assim, duas séries de potências formais F , G ∈ K[[x]] serão iguais se, e somente
se, Fn = Gn para todo n ∈ N. Além disso, seja a função Z : N → K de tal modo
que Z(n) = 0k para todo n ∈ N, deﬁnida como a série de potências nula, ou seja,
Z = P
n≥0 0xn, o que geralmente é denotado simplesmente com o símbolo 0. Note
também que o exemplo dado no início desse capítulo, onde encontramos a função geradora
GS(x) = P∞
n=0 2nxn que, após apresentarmos a Deﬁnição 7, pode ser encarada também
como uma série de potências formal já que GS faz parte de K[[x]], pois G : N → Q. Na
notação de sequências podemos reescrever GS como

GS = (1, 2, 4, 8, ..., 2n, ...).

Em [4, Cap. 7], encontramos um exemplo curioso de série de potências formal que nos
faz reﬂetir sobre a potencialidade de séries de potências generalizar tudo que já foi visto
sobre funções geradoras escritas como polinômios. Vejamos:

Exemplo 8.1. Para cada i ∈ N, deﬁnimos uma série de potências Xi : N → K por
Xi(i) = 1 e Xi(j) = 0 para todo j 6= i. Portanto, Xi é a sequência (0, 0, ..., 1, 0, ...) onde
o 1 é precedido de i zeros, ou seja,

Xi =

∞
X

n=0

χ(n = i)xn.

No exemplo acima, se omitíssemos os coeﬁcientes zeros, seria tentador escrever X0 =
x0 = 1, X1 = x1 = x e Xi = xi, ou seja, teríamos simples polinômios. Rigorosamente
falando, essas abreviações da forma oﬁcial da notação de séries de potências não são
permitidas, mas para nosso objetivo que é analisar os coeﬁcientes a ﬁm de contar algo,
poderão ser feitas. Intuitivamente, um polinômio é uma série de potências formal com
um número ﬁnito de coeﬁcientes diferentes de zero. Para formalizarmos polinômios como
um grupo especial dentro da séries de potências formais, segue a deﬁnição de polinômios
formais.

Deﬁnição 8 (Polinômios formais). Uma série de potências formal F ∈ K[[x]] é um po-
linômio se, e somente se, {n ∈ N : F (n) 6= 0} é um conjunto ﬁnito. Para tanto, tomemos
K[x] como o conjunto de todos os polinômios em K[[x]].

Somar ou multiplicar polinômios são operações que aprendemos ainda no Ensino
Fundamental II, porém, em se tratando de outros tipos de séries de potências formais,
como seria sua soma ou seu produto? Vejamos a deﬁnição dada por [4, Cap. 7].

séries de potências formais

42

Deﬁnição 9 (Soma e produto de séries de potências formais). Dados F , G ∈ K[[x]],
deﬁnimos a soma F + G : N → K por (F + G)(n) = F (n) + G(n) para todo n ∈ N.
Deﬁnimos o produto F G : N → K por

(F G)(n) = X
n≥0

X

(i,j)∈N2
i+j=n

F (i)G(j) = X
n≥0

n
X

k=0

F (k)G(n − k).

F G é às vezes chamado de convolução das funções F e G.

Na notação de sequências essas duas deﬁnições podem ser escritas da seguinte forma:

(Fn : n ≥ 0) + (Gn : n ≥ 0) = (Fn + Gn : n ≥ 0);

(Fn : n ≥ 0) × (Gn : n ≥ 0) =

Fk + Gn−k : n ≥ 0


 .





n
X

k=0

Já para a notação de séries de potências formais, essas operações podem ser escritas

como

X

n≥0

Fnxn + X
n≥0

Gnxn = X
n≥0

(Fn + Gn)xn;





X

n≥0


 ×





Fnxn

X

Gnxn

n≥0


 = X
n≥0





X

FiGj


 xn.

i+j=n

Essas fórmulas são exatamente o que nós esperávamos encontrar ao usarmos a pro-
priedade distributiva generalizada, se x e cada Fn e Gn são elementos de algum anel em
que sua soma é ﬁnita. Note que, de certa forma, são exatamente os mesmos passos para
adição e produto entre polinômios. Analisemos a situação a seguir considerando duas
funções polinomiais, por exemplo, p(z) = 1 + 2z2 + 3z4 e q(z) = 3 + 2z + 5z2 + 2z3. Ao
fazermos a soma e o produto entre elas teremos: p(z) + q(z) = 4 + 2z + 7z2 + 2z3 + 3z4
e p(z)q(z) = 3 + 2z + 11z2 + 6z3 + 19z4 + 10z5 + 15z6 + 6z7. Perceba que no produto
p(z)q(z), o coeﬁciente de z4 ﬁcou igual a 19 pois apenas duas possibilidades de produtos
entre termos de p(z) e de q(z) resultam em z4. São eles: 2z2 por 5z2 e 3z4 por 3, ou seja,
teremos que somar 10z4 com 9z4, resultando em 19z4. Note que no primeiro caso tivemos
i = j = 2 e no segundo caso i = 4 e j = 0, em ambos os casos, i + j = 4.

O que ﬁzemos acima pode ser reescrito usando a ideia de séries de potências formais
na notação de sequências, tomando A = (1, 0, 2, 0, 3, 0, 0, 0...) e B = (3, 2, 5, 2, 0, 0, 0, ...) ∈
K[[x]]. Assim, A + B = (1 + 3, 0 + 2, 2 + 5, 0 + 2, 3 + 0, 0 + 0, ...) = (4, 2, 7, 2, 3, 0, 0, 0, ...)
e AB = (1 · 3, 1 · 2 + 0 · 3, 2 · 3 + 0 · 2 + 1 · 5, 0 · 3 + 2 · 2 + 0 · 5 + 1 · 2, ...) = (3, 2, 11, 6, 19, 10,
15, 6, 0, 0, 0, ...).

Exemplo 8.2. Suponhamos F = (Fn : n ∈ N) ∈ K[[x]] e C = (1, 1, 1, 1, ...) ∈ K[[x]].
Então,

F C = CF = (F0, F0 + F1, F0 + F1 + F2, ..., F0 + F1 + ... + Fn, ...).

séries de potências formais

43

Note que no exemplo acima, a multiplicação por C substitui uma sequência de escalares

por uma sequência de somas parciais de escalares.

Fizemos até agora o produto de duas séries de potências formais, mas é possível
multiplicarmos um número ﬁnito k de séries, sejam elas distintas ou iguais. Quando todas
são iguais temos a Potência de Séries Formais. Veja o seguinte teorema:

Teorema 8.3 (Produtos de k Séries de Potências Formais). Suponhamos G1, G2, ..., Gk ∈
K[[x]]. Para todo n ∈ N,

(G1G2 · · · Gk) = X
n≥0

X

G1(j1)G2(j2) · · · Gk(jk).

(j1,j2,...,jk)∈Nk
j1+j2+...+jk=n

Demonstração. Façamos por indução em K. O caso k = 1 é imediato. O caso k = 2 foi
apresentado na Deﬁnição 9 de produto de duas séries de potências formais. Assumamos
k > 2 e suponhamos válido para o produto de k − 1 séries. Escrevendo F = G1G2 · · · Gk−1,
calculamos

(G1G2 · · · Gk) = (F Gk)(n) = X
n≥0

X

F (r)Gs(s)

(r,s)∈N2
r+s=n

X

G1(j1)G2(j2) · · · Gk−1(jk−1)

(j1,j2,...,jk−1)∈Nk−1
j1+j2+...+jk−1=r

G1(j1)G2(j2) · · · Gk−1(jk−1)Gk(jk).









Gk(s)









X

(r,s)∈N2
r+s=n

X

= X
n≥0

= X
n≥0

(j1,j2,...,jk)∈Nk
j1+j2+...+jk=n

Note que o último passo segue a lei distributiva generalizada e uma mudança nos nomes
dos índices da soma.

Novamente, percebemos que são os mesmos passos para o produto entre vários po-
linômios. Porém, existe algo que está associado a um polinômio que as outras séries de
potências não possuem, é o grau de um polinômio.

Deﬁnição 10 (Grau de um Polinômio). Dado um polinômio não nulo f ∈ K[x], o grau
de f , denotado por deg(f ), é o maior n ∈ N com f (n) 6= 0. Esse elemento f (n) ∈ K é o
coeﬁciente principal de f . Um polinômio f é chamado de “mônico” se f (n) = 1. O grau
do polinômio nulo é indeﬁnido.

Apesar das séries formais que não são polinômios não possuírem grau, elas possuem

ordem. Toda série de potências formal não nula possui ordem.

Deﬁnição 11 (Ordem de uma série de potências formal). Seja F = P
n≥0 Fnxn ∈ K[[x]]
uma série não nula. A ordem de F , denotada por ord(F ), é o menor n ≥ 0 tal que
F (n) 6= 0.

séries de potências formais

44

Exemplo 8.4. A ordem de (0,0,0,3,5,7,8,9,4,...) é 3. O polinômio nulo não tem nem
grau, nem ordem, já o polinômio x4 + 2x6 + 5x8 tem grau 8 e ordem 4.

Outra informação importante sobre séries de potências formais é o fato de admitirem
composição, assim como as funções. Para os polinômios isso ﬁca mais claro de perceber,
porém, para os outros casos, novamente, desconsideraremos o problema da convergência,
pois no ﬁnal das contas o símbolo x continuará sendo nosso indeterminado. Para as funções
a composição pode ser formada da seguinte forma: Sejam f , g : R → R, de tal forma
que a função composta g ◦ f : R → R é representada por (g ◦ f )(z) = g(f (z)) para cada
z ∈ R. Analogamente, para dois polinômios f , g ∈ K[x], a composição formal de f e g é
f • g = Pf (g), ou seja, se f = Pn

k=0 fkxk e g = Pm

j=0 gjxj, então

f • g =

n
X

k=0



fk



m
X

j=0



k

gjxj



∈ K[x].

Note que o símbolo “•” foi usado para composição formal, já o símbolo “◦”, para composição
de funções. Podemos também estender essa deﬁnição da composição formal f • g para
o caso em que f ∈ K[x] é um polinômio e G ∈ K[[x]] é uma série formal, de tal forma
que f • G = Pf (G). Nosso problema agora é deﬁnir F • G quando F e G são ambos
séries formais. Sem pensarmos no que pode dar errado, suponhamos F = P
n≥0 Fnxn e
G = P
m≥0 Gmxm como séries formais. Por analogia com o que foi visto anteriormente,
deﬁnamos





n





X

k≥0

Fn

Gkxk

∈ K[[x]].

FnGn = X
n≥0

F • G = X
n≥0
O problema é que a soma inﬁnita de séries formais P
n≥0 FnGn não está bem deﬁnida.
De fato, se Fn 6= 0 para inﬁnitos valores de n e G0 = 1, por exemplo, temos que, por
aparecer um termo constante, P
n≥0 FnGn não existirá. Contudo, [4, Cap. 7] escapou
dessa diﬁculdade exigindo que o fator da direita na composição formal F • G tenha o termo
constante igual a zero. Veja a deﬁnição de composição de séries de potências formais dada
por Loehr.

Deﬁnição 12 (Composição de Séries de Potências Formais). Dados F , G ∈ K[[x]] com
G(0) = 0, a composição formal de F e G é

F • G = X
n≥0

FnGn ∈ K[[x]].

Poderíamos nos aprofundar ainda mais nas propriedades, tipos e aplicações de séries
de potências formais, porém nosso objetivo é focar em sua utilidade para a combinatória,
principalmente no que se refere a conjuntos ponderados inﬁnitos, e o que foi apresentado
até aqui já nos possibilita isso.

Agora que temos a base de séries de potências formais, poderemos estudar os conjuntos
ponderados inﬁnitos. Iniciaremos nossos estudos com a questão da admissibilidade ou não

séries de potências formais

45

de um conjunto ponderado e sua respectiva função geradora. Veja a deﬁnição dada por [4,
Cap. 8].

Deﬁnição 13 (Conjunto Ponderado Admissível). Supondo S um conjunto de função peso
wt : S → N, o conjunto ponderado (S, wt) é chamado admissível se, e somente se, para
todo n ≥ 0, o conjunto Sn = {z ∈ S : wt(z) = n} é ﬁnito. Nesse caso, a função geradora
do conjunto ponderado (S, wt) é a série de potências formal

GS = GS,wt =

∞
X

n=0

|Sn|xn ∈ K[[x]].

Informalmente, essa série representa P

z∈S xwt(z). Por exemplo, todo conjunto ponde-
rado ﬁnito S é admissível. Além disso, a função geradora para tal conjunto é um polinômio,
pois a partir de um determinado n, |Sn| será sempre igual a 0. Esse tipo de função geradora
foi estudada no Capítulo 7. Além disso, seja (S, wt) um conjunto ponderado admissível, e
seja T um subconjunto de S com a mesma função peso wt, ou seja, Tn ⊆ Sn para todo n,
então (T , wt) também será admissível. Da mesma forma, uma união disjunta limitada de
conjuntos ponderados admissíveis também será admissível.

Mas e se S for um conjunto inﬁnito, pode ocorrer de S ser admissível? A resposta é
sim, o exemplo dado no início desse capítulo é um caso em que isso ocorre, pois apesar
de GS(x) = P∞
n=0 2nxn = (1, 2, 4, 8, ..., 2n, ...) não gerar um polinômio, |Sn| = 2n para
n ∈ N, ou seja, Sn = {z ∈ S : wt(z) = n} é ﬁnito. Logo, nesse exemplo, S é admissível.
No Capítulo 7, vimos a regra da bijeção para a funções geradoras (Teorema 7.6), aqui
também se (S, wt1) e (T , wt2) são dois conjuntos ponderados de tal forma que existe
uma bijeção de preservação-de-peso f : S → T . Então S é admissível se, e somente
se, T é admissível com GS = GT , pois como wt2(f (s)) = wt1(s) para todo s ∈ S, f e
consequentemente f −1 preservam os pesos, assim |Sn| = |Tn| para todo n ≥ 0.

Saber se o conjunto ponderado é admissível ou não é importante para trabalharmos as
regras de soma e de produto para conjuntos ponderados, que agora, passam a poder ser
inﬁnitos. Tanto a Regra da Soma (Teorema 7.1), quanto a Regra do Produto (Teoremas
7.2 e 7.3) serão válidos para conjuntos ponderados inﬁnitos, desde que sejam conjuntos
admissíveis. Pois ao serem admissíveis a soma e o produto entre os coeﬁcientes poderão
ser calculadas, mesmo que para um número inﬁnito de operações.

Assim, a Regra da Soma para Conjuntos Ponderados Inﬁnitos poderá ser
enunciada da seguinte forma: Suponhamos (S, wt) um conjunto ponderado admissível que
é a união disjunta dos subconjuntos {Ti : i ∈ I}, onde os índices i são ﬁnitos ou iguais aos
elementos de N. Logo, para todo i ∈ I e todo x ∈ Ti, wtTi(x) = wtS(x). Então

Gs = X
i∈I

GTi.

Isso é válido pois podemos escrever Sn para o conjunto de objetos em S de peso n e
escrever (Ti)n para o conjunto de objetos em Ti de peso n. Assim, por suposição, Sn é

séries de potências formais

46

um conjunto ﬁnito que é a união disjunta dos conjuntos (Ti)n, necessariamente ﬁnitos.
Seja In o conjunto de índices tais que (Ti)n são conjuntos não vazios, então In deveria ser
ﬁnito, já que Sn é ﬁnito. Pela regra da soma para conjuntos ﬁnitos (Teorema 7.1),

|Sn| = X
i∈In

|(Ti)n|.

O lado esquerdo representa o coeﬁciente de xn em GS, enquanto o lado direito, o coeﬁciente
de xn em P
i∈In GTi, uma vez que as parcelas correspondentes a i /∈ In geram coeﬁcientes
de xn iguais a zero. Quando I = N, esse argumento também prova a convergência da
soma inﬁnita das séries de potências formais P
i∈In GTi, e portanto, a Regra da Soma
também será válida.

Já a Regra do Produto é um pouco mais complexa, pois teremos duas versões. A
primeira versão é designada para situações em que construiremos objetos ponderados
fazendo uma sequência ﬁnita de escolhas. Por outro lado, a segunda versão estende essa
regra para uma sequência inﬁnita de escolhas, o que leva a fórmulas envolvendo produtos
inﬁnitos de séries de potências formais. Veja os dois diferentes enunciados.

Regra do Produto para Conjuntos Ponderados Inﬁnitos (versão 1): Supo-
nhamos (S, wt) um conjunto ponderado; seja k um número inteiro positivo ﬁxado e ﬁnito,
e sejam (Ti, wti) conjuntos ponderados admissíveis para 1 ≤ i ≤ k. Suponhamos que para
cada z ∈ S podemos fazer uma única escolha z1 ∈ T1, depois, uma única escolha z2 ∈ T2,
..., até escolhermos zk ∈ Tk, e na sequência, montarmos essas escolhas de alguma maneira.
Suponhamos ainda que wt(z) = Pk
i=1 wt(zi) para todo z ∈ S. Então (S, wt) é admissível,
e

k
Y

GS =

GTi.

i=1

Essa regra pode ser demonstrada por indução e usando a ideia de bijeção de preservação-
de-peso (ver [4, Cap. 8]).

A próxima versão nos permitirá obter funções geradoras para objetos que são construídos
fazendo uma sequência inﬁnita de escolhas, para tanto, precisaremos entender o que signiﬁca
um produto cartesiano restrito. Suponhamos {(Tn, wtn) : n ≤ 1} uma coleção contável de
conjuntos ponderados admissíveis tais que para todo Tn teremos exatamente um elemento
de peso zero, chamado de elemento 1n, o produto cartesiano restrito de todos os Tn será
T = Q∗
n≥1 Tn, que será o conjunto de todas as inﬁnitas sequências (tn : n ≥ 1) de tal
modo que tn ∈ Tn para todo n e tn = 1n para todos os índices deﬁnidos ﬁnitamente.
Transformamos, assim, T em um, não necessariamente admissível, conjunto ponderado
deﬁnido por wt((tn : n ≥ 1)) = P

n≥1 wt(tn).

Regra do Produto para Conjuntos Ponderados Inﬁnitos (versão 2): Tomemos
{(Tn, wtn) : n ≤ 1} uma coleção contável de conjuntos ponderados admissíveis tais que
para todo Tn teremos exatamente um elemento de peso zero, chamado de elemento 1n e
tomemos T = Q∗
n≥1 Tn como o conjunto de todas as inﬁnitas sequências (tn : n ≥ 1) de

séries de potências formais

47

tal modo que tn ∈ Tn para todo n. Se ord(GTn − 1) → ∞ com n → ∞, então (T , wt) é
admissível e

∞
Y

GT =

GTn.

i=1

Para aplicar esse resultado, nós iniciamos com algum conjunto ponderado (S, wt) e
descrevemos uma sequência inﬁnita de escolhas para construirmos objetos em S, escolhendo
“blocos de construção” em Tn. Cada conjunto Tn tem um “objeto ﬁctício” de peso zero.
Qualquer sequência de escolha especíﬁca deverá terminar ao escolher o objeto ﬁctício
para um n suﬁcientemente grande, mas não há um número ﬁxo de escolhas “não ﬁctícias”
que podemos fazer. Esse procedimento informal de escolha equivale a fazer uma bijeção
de preservação-de-peso de S no produto T = Q∗
n≥1 Tn. Então podemos concluir que
GS = Q

n≥1 GTn, desde que o produto inﬁnito no lado direito seja convergente.

Para exempliﬁcar o que foi estudado até aqui sobre séries de potências formais e
conjuntos ponderados inﬁnitos, dentre as inúmeras possibilidades apresentadas em [4],
iremos trabalhar no próximo capítulo com a função geradora exponencial.

9

F U N Ç Õ E S G E R A D O R A S E X P O N E N C I A I S

Até agora, vimos exemplos de funções geradoras ordinárias, ou seja, séries de potências
formais cujos coeﬁcientes de xn são soluções de um problema de combinatória. Porém,
nem sempre conseguimos chegar nos resultados pretendidos usando esse tipo de função
geradora. Esse é o caso da função geradora exponencial que trará também resultados de
um problema de combinatória, porém, esses resultados serão coeﬁcientes de xn/n! em uma
série de potência formal para todo n ∈ N, tanto que [9, Cap. 5] deﬁne função geradora
exponencial da sequência (ar) como a série de potências

a0 + a1

x
1!

+ a2

x2
2!

+ a3

x3
3!

+ ... + ar

xr
r!

+ ....

Como no capítulo anterior deﬁnimos o que é uma série de potências formal, vamos usar a
seguinte deﬁnição para essa função geradora:

Deﬁnição 14 (Função geradora exponencial). Dada a sequência F = (Fn : n ≥ 0) ∈
K[[x]], a função geradora exponencial dessa sequência é

F ∗ = X
n≥0

Fn
n!

xn ∈ K[[x]].

Mas qual o motivo para essa função geradora se chamar exponencial? No Capítulo
6 havíamos mostrado alguns exemplos de séries formais e, entre eles, vimos a função
exponencial, veja sua versão formal apresentada por [4, Cap. 7].

Deﬁnição 15 (Versão formal da exponencial). Deﬁnimos a seguinte série de potências
formal em K[[x]]:

ex = X
n≥0

1
n!

xn.

1

n≥0

Assim, para uma sequência F = (1, 1, 1, ...) teremos F ∗ = P

n! xn = ex, ou
seja, ex é a forma fechada da função geradora exponencial da sequência Fn = 1 para
todo n ≥ 0. Note que usamos um número inteiro para o valor de Fn, mas como F ∈
K[[x]], Fn poderia ser qualquer corpo que contenha o conjunto Q dos racionais (veja
Deﬁnição 6). Se considerarmos uma sequência Fn = k, para todo n ≥ 0, teríamos
F ∗ = k + kx + k x2
r! + ... = kex como sua função geradora exponencial.
Por outro lado, se tivéssemos a sequência F = (0, 1, 1, ...), sua função geradora seria
F ∗ = x + x2
3! + ... = ex − 1. Esse resultado será usado futuramente em nossos
exemplos.

3! + ... + k xr

2! + k x3

2! + x3

48

funções geradoras exponenciais

49

No capítulo anterior encontramos a função geradora ordinária para a sequência
(1, 2, 4, 8, ..., 2n, ...), como ﬁcaria sua função geradora exponencial? Observe que e2x =
1 + 2x + (2x)2
r! + ..., ou seja, substituímos o x por 2x na fórmula
exponencial. Logo,

3! + ... + (2x)r

2! + (2x)3

e2x = 1 + 2

x
1!

+ 22 x2
2!

+ 23 x3
3!

+ ... + 2r xr
r!

+ ...,

que é exatamente a função geradora procurada. Podemos dizer, ainda, que e2x é a forma
fechada para essa função geradora, bem como, analogamente, ekx é a forma fechada da
função geradora exponencial para a sequência Fn = kn, para n ≥ 0.

Agora veremos a utilidade da função geradora exponencial para a combinatória. Para
isso, sigamos o raciocínio apresentado por [9, Cap. 5], que utilizando um simples exemplo,
mostrou a vantagem de utilizarmos essa função geradora para determinados tipos de
problemas combinatórios. Imaginemos o seguinte problema: temos três tipos diferentes de
bombons a, b e c, e iremos dar 4 deles para 4 pessoas diferentes, mas só temos disponíveis
uma unidade de a, três de b e duas de c. De quantas maneiras isso poderá ser feito?

Para resolver este problema, consideremos primeiramente a função geradora ordinária
que nos fornecerá as possíveis escolhas com as restrições impostas, porém, esse tipo
de função geradora não considera a ordem de entrega dos bombons, só nos fornece a
quantidade de cada tipo. Tal função é dada por:

(1 + ax)(1 + bx + b2x2 + b3x3)(1 + cx + c2x2) = 1 + (a + b + c)x
+(b2 + ab + bc + ac + c2)x2 + (b3 + ab2 + ac2 + b2c + abc + bc2)x3
+(ab3 + b3c + ab2c + b2c2 + abc2)x4 + (ab3c + b3c2 + ab2c2)x5 + ab3c2x6.

Note que o coeﬁciente de xn é a lista de todas as possíveis escolhas de n bombons,
com n variando, nesse caso, de 0 a 6 bombons. Observando o coeﬁciente de x4, veremos
que existem 5 maneiras de se escolher 4 bombons com as restrições impostas, porém sem
ainda considerar a ordem. Como pretendemos ordenar os 4 bombons pois serão dados a
pessoas diferentes, vamos analisar como calcular de quantas maneiras podemos ordenar
cada uma das 5 possibilidades encontradas.

Quando temos b3c, por exemplo, signiﬁca que serão dados três bombons do tipo b e um
do tipo c. Vamos veriﬁcar de quantas maneiras podemos permutá-los. Vimos na Deﬁnição
3 o que é uma permutação. Chamamos de permutações simples de n elementos quando não
temos elementos repetidos a serem permutados, e como consequência imediata do princípio
multiplicativo da contagem, temos que o total dessas permutações é n!. Consideremos,
agora, o caso em que dentre os n elementos existam elementos repetidos, como é o caso
de b3c, que são três bombons do tipo b e um do tipo c. Para permutá-los, teremos que
escolher das 4 pessoas, 3 para darmos os bombons do tipo b e 1 para darmos o do tipo
c, ou seja, pelo que já vimos sobre combinação simples, teremos C4,3 · C1,1 = 4!/3!1!. Já
para o caso ab2c, escolheremos das 4 pessoas 1 para dar o bombom do tipo a, das 3 que

funções geradoras exponenciais

50

sobraram escolhemos 2 para darmos os do tipo b e a que sobra ﬁca com o do tipo c, ou
seja, teremos

C4,1 · C3,2 · C1,1 =

4!
1!3!

·

3!
2!1!

·

1!
1!0!

=

4!
1!2!1!

.

O que acabamos de calcular é uma permutação com repetição de 4 elementos com a
aparecendo uma vez, b duas e c uma vez. Assim, para o caso de n elementos com α
repetições de a, β repetições de b, γ repetições de c, e assim por diante, teremos o total de
permutações com repetição iguais a

P Rα,β,γ,...
n

=

n!
α!β!γ!...

.

Logo, considerando todas as cinco possibilidades de darmos os 4 bombons, porém, consi-
derando agora as possíveis permutações, teremos

  4!
1!3!

+

4!
3!1!

+

4!
1!2!1!

+

4!
2!2!

+

4!
1!1!2!

!

maneiras de se fazer tal entrega.

Nosso desaﬁo agora é alterarmos os polinômios que “controlam” a quantidade de cada

tipo de bombom introduzindo no coeﬁciente de xn o fator 1/n!. Obteremos:

(cid:18)

1 +

+

 b2
2!
  ab3
1!3!

+

+

+

a
1!
ab
1!1!
b3c
3!1!

(cid:19)  

1 +

b
1!

x

+

+

+

bc
1!1!
ab2c
1!2!1!

b2
2!

+

x +

ac
1!1!

!  

x2 +

b3
3!

x3

!

c2
2!

x2 +

 b3
3!

+

+

b2c2
2!2!

+

!

abc2
1!1!2!

x4 +

1 +

x +

c
1!
ab2
1!2!
  ab3c
1!3!1!

+

c2
2!
ac2
1!2!

!

= 1 +

x2

+

b2c
2!1!

+

+

b3c2
3!2!

+

ab2c2
1!2!2!

+

  a
1!
abc
1!1!1!
!

b
1!

+

+

!

c
1!
!

x

x3

bc2
1!2!
ab3c2
1!3!2!

x5 +

x6.

Note que o coeﬁciente de x4 é

  ab3
1!3!

+

b3c
3!1!

+

ab2c
1!2!1!

+

b2c2
2!2!

+

!

,

abc2
1!1!2!

que ainda não é exatamente o que desejamos pois falta no numerador o 4!, então, vamos
multiplicar e dividir o coeﬁciente por esse valor, obtendo:

  4!
1!3!

ab3 +

4!
3!1!

b3c +

4!
1!2!1!

ab2c +

4!
2!2!

b2c2 +

4!
1!1!2!

abc2

! 1
4!

.

Logo, o número procurado, tomando-se a = b = c = 1, será o coeﬁciente de x4/4! na
expansão de

(cid:18)

1 +

x
1!

(cid:19)  

1 +

x
1!

x +

x2
2!

+

x3
3!

!  

1 +

x
1!

+

!

x2
2!

= 1 + 3

x
1!

funções geradoras exponenciais

51

+

 2!
2!
  4!
1!3!

+

+

2!
1!1!

+

2!
1!1!

+

2!
1!1!

+

! x2
2!

2!
2!

+

4!
3!1!

+

4!
1!2!1!

+

4!
2!2!

+

4!
1!1!2!

+

  3!
3!
! x4
4!

+

+

+

3!
1!2!
  5!

1!3!1!

3!
1!2!

+

3!
2!1!

+

+

5!
3!2!

+

5!
1!2!2!

3!
1!1!1!
! x5
5!

+

3!
1!2!

! x3
3!

+

6!
1!3!2!

x6
6!

.

Se quiséssemos dar 6 bombons, por exemplo, teríamos

6!
1!3!2! maneiras de dar a única

possibilidade de entrega: um bombom do tipo c, três do tipo b e dois do tipo c.

O que acabamos de ver é um exemplo de uma função geradora exponencial aplicada
ao problema de distribuição e ordenação de bombons a pessoas distintas. Mas qual a
diferença entre utilizar uma função geradora ordinária e uma exponencial? A diferença,
segundo [9, Cap. 5], está no objetivo pretendido. Note que utilizamos a função geradora
exponencial quando a ordem dos objetos retirados foi considerada. Já a função geradora
ordinária foi usada quando a ordem era irrelevante, como foi o caso do problema inicial do
caminhão-cegonha. Vejamos o que aconteceria se o problema do caminhão-cegonha fosse
modiﬁcado conforme o exemplo a seguir.

Exemplo 9.1. Um brinquedo infantil caminhão-cegonha é formado por uma carreta e
até dez carrinhos nela transportados. No setor de produção da empresa que fabrica esse
brinquedo, foi feita a distribuição de 9 carrinhos de cores diferentes em 4 carretas distintas.
O caminhão-cegonha tem que ter pelo menos um carrinho em cada carreta. Com base
nessas informações, de quantas maneiras poderá ser feita tal distribuição?

Observe, inicialmente, que nenhuma carreta poderá receber mais que 6 carrinhos, uma
vez que nenhuma delas poderá ﬁcar vazia. Usamos a função geradora exponencial pois a
ordem de colocarmos os carrinhos nas carretas que são diferentes importam. Como cada
carrinho poderá aparacer em cada carreta de 1 a 6 vezes, a função geradora exponencial
para este problema será

f (x) =

x +

x2
2!

+

x3
3!

+ ... +

!4

.

x6
6!

Como a resposta pretendida é o coeﬁciente de x9/9! nesta função, poderemos trocá-la por

x +

x2
2!

+

x3
3!

+ ... +

!4

+ ...

x6
6!

= (ex − 1)4,

uma vez que as potências extras acrescentadas não contribuem para o coeﬁciente de x9/9!.
Como

(ex − 1)4 = e4x − 4e3x + 6e2x − 4ex + 1,

basta somarmos os coeﬁcientes de x9/9! de cada parcela do desenvolvimento de (ex − 1)4.
As parcelas do tipo ketx são as formas fechadas das funções geradoras exponenciais para

 
 
funções geradoras exponenciais

52

suas sequências do tipo Fn = ktn. Logo, os coeﬁcientes requeridos de (ex − 1)4 são:
49, −4 · 39, 6 · 29 e −4. Que somados resultam em 186.480 maneiras de fazer tal distribuição.

No exemplo acima, foi resolvido um problema análogo a “de quantas maneiras podemos
distribuir 9 bolas distintas em 4 caixas distintas, sem que nenhuma ﬁque vazia?”. Agora,
se generalizássemos o problema para n bolas e k caixas, como ﬁcaria o resultado? Veja
uma fórmula para calcularmos esse problema, deduzida utilizando-se o mesmo raciocínio
usado na resolução do Exemplo 9.1.

Teorema 9.2. O número de maneiras de distribuirmos n bolas distintas em k caixas
distintas, sem que nenhuma ﬁque vazia, é

T (n, k) =

(−1)i

!

 k
i

k
X

i=0

(k − i)n.

(14)

Demonstração. Como temos k caixas e cada caixa tem que receber pelo menos uma bola,
situação em que a ordem é relevante por serem bolas distintas, teremos que a função
geradora exponencial para esse problema será

x +

x2
2!

+

x3
3!

!k

+ ...

= (ex − 1)k.

Estamos interessados no coeﬁciente de xn/n! nesta função. Aplicando a fórmula do
Binômio de Newton vista no Capítulo 3, temos que:

(ex − 1)k =

!

k
X

i=0

 k
i

(ex)k−i(−1)i =

!

k
X

i=0

 k
i

(−1)iex(k−i),

ex(k−i) =

∞
X

n=0

1
n!

(k − i)nxn,

e como

temos

(ex − 1)k =

=

k
X

i=0
∞
X

!

 k
i

(−1)i

k
X

(−1)i

∞
X

n=0
!
 k
i

(k − i)nxn

1
n!
(k − i)n xn
n!

.

Portanto, o coeﬁciente de xn/n! é

n=0

i=0

(−1)i

!

 k
i

k
X

i=0

(k − i)n,

que é a expressão para T (n, k) fornecida em (14).

 
funções geradoras exponenciais

53

Assim, se aplicarmos o Teorema 9.2 para resolvermos o Exemplo 9.1, teremos:

T (9, 4) =

4
X

i=0

(−1)i

!

 4
i

(4 − i)9

= 49 −

!

 4
1

39 +

!

 4
2

22 −

!

 4
3

= 49 − 4 · 39 + 6 · 29 − 4

= 186.480.

Esse foi exatamente o resultado encontrado anteriormente.

E se as caixas fossem idênticas, como resolveríamos o problema anterior? Ora, se as
caixas são idênticas basta dividirmos o resultado pela permutação das k caixas, ou seja,
dividirmos T (n, k) por k!. Assim, o número de maneiras S(n, k) de distribuirmos n bolas
distintas em k caixas idênticas sem que nenhuma caixa ﬁque vazia é

S(n, k) =

1
k!

T (n, k) =

1
k!

k
X

i=0

(−1)i

!

 k
i

(k − i)n.

Segundo [9, Cap. 5], o número S(n, k) é chamado número de Stirling do segundo tipo, ele
também pode ser visto como o número de partições de {1, 2, ..., n} em exatamente k blocos.
Por exemplo, uma partição de um número inteiro positivo n é uma coleção de inteiros
positivos cuja soma é n. Vejam as partições do número 3: 3, 2 + 1 e 1 + 1 + 1. A primeira,
foi dividida em 1 bloco, a segunda, em 2 blocos, e a terceira, em 3. Por exemplo, seja n = 3
e k = 3, então a única partição possível nessas condições é 1 + 1 + 1. De fato, S(3, 3) =
1)23 + (3
1
6 (27 − 24 + 3 − 0) = 1.
3!
Assim, teremos que a função geradora exponencial para os números de Stirling do segundo
tipo (S(n, k)) para um k ﬁxo será, para todo k ≥ 0,

i)(3 − i)3 = 1
6

i=0(−1)i(3

0)33 − (3
(3

2)13 − (3

3)03(cid:17)

= 1

P3

(cid:16)

f (x) = X
n≥k

S(n, k)

xn
n!

∈ k[[x]].

Para encontrarmos sua forma fechada, lembremos que S(n, k) = T (n, k)/k!, como k é
ﬁxo, podemos colocá-lo em evidência e, obtermos

f (x) =

1
k!

X

n≥k

T (n, k)

xn
n!

.

De (14) e sabendo que (ex − 1)k = Pk

i=0 (k

i)(ex)k−i(−1)i, teremos

f (x) =

1
k!

k
X

X

n≥k

i=0

(−1)i

!

 k
i

(k − i)n xn
n!

=

1
k!

(ex − 1)k.

Segundo [4, Cap. 8], muitas estruturas combinatórias podem ser decompostas em
uniões disjuntas de “componentes conectados”, como é o caso do conjunto de partições. A
fórmula exponencial nos permite calcular a função geradora para tais estruturas a partir

funções geradoras exponenciais

54

da função geradora para “blocos de construção” conectados, dos quais elas são formadas.
Para cada k ≥ 1, seja Ck um conjunto ponderado admissível de estruturas conectadas de
tamanho k e seja Ck = P

z∈Ck wt(z) ∈ K. Introduzimos a função geradora

C∗ = X
k≥1

Ck
k!

xk

para codiﬁcar informações sobre todos os conjuntos Ck. A função geradora exponencial de
S(n, k) para um k ﬁxo é um exemplo desse tipo de função geradora exponencial.

Se C∗ é uma função geradora exponencial para um conjunto de blocos de construção
conectados, poderíamos ainda obter F = exp(C∗), que é uma função geradora exponencial
para o conjunto de objetos obtidos a partir das uniões disjuntas desses blocos de construção.
Deﬁnimos Un como um conjunto de estruturas de tamanho n que consiste de uniões
disjuntas de estruturas conectadas de vários tamanhos que somados resultam em n. Para
todo n ≥ 0, temos Un como um conjunto de pares (S, f ) tais que: S é um conjunto
partição de {1, 2, ..., n}, e f : S → S
k≥1 Ck é uma função tal que f (A) ∈ C|A| para todo
A ∈ S. Dizemos que para todo m-ésimo bloco A do conjunto de partição S, f (A) é uma
estrutura conectada de tamanho m. Seja wt(S, f ) = Q

A∈S wt(f (A)), e deﬁnimos

F (x) = X
n≥0







X

wt(u)



u∈Un

xn
n!

.

Note que F (0) = 1 e saiba que podemos reescrever F como

F = exp(C∗).

Não nos aprofundaremos neste tipo de função geradora exponencial mais complexo
neste presente estudo, porém é importante que entendamos o que signiﬁca a expressão
exp(C∗), lembrando que C∗ é uma série de potências formal. No Capítulo 6 havíamos
mostrado que tanto a função exponencial quanto a função logarítmica natural ln(1 + x)
podem ser escritos na forma de séries de potências formais, de tal forma que ln(1 + x) =
0 + x − x2
5 .... Para entendermos o que signiﬁca exp(C∗), precisamos
entender a ideia da composição formal de séries, trabalhada no capítulo anterior. Para
ilustrar tal ideia, vejamos o seguinte exemplo.

4 + x5

2 + x3

3 − x4

Exemplo 9.3. Vamos mostrar que sejam as séries E = ex − 1 = P
ln(1 + x) = P
n≥1(−1)n−1xn/n, temos que E • L = x.

n≥1 xn/n! e L =

Tomemos H = E • L, com H(0) = 0. Para que E • L = x basta provar que a derivada
de H em função de x vale 1 já que H(0) = 0, ou seja, H 0 = 1. Primeiro, sabemos que a
derivada de E em função de x vale E0 = ex e que a derivada de L em função de x vale

funções geradoras exponenciais

55

L0 = 1 − x + x2 − x3 = (1 + x)−1. Assim, E0 • L = eln(1+x) = 1 + x. Pela Regra da
Cadeia do Cálculo Diferencial temos que

H 0 = (E • L)0 = (E0 • L)L0 = (1 + x)(1 + x)−1 = 1.

Logo, podemos concluir que E • L = x.

Com esse exemplo devidamente demonstrado, podemos agora deﬁnir exp(G), sendo G

uma série formal com G(0) = 0.

Deﬁnição 16 (exp(G)). Suponhamos G uma série de potências formal com termo cons-
tante nulo e utilizemos a função E deﬁnida no Exemplo 9.3. Deﬁnimos

eG = exp(G) = (E • G) + 1 =

∞
X

n=0

Gn
n!

.

Sabemos que, pela Regra da Soma e pela Regra do Produto de séries de potências
formais vistas no capítulo anterior, exp(G) também será uma série de potências formal.
Após termos estudado alguns tópicos importantes de funções geradoras e sua relação
com a combinatória, veremos uma proposta de aplicação de sua essência para alunos do
Ensino Médio em conteúdos que eles aprendem desde o Ensino Fundamental, e muitas
vezes permanecem sem entender o motivo de fazerem tal operação por toda sua vida
acadêmica.

10

P R O P O S TA D I D ÁT I C A

Neste capítulo será apresentada uma proposta didática para alunos do Ensino Médio que
estão aprendendo Análise Combinatória, que na maior parte dos livros didáticos segue
a sequência: Princípios da Contagem, Tipos de Agrupamentos, Permutações simples e
com elementos repetidos, Arranjos simples, Combinações simples, Triângulo de Pascal e
Binômio de Newton. Esta proposta é ideal para ser aplicada após Combinações simples e
antes de Binômio de Newton, porém, isso não é uma regra, poderá variar de acordo com o
objetivo do professor em relação ao que será trabalhado. Por exemplo, se o professor decidir
também trabalhar Combinações com repetição, essa atividade poderá ser usada como
ponto de partida, conforme mostrado mais adiante. Além do mais, o que será apresentado
a partir de agora não é um roteiro, nem um planejamento de uma aula conteudista. É
uma sugestão de conversa e interação entre professor e aluno com o intuito de apresentar
uma nova forma de se utilizar os princípios da contagem via expressões que os alunos já
conhecem desde o Ensino Fundamental, encerrando a conversa com três problemas para o
aluno tentar resolver e utilizar, de preferência, o que foi discutido para isso, porém poderá
apresentar outros tipos de resoluções.

Esta proposta também poderá ser dada como trabalho ou como uma atividade prática
no laboratório de informática, pois utilizaremos uma calculadora online para produtos entre
polinômios. Segundo [5], atividades como esta “exigirá do aluno uma postura diferente
da que sempre observamos quando resolvem os problemas fechados”, e complementa que
em momentos como este, a calculadora permite que o aluno concentre-se no processo de
resolução, ao invés de se preocupar com cálculos longos e repetitivos, já que a calculadora
sozinha não vai resolver o problema, o aluno precisa saber o que irá fazer com ela e obtendo,
nesse caso, o polinômio resultante, saber de onde extrair o resultado pretendido. Assim,
conforme o objetivo do professor, esta atividade poderá durar uma, duas ou mais aulas,
pois também poderá haver uma discussão pós atividade sobre a produção de cada aluno e
suas conclusões sobre o tema. Outra sugestão é fazer essa atividade em grupo, pois para
[5], ao trabalharem em grupos a resolução de problemas abertos que possuem mais de uma
maneira de serem resolvidos evitamos “eventuais desencorajamentos, diminuindo o medo
de não conseguir resolver, aumentando a chance de produção de conjecturas num intervalo
de tempo razoável e possibilitando o surgimento de ricos conﬂitos sócio cognitivos”.

56

10.1 proposta didática: todas as possibilidades em uma só expressão

57

10.1 proposta didática: todas as possibilidades em uma só expres-

são

Você já parou para pensar o que signiﬁca o comando “o quadrado do primeiro mais duas
vezes o primeiro pelo segundo, mais o quadrado do segundo”? Quantas vezes você já o
utilizou? Possivelmente várias vezes e, talvez, nunca se tenha perguntado o motivo. Um
dia seu professor de Matemática te ensinou que (a + b)2 = a2 + 2ab + b2, você deve ter
feito muitos exercícios para ﬁxar, guardou a “fórmula” e continua usando até hoje sem
maiores problemas. De fato, não há problemas em usar algo que está correto, porém é
importante entender o porquê de um processo para utilizá-lo, mesmo que no futuro ele se
torne mecânico. Muitas vezes o raciocínio usado para algo considerado simples pode ser a
chave para solucionar problemas mais complexos. A presente atividade te convida a fazer
exatamente isto: buscar em seus conhecimentos prévios elementos que te levem a resolver
problemas combinatórios referentes a conteúdos ainda não trabalhados.

Escreva em seu caderno (a + b)2. Você pode reescrevê-lo fazendo (a + b)(a + b) e na

sequência aplicar a propriedade distributiva da multiplicação, obtendo

a · a + a · b + b · a + b · b = a2 + ab + ab + b2 = a2 + 2ab + b2.

Dizemos “o quadrado do primeiro mais duas vezes o primeiro pelo segundo, mais o quadrado
do segundo”, pois temos a multiplicando por a uma vez, depois a multiplicando por b duas
vezes, já que ab = ba e por ﬁm, b multiplicando por b uma vez.

Imaginemos agora o seguinte problema:

“Tenho duas amigas Ana e Bruna, e tenho dois chocolates, um branco e
outro preto, de quantas maneiras posso distribuir esses chocolates a minhas
amigas, podendo ser para a mesma ou não?”

Figura 2: Chocolates a serem distribuídos para Ana e Bruna

Note que você pode resolver esse problema facilmente usando o princípio multiplicativo
da contagem: 2 · 2 = 4, pois temos duas etapas, escolher quem receberá o chocolate
branco e depois o preto. Como são duas amigas e a mesma pessoa poderá receber
os dois, teremos 4 possibilidades. Mas se perguntássemos, como poderíamos fazer tal

10.1 proposta didática: todas as possibilidades em uma só expressão

58

distribuição, o que você responderia? Após responder, compare o que achou com a
expressão: a · a + a · b + b · a + b · b. Você percebe alguma semelhança?

Note que ela possui 4 parcelas assim como a sua resposta tinha 4 possibilidades e cada
parcela gerou uma de suas respostas: Ana recebeu os dois chocolates (a · a), Ana recebeu
o primeiro e Bruna o segundo (a · b), Bruna recebeu o primeiro e Ana o segundo (b · a)
e Bruna recebeu os dois (b · b). Também poderíamos analisar o resultado a2 + 2ab + b2
como: temos uma maneira de Ana receber os dois chocolates, duas maneiras de cada uma
receber um e uma maneira de Bruna receber os dois.

Agora, imagine como ﬁcaria esse raciocínio se tivéssemos três chocolates
distintos. Quais seriam as possíveis distribuições para Ana e Bruna? Anote
seu raciocínio.

Figura 3: Chocolates a serem distribuídos para Ana e Bruna

Poderíamos inclusive ler a expressão (a + b) como “Ana ou Bruna”, lembre-se do
princípio aditivo e da conjunção que está interligada a ele, a expressão “ou”. Como temos
3 chocolates distintos vamos ter três etapas, escolher quem vai receber o primeiro, depois
o segundo e na sequência o terceiro chocolate. Pelo princípio multiplicativo da contagem
teremos:

(a + b)(a + b)(a + b) = (a + b)3.

Novamente se ﬁzéssemos a distributiva, encontraríamos 8 termos que podem ser
resumidos em a3 + 3a2b + 3ab2 + b3, ou seja, tem 1 possibilidade de Ana receber os três
chocolates, 3 possibilidades de Ana receber dois e Bruna um, 3 possibilidades de Ana
receber um e Bruna dois e 1 possibilidade de Bruna receber os três. Veja que os coeﬁcientes
da expressão geraram resultados de problemas de combinatória.

Existe uma ferramenta poderosa que se chama função geradora que tem o papel de
fazer exatamente isso, gerar os possíveis resultados de um problema de combinatória em
seus coeﬁcientes. Não vamos estudá-la aqui, mas vamos continuar trabalhando suas ideias.

Quando você estudou teoria dos conjuntos, possivelmente aprendeu que o
número de subconjuntos de um conjunto de n elementos vale 2n. Você sabe
o motivo disso?

10.1 proposta didática: todas as possibilidades em uma só expressão

59

Se você respondeu o motivo é porque provavelmente compreendeu o conteúdo tra-
balhado em análise combinatória, se são ao todo n elementos, cada um deles tem duas
possibilidades de escolhas: estar ou não no subconjunto, e portanto, pelo princípio multi-
plicativo da contagem, teremos 2n maneiras de se formar o subconjunto.

Mas agora, vamos pensar como no problema dos chocolates, imaginemos
que a fosse não estar no subconjunto e b fosse estar, o que signiﬁcaria (a + b)2
para esse problema?

Como elevamos ao quadrado teremos apenas duas situações que podem estar ou não
no subconjunto, ou seja, dois elementos. De fato, quando temos 2 elementos, por exemplo
{1, 2}, teremos 4 subconjuntos que são os seguintes: ∅, {1}, {2} e {1, 2}. Então,

(a + b)2 = a2 + 2ab + b2

poderá signiﬁcar que teremos um subconjunto no qual nem o 1 e nem o 2 fazem parte,
ou seja, o conjunto vazio, 2 subconjuntos que apenas um deles faz parte, que são os dois
unitários e um subconjunto com os dois elementos do conjunto fazendo parte, que é o
próprio conjunto. Para ﬁcar mais didático, troquemos a e b por x0 e x1 e veja o que
acontece, lembrando que x0 = 1. Vamos obter

(1 + x)2 = 1 + 2x + x2 = 1x0 + 2x1 + 1x2.

Note como ﬁcou mais claro entender, principalmente por 1x0 + 2x1 + 1x2, que teremos
um subconjunto vazio, dois unitários e um com dois elementos. O coeﬁciente nos deu a
quantidade de subconjuntos e o expoente de x nos deu a quantidade de elementos em cada
subconjunto. Por isso que utilizar o x0 como não aparece e o x1 como aparece uma vez
é mais interessante. Assim se um elemento pudesse aparecer em um conjunto de 0 a 4
vezes, poderíamos representar essas possibilidades pela expressão x0 + x1 + x2 + x3 + x4,
ou seja, aparece 0, 1, 2, 3 ou 4 vezes o elemento, por outro lado, se aparecesse de 5 a 7
vezes, poderíamos representar por x5 + x6 + x7.

Existem muitas calculadoras online que fazem produtos entre polinômios, você pode
escolher a que achar melhor. Uma muito interessante é a do site Symbolab, cujo endereço
está em [12], pois além de mostrar a resposta, também apresenta o passo-a-passo do que
foi feito. Por outro lado, se o polinômio tiver muitos termos, ela não faz a expansão, nesse
caso use a calculadora online EasyCalculation.com, cujo endereço está em [8]. Para essa
segunda opção você só poderá usar produtos, ela não aceita potenciação, por exemplo,
para expandir (1 + x)3 deverá ser digitado (1 + x)(1 + x)(1 + x).

Agora, resolva com auxílio de uma calculadora online (1 + x)5 e anote sua
expansão. O que você pode nos contar sobre o resultado e sua relação com os

10.1 proposta didática: todas as possibilidades em uma só expressão

60

subconjuntos de um conjunto de 5 elementos? E ao somar os coeﬁcientes da
expansão que valor encontrou? Compare esse valor ao total de subconjuntos
de um conjunto de 5 elementos.

Na sequência, resolva três problemas sobre o que acabamos de discutir.

Problema 1: Uma loja vende bombons. No ﬁnal do dia ainda sobraram 3 de abacaxi,
4 de morango e 2 de coco. Maria que ama bombons chegou na loja para comprá-los, mas
ainda não sabe se vai ou não, e se comprar, ainda não sabe como poderá fazer isso.

a) Ajude Maria a decidir, mostrando um polinômio que apresenta todas as possibilidades
de Maria fazer ou não essa compra.
b) De quantas maneiras Maria poderá comprar 6 bombons? Explique como o resultado
da letra a te ajudou a responder a pergunta da letra b.
c) De quantas maneiras Maria poderá comprar de 3 a 5 bombons?

Problema 2: Laura comprou 2 sacos de feijão, 3 de farinha e 4 de arroz, todos de 1
quilo, e irá montar uma cesta básica de tal forma que tenha pelo menos um saco de feijão,
dois de farinha e três de arroz.

a) O produto (x + x2)(x2 + x3)(x3 + x4) nos geraria o total de possibilidades de Laura
montar a cesta? Em caso aﬁrmativo, explique o motivo.
b) De quantas maneiras Ana poderá montar a cesta com 7 quilos de alimento?

Problema 3: (ENEM 2017-adaptada) Um brinquedo infantil caminhão-cegonha é

formado por uma carreta e dez carrinhos nela transportados, conforme a ﬁgura.

Figura 4: Caminhão-cegonha

No setor de produção da empresa que fabrica esse brinquedo, é feita a pintura de
todos os carrinhos para que o aspecto do brinquedo ﬁque mais atraente. São utilizadas as
cores amarelo, branco, laranja e verde, e cada carrinho é pintado apenas com uma cor. O
caminhão-cegonha tem uma cor ﬁxa. A empresa determinou que em todo caminhão-cegonha
deve haver pelo menos um carrinho de cada uma das quatro cores disponíveis. Mudança
de posição dos carrinhos no caminhão-cegonha não gera um novo modelo do brinquedo.

Com base nessas informações, quantos são os modelos distintos do brinquedo caminhão-

cegonha que essa empresa poderá produzir?

10.2 orientações sobre a proposta didática

61

10.2 orientações sobre a proposta didática

Note que essa atividade é um excelente instrumento introdutório para Triângulo de Pascal
e Binômio de Newton. A propriedade da soma dos elementos de uma linha do Triângulo
de Pascal, que chamamos de Teorema das Linhas no Capítulo 3, por exemplo, pode ser
vista claramente ao comparar a soma dos coeﬁcientes da expansão de (1 + x)5 ao total de
subconjuntos de um conjunto de 5 elementos.

Em relação aos problemas, espera-se que o aluno tenha compreendido como utilizar
os polinômios para se chegar à função geradora da questão mesmo não utilizando essa
expressão.

Problema 1

Ao veriﬁcar as hipóteses para um determinado elemento, espera-se que o aluno faça a
relação com o princípio aditivo da contagem, e portanto, ao dizermos que são 3 bombons
de abacaxi disponíveis, Maria poderá comprar 0, 1, 2 ou 3 bombons desse tipo, ou seja, o
polinômio que controla esse fato será 1 + x + x2 + x3. E assim, por diante, obtendo como
resposta da letra (a) do Problema 1 a expressão:

(1 + x + x2 + x3)(1 + x + x2 + x3 + x4)(1 + x + x2) =
1 + 3x + 6x2 + 9x3 + 11x4 + 11x5 + 9x6 + 6x7 + 3x8 + x9.

Note que foi feito o produto entre os polinômios controladores pois temos três etapas:
ver a quantidade a ser comprada do bombom de abacaxi, depois a do bombom de morango
e depois a do de coco. Quando temos etapas podemos aplicar o princípio multiplicativo da
contagem. Já a intenção da pergunta na letra (b) é veriﬁcar se o aluno consegue interpretar
o signiﬁcado do coeﬁciente de cada parcela da expansão. O resultado pretendido é 9, pois
esse é o coeﬁciente de x6 no polinômio acima, conforme estudamos no Capítulo 2. Também
na letra (c) o aluno precisará dessa informação, mas como podem ser comprados de 3 a
5 bombons, ele terá que somar os coeﬁcientes de x3, x4 e x5, resultando em 31 possibilidades.

Problema 2

O Problema 2 propõe que a cesta básica seja composta por sacos de feijão, farinha
e arroz, de tal forma que tenha pelos menos um do primeiro, dois do segundo e três
do terceiro. Como são ao todo 2, 3 e 4, respectivamente, de cada um, pelo princípio
multiplicativo da contagem obteremos (x + x2)(x2 + x3)(x3 + x4) = x6 + 3x7 + 3x8 + x9,
exatamente o produto que aparece na letra (a), tornado a resposta para essa pergunta
positiva. Já para a pergunta (b), teremos 3 maneiras de montarmos a cesta com 7 quilos de
alimentos pois 3 é o coeﬁciente de x7 na expressão encontrada. Uma sugestão de discussão
após essa atividade é perguntar ao aluno qual é o peso máximo e o peso mínimo da cesta,

10.2 orientações sobre a proposta didática

62

e o que signiﬁcaria a soma de todos os coeﬁcientes no problema. Também poderíamos
discutir se a ordem foi ou não considerada não só para o Problema 2, como para os três
sugeridos. Note que a questão dos subconjuntos é a mais fácil de mostrar para o aluno
que a ordem não está sendo observada, pois o subconjunto {1, 2} = {2, 1} e, portanto, foi
contado uma vez só. Isso pode nos auxiliar para mostrarmos ao aluno que a ordem não
está sendo considerada. “Comprar um bombom de morango, um de abacaxi e um de coco”
é equivalente a “comprar um bombom de abacaxi, um de coco e um de morango”, ambos
querem dizer “comprar um de cada sabor”, não importando a ordem.

Problema 3

E ﬁnalmente teremos o Problema 3, o que impulsionou o presente trabalho. Perceba
que para a proposta didática foi retirada as alternativas da questão para que o aluno
não tente resolvê-lo inicialmente por combinação, queremos que use o que foi proposto.
Possivelmente aparecerão mais de um tipo de polinômio, porém todos eles levarão ao
mesmo resultado. Por exemplo, se um aluno pensar que cada cor tem que ser usada pelo
menos uma vez e que pode pintar de 1 a 10 carrinhos, teremos como polinômio resultante
o produto (x + x2 + x3 + ... + x10)4, cuja expansão está apresentada na Figura 5, após
ser calculado na calculadora online EasyCalculation.com (ver [8]).

Figura 5: Expansão do produto na calculadora EasyCalculation.com

Note que, como são 10 carrinhos ao todo, a resposta será o coeﬁciente de x10 que vale

84.

Por outro lado, se o aluno pensar que dos dez carrinhos, quatro já foram pintados cada
um por uma cor diferente disponível, sobrarão 6 carrinhos para serem pintados de tal forma
que cada cor poderá ser usada de 0 a 6 vezes, e portanto, o novo produto encontrado será
(1 + x + x2 + x3 + x4 + x5 + x6)4. Novamente, usando [8], teremos a seguinte expansão:

10.2 orientações sobre a proposta didática

63

Figura 6: Expansão do novo produto na calculadora EasyCalculation.com

Para essa expansão o que gera o resultado do problema é o coeﬁciente de x6, pois só
estamos considerando os carrinhos que ainda não foram pintados. Mais uma vez nossa
resposta foi 84. Note que durante esse trabalho foram apresentadas 4 maneiras distintas
de se resolver a questão do caminhão-cegonha conforme apresentada no ENEM de 2017.
Para os professores que pretendem trabalhar combinações com repetição, essa proposta
didática também é um excelente ponto de partida, porém, é importante que se apresente
ao aluno na sequência o raciocínio usado no Capítulo 4, mostrando que resolver a questão
do caminhão-cegonha usando (1 + x + x2 + x3 + x4 + x5 + x6)4 é equivalente a resolver
a equação x1 + x2 + x3 + x4 = 6 de soluções inteiras não negativas. Consequentemente,
nesse caso será possível mostrar ao aluno todas as resoluções do Problema 3: os dois
mostrados neste capítulo usando calculadora online, a resolução por equação de soluções
inteiras não negativas e a por combinação com repetição.

Ressaltamos ainda que, caso seja necessário, para que o aluno não ache que todo e
qualquer problema de combinatória possa ser resolvido por meio de uma função geradora or-
dinária, seja trabalhada ainda uma questão em que a ordem dos elementos seja considerada,
como o próprio Exemplo 1.1, que pergunta quantas palavras existiam em uma civilização
antiga, cujo alfabeto tinha apenas três letras e as palavras, de uma a quatro letras. Note
que cada letra pode aparecer na palavra de 0 a 4 vezes, e, usando o raciocínio de função
geradora, teríamos como polinômio controlador de cada letra 1 + x + x2 + x3 + x4, como
são 3 letras, pelo princípio multiplicativo, teríamos a função geradora:

f (x) = (1 + x + x2 + x3 + x4)3 =1 + 3x + 6x2 + 10x3 + 15x4 + 18x5 + 19x6
+ 18x7 + 15x8 + 10x9 + 6x10 + 3x11 + x12.

Como as palavras têm de 1 a 4 letras, somaríamos os coeﬁcientes de x, x2, x3 e x4,
que resultaria em 34 possibilidades, que é muito diferente de 120, a resposta correta.
Isso acontece pois os coeﬁcientes resultantes consideraram todos os anagramas de uma
palavra como uma palavra só, por exemplo, se tivéssemos apenas as letras A, M e E, a
palavra AME seria igual a palavra EMA nessa contagem. Para veriﬁcar a veracidade disso,

10.2 orientações sobre a proposta didática

64

calculemos de quantas maneiras posso escrever uma palavra com três letras podendo ou
não repetir as três letras do alfabeto. Vimos no Capítulo 1, que esse resultado é 33 = 27,
que, novamente, é diferente de 10, coeﬁciente de x3. Agora, se não considerássemos a
ordem das letras, ou seja, se aceitássemos que AAE e EAA são a mesma palavra, aí sim
teríamos as 10 possibilidades, já que temos 3 possibilidades da palavra ser formada pela
mesma letra, 6 possibilidades da palavra ter duas letras iguais e uma diferente, e uma
possibilidade de todas as letras serem diferentes, resultando em 10 possibilidades.

Enﬁm, com a base de funções geradoras bem assimilada, será possível extrair do grupo
de alunos uma rica discussão sobre contar via funções geradoras, mesmo sem se aprofundar
na teoria apresentada neste trabalho, apenas usando sua essência, que é a mesma de toda
a combinatória, os princípios aditivo e multiplicativo da contagem.

11

C O N S I D E R A Ç Õ E S F I N A I S

A presente dissertação, a partir de uma questão do ENEM, buscou ampliar o conhecimento
do professor de Matemática sobre Combinatória Enumerativa, explorando as funções
geradoras, que como vimos, são uma ferramenta importante na resolução de problemas,
principalmente os de contagem em que são permitidas repetições na escolha de objetos.

Mesmo não sendo explicitamente parte do currículo de Matemática na educação básica,
é importante que o professor conheça a fundo este conteúdo para que os recortes trabalhados
em sala de aula sejam de excelência. De acordo com [2], “individualmente ou em conjunto
com os colegas, é ao professor que compete adequar aos seus alunos e ao contexto escolar
as orientações curriculares, diagnosticando problemas, criando soluções, regulando a sua
prática, criando cenários que muitas vezes se afastam das prescrições curriculares”, porém,
sem desconsiderar o currículo, cujo papel de legitimação é imprescindível. Ele deve ser
seguido, porém, não está engessado, “cabe ao professor explorar as suas margens de
autonomia, adequando-o às necessidades e condições dos seus alunos”.

Para tanto, essa dissertação apresentou desde uma visão intuitiva para a função
geradora, quanto uma mais aprofundada no âmbito de conjuntos ponderados e séries
de potências formais, para que o professor possa ampliar seus horizontes em relação aos
conhecimentos de combinatória e, consequentemente, se achar por bem passá-lo a diante,
ter maior embasamento teórico ao levar essa ferramenta nova ao aluno. Para auxiliá-lo
nesse propósito, uma proposta didática foi apresentada partindo do pressuposto que todo
aluno do Ensino Médio um dia já usou a expressão “o quadrado do primeiro mais duas
vezes o primeiro pelo segundo, mais o quadrado do segundo” para resolver algo e, portanto,
está apto a tentar entendê-la em um contexto de combinatória.

Para os professores que pretendem trabalhar combinações com repetição, esta disserta-
ção também apresentou um caminho interessante no Capítulo 4 para fazê-lo, podendo a
proposta didática apresentada ser uma excelente atividade introdutória.

Assim, seja para ampliar o repertório do professor enquanto estudioso de Matemática,
ou para ser trabalhado com o aluno em sala de aula, em um curso preparatório para
olimpíadas ou outros, esperamos que o presente trabalho possa contribuir para a formação
do professor de Matemática que ao lê-lo, passe a entender o que é a ferramenta função
geradora no âmbito da combinatória, quando é possível usá-la e como fazê-lo.

65

R E F E R Ê N C I A S B I B L I O G R Á F I C A S

[1] Brasil. Ministério da Educação. Base nacional comum curricular. Brasília, DF: MEC,
2018. Disponível em: http://basenacionalcomum.mec.gov.br/abase/.Acesso em: se-
tembro de 2019.

[2] A.P. Canavarro, J.P.Ponte. O papel do professor no currículo de Matemática. In GTI,

O professor e o desenvolvimento curricular (pp. 63-89). Lisboa: APM. 2005.

[3] Garbi, G.G., A Rainha das Ciências: um passeio histórico pelo maravilhoso mundo

da matemática, Editora Livraria da Física, 2006.

[4] Loehr, N. A. Bijective Combinatorics, Discrete Mathematics and its applications,

Series Editor Kenneth H. Rosen, 2011.

[5] Medeiros, K. A inﬂuência da calculadora na resolução de problemas matemáticos

abertos. Educação Matemática em Revista, n14, ano 10. p.19-28, 2000.

[6] Meritt. Plataforma Mais Enem. Disponível em: https://maisenem.meritt.com.br/.

Acesso em 11/09/19.

[7] A. C. Morgado e P. C. P. Carvalho, Matemática Discreta, 2a edição, Coleção PROF-

MAT, SBM, 2015.

[8] Polinômios.

Calculadora

de

Multiplicação

de.

Disponível

em:

https://www.easycalculation.com/pt/algebra/polynomial-multiplication.php.
Acesso em 05/11/19.

[9] J. P. O. Santos, M. P. Mello, I. T. C. Murari, Introdução à Análise Combinatória,

Rio de Janeiro: Editora Moderna Ltda., 2007.

[10] São Paulo (Estado). Secretaria da Educação. Currículo do Estado de São
coor-
Paulo: Matemática e suas
coordenação de área, Nilson José Ma-
denação geral, Maria Inês Fini;
chado. – 1. ed. atual. – São Paulo :
SE, 2011.72 p. Disponível em:
https://www.educacao.sp.gov.br/a2sitebox/arquivos/documentos/238.pdf. Acesso em
10/12/19.

tecnologias / Secretaria da Educação;

[11] SuperPro.

Plataforma

de

Banco

de

Questões.

Disponível

em:

https://www.sprweb.com.br/. Acesso em 30/10/19.

[12] Symbolab.

Solucionador

Matemático.

Disponível

https://pt.symbolab.com/solver/polynomial-equation-calculator/.
02/06/20.

Acesso

em:
em

66

