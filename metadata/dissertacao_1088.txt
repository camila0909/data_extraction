UNIVERSIDADE TECNOLÓGICA FEDERAL DO PARANÁ - UTFPR
MESTRADO PROFISSIONAL EM MATEMÁTICA EM REDE NACIONAL
PROFMAT

GUILHERME MIGUEL ROSA

O PROBLEMA DO COLECIONADOR DE CUPONS: QUANTO CUSTA
COMPLETAR O ÁLBUM DE FIGURINHAS DA COPA DO MUNDO?

CURITIBA

2019

GUILHERME MIGUEL ROSA

O PROBLEMA DO COLECIONADOR DE CUPONS: QUANTO CUSTA
COMPLETAR O ÁLBUM DE FIGURINHAS DA COPA DO MUNDO?

Dissertação apresentada ao Mestrado Proﬁssional em
Matemática em Rede Nacional da Universidade Tec-
nológica Federal do Paraná em Curitiba - PROFMAT-
UTCT como requisito parcial para obtenção do grau
de Mestre.
Orientador: Roy Wilhelm Probst

CURITIBA

2019

Dados Internacionais de Catalogação na Publicação   Rosa, Guilherme Miguel O problema do colecionador de cupons [recurso eletrônico] : quanto custa completar o álbum de figurinhas da Copa do Mundo? / Guilherme Miguel Rosa.-- 2019. 1 arquivo texto (30 f.) : PDF; 304 KB.  Principais resultados disponíveis em https://youtu.be/EvO4nJ9LyjY  Modo de acesso: World Wide Web Título extraído da tela de título (visualizado em 23 ago. 2019) Texto em português com resumo em inglês Dissertação (Mestrado) - Universidade Tecnológica Federal do Pa-raná. Programa de Mestrado Profissional em Matemática em Rede Naci-onal, Curitiba, 2019  Bibliografia: f. 29-30  1. Matemática - Dissertações. 2. Copas do mundo (Futebol). 3. Copa do mundo (21 : 2018 : Rússia). 4. Figurinhas - Custos. 5. Álbuns de figuri-nhas - Colecionadores e coleções - Custos. 6. Figurinhas - Colecionado-res e coleções - Custos. 7. Probabilidade (Matemática). 8. Variáveis alea-tórias. I. Probst, Roy Wilhelm. II. Universidade Tecnológica Federal do Paraná. Programa de Mestrado Profissional em Matemática em Rede Nacional. III. Título.   CDD: ed. 23 -- 510 Biblioteca Central da UTFPR, Câmpus Curitiba Bibliotecário: Adriano Lopes CRB-9/1429 Ministério da EducaçãoUniversidade Tecnológica Federal do ParanáDiretoria de Pesquisa e Pós-GraduaçãoTERMO DE APROVAÇÃO DE DISSERTAÇÃO Nº 69A Dissertação de Mestrado intitulada O Problema do Colecionador de Cupons: quanto custacompletar o álbum de figurinhas da Copa do Mundo?, defendida em sessão pública pelocandidato Guilherme Miguel Rosa, no dia 16 de agosto de 2019, foi julgada para a obtenção dotítulo de Mestre em Matemática, área de concentração Matemática Aplicada, e aprovada em suaforma final, pelo Programa de Pós-Graduação em Matemática em Rede Nacional.BANCA EXAMINADORA:Prof. Dr. Roy Wilhelm Probst - Presidente - UTFPRProf. Dr. Rafael Santos de Oliveira Alves - UFABCProf. Dr. Ronie Peterson Dario - UTFPRA via original deste documento encontra-se arquivada na Secretaria do Programa, contendo aassinatura da Coordenação após a entrega da versão corrigida do trabalho.Curitiba, 16 de agosto de 2019.Carimbo e Assinatura do(a) Coordenador(a) do ProgramaAGRADECIMENTOS

Aos meus pais Lidio Rosa e Maria Alves Rosa por todo o apoio fornecido ao longo dessa

jornada.

A todos os meus alunos virtuais espalhados pelo Brasil inteiro, que direta ou indireta-

mente continuam possibilitando meu trabalho com vídeo aulas na internet.

Em especial ao meu orientador Roy Wilhelm Probst por todas as sugestões e contribuições

fundamentais para a conclusão dessa dissertação.

RESUMO

ROSA, Guilherme Miguel. O Problema do Colecionador de Cupons: quanto custa completar
o álbum de ﬁgurinhas da Copa do Mundo? 30 f. Dissertação - Programa de Mestrado Proﬁssional
em Matemática em Rede Nacional - PROFMAT, Universidade Tecnológica Federal do Paraná.
Curitiba, 2019.

Este trabalho apresenta um estudo sobre o Problema do Colecionador de Cupons aplicado ao
desaﬁo de colecionar as ﬁgurinhas do álbum oﬁcial da Copa do Mundo de futebol de 2018. O
custo médio para completar um álbum é determinado considerando diferentes cenários, como
a colaboração entre colecionadores. As soluções obtidas são validadas através de resultados
numéricos que simulam o processo de coleção das ﬁgurinhas.

Palavras-chave: Probabilidade. Valor esperado. Problema do Colecionador de Cupons.

ABSTRACT

ROSA, Guilherme Miguel. The Coupon Collector’s Problem: how much does it cost to com-
plete the World Cup stickers album? 30 pg. Dissertation - Programa de Mestrado Proﬁssional
em Matemática em Rede Nacional - PROFMAT, Universidade Tecnológica Federal do Paraná.
Curitiba, 2019.

This work presents a study on the Coupon Collector’s Problem applied to the challenge of col-
lecting the soccer stickers of the ofﬁcial World Cup album of 2018. The average cost to complete
an album is determined by considering different scenarios such as collector collaboration. The
obtained solutions are validated through numerical results that simulate the collection process of
the stickers.

Keywords: Probability. Expected value. Coupon Collector’s Problem.

SUMÁRIO

INTRODUÇÃO .

.

. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

8

O PROBLEMA DO COLECIONADOR DE CUPONS . . . . . . . . . .

Características do modelo . . . . . . . . . . . . . . . . . . . . . . . . . . .
Completando um álbum . . . . . . . . . . . . . . . . . . . . . . . . . . . .
Completando mais de um álbum . . . . . . . . . . . . . . . . . . . . . . . .
Completando m álbuns de n ﬁgurinhas . . . . . . . . . . . . . . . . . . . .

RESULTADOS NUMÉRICOS . . . . . . . . . . . . . . . . . . . . . . .

Valor esperado sem trocas . . . . . . . . . . . . . . . . . . . . . . . . . . .
Valor esperado com trocas . . . . . . . . . . . . . . . . . . . . . . . . . . .
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
Simulações .

.

.

.

.

10

10
12
13
16

21

21
22
25

CONCLUSÃO .

.

. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

28

REFERÊNCIAS .

. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

29

1

1.1
1.2
1.3
1.4

2

2.1
2.2
2.3

3

INTRODUÇÃO

8

A cada quatro anos acontece a Copa de Mundo de futebol e com ela retorna uma prática
muito popular entre os apaixonados pelo esporte. Trata-se da coleção de ﬁgurinhas do álbum
oﬁcial do mundial, cujo desaﬁo consiste em conseguir todas as ﬁgurinhas do álbum comprando
pacotes com ﬁgurinhas aleatórias. Como são adquiridas aleatoriamente, é natural que conforme
a coleção avança apareçam ﬁgurinhas repetidas, isto é, ﬁgurinhas já obtidas pelo colecionador
anteriormente. Com isso é preciso seguir comprando até conseguir todas as ﬁgurinhas necessárias.
É nesse momento que surge uma questão incluindo a matemática na brincadeira e tornando-a
ainda mais interessante: quantas ﬁgurinhas é necessário comprar em média para conseguir pelo
menos uma de cada e completar uma coleção?

Esse é um problema que já foi estudado na área da teoria das probabilidades e ﬁcou
conhecido na literatura matemática como O Problema do Colecionador de Cupons. Sua descrição
é simples: considere uma pessoa que coleciona objetos (cupons) e suponha que existe um número
ﬁnito de objetos (cupons) diferentes para serem colecionados. Adquirindo-se aleatoriamente um
por vez, quantas aquisições são necessárias em média para completar uma coleção?

O problema tem uma longa história, que de acordo com (FERRANTE; SALTALAMAC-
CHIA, 2014) iniciou em 1708 com De Moivre na obra De Mensura Sortis e teve contribuições
de Laplace e Euler. Desde o surgimento até não muito distante, diversas variações e abordagens
distintas foram exploradas. Considerando que todos os elementos são igualmente prováveis,
Newman e Shepp desenvolveram o modelo que generaliza o problema para o caso envolvendo as
trocas entre colecionadores, determinando a quantidade esperada de aquisições quando deseja-se
m cópias de cada elemento da coleção (NEWMAN; SHEPP, 1960). Em (KOBZA; JACOBSON;
VAUGHAN, 2007) os autores discutem o problema com a suposição de que em cada aquisição
obtém-se uma quantidade aleatória de elementos igualmente prováveis. Quando os objetos da
coleção não são todos igualmente prováveis, ou seja, quando alguns são mais difíceis de conse-
guir, tem-se os trabalhos de (SCHELLING, 1954), (FLAJOLET; GARDY; THIMONIER, 1992)
e (PAPANICOLAOU; KOKOLAKIS; BONEH, 1998). Nesse penúltimo inclusive, considera-se
também a coleção de um subconjunto de objetos. Supondo agora que os elementos chegam
aleatoriamente em grupos de tamanho constante não havendo repetições em um mesmo grupo,
tem-se os trabalhos de (STADJE, 1990) e (FERRANTE; SALTALAMACCHIA, 2014). Outra
adaptação do problema está presente em (MAY, 2008) e (SHANK; YANG, 2013): ela considera
a situação em que deseja-se colecionar uma quantidade especíﬁca de cada objeto, denominada
cota, com as probabilidades de ocorrência não necessariamente iguais e as quantidades de cada
objeto não necessariamente constantes.

Em português, foi publicado um artigo na Revista do Professor de Matemática (RPM)
falando sobre a quantidade esperada de ﬁgurinhas compradas para completar um certo álbum

9

sem trocas e com probabilidades iguais (CARVALHO, 2010). Outro trabalho mais recente em
português analisa a relação entre as ﬁgurinhas faltantes de cada álbum com simulações em
quatro modelos (BASSANEZI, 2018). No primeiro, deseja-se completar três álbuns respeitando
uma hierarquia de álbuns na colagem das ﬁgurinhas, que possuem a mesma probabilidade de
ocorrência. O segundo modelo considera a troca de ﬁgurinhas repetidas entre dois colecionadores.
No terceiro considera-se dois tipos de ﬁgurinhas com probabilidades diferentes de ocorrência,
onde deseja-se completar um álbum. E no último modelo o objetivo é encontrar a menor
quantidade de ﬁgurinhas necessárias para completar três álbuns, trocando duas repetidas por uma
não colecionada. Ao ﬁnal, simula o custo para completar o álbum da última Copa do Mundo.

O clássico Problema do Colecionador de Cupons despertou interesse com a motivação
de muitas aplicações possíveis em diversas áreas da ciência. Algumas aplicações representativas
estão na biologia (POON; DAVIS; CHAO, 2005), linguística (RAFFERTY; GRIFFITHS; KLEIN,
2009), ciência da computação (O’CONNOR, 2008) e criptograﬁa (SASAKI et al., 2013). Muitas
aplicações aparecem em publicações recentes, reforçando a relevância do problema.

Nesta dissertação será estudado o Problema do Colecionador de Cupons em sua versão
mais simples, que é o caso de elementos equiprováveis chegando um por vez. O objetivo geral é
determinar o custo médio para completar o álbum de ﬁgurinhas oﬁcial da última Copa do Mundo,
realizada em 2018 na Rússia. Os objetivos especíﬁcos são:

• Modelar e resolver o Problema do Colecionador de Cupons.

• Generalizar o problema para o caso envolvendo as trocas de ﬁgurinhas repetidas.

• Implementar a solução geral para obter o número esperado de ﬁgurinhas por colecionador.

• Realizar simulações observando a quantidade de ﬁgurinhas necessárias por colecionador,

para validar os resultados teóricos.

O texto está organizado em dois capítulos. No Capítulo 1 será modelado e resolvido
o Problema do Colecionador de Cupons, tanto na sua versão clássica como na generalização
envolvendo as trocas de ﬁgurinhas. Em ambos os casos é necessário o auxílio de recursos
computacionais para a obtenção dos resultados numéricos, é o que será realizado no Capítulo 2
com a implementação das fórmulas. Ainda no segundo capítulo, são implementados algoritmos
que simulam o processo de coleção das ﬁgurinhas para comparar com os resultados teóricos.

1 O PROBLEMA DO COLECIONADOR DE CUPONS

10

O objetivo desse capítulo é encontrar uma maneira de calcular quantas ﬁgurinhas é
necessário comprar em média para completar o álbum oﬁcial da Copa do Mundo de 2018.
Inicialmente, a primeira seção apresenta alguns conceitos necessários e, na segunda seção,
a solução para o Problema do Colecionador de Cupons será construída. Posteriormente, o
problema de interesse na versão que não envolve a troca de ﬁgurinhas repetidas é resolvido
simplesmente como um caso particular da solução geral. Porém, completar uma coleção sem
trocar os elementos repetidos certamente não é a estratégia mais interessante, ainda mais uma
coleção grande como as ﬁgurinhas do álbum da Copa do Mundo. Assim, o capítulo apresenta
também um estudo acerca da relação cooperativa entre dois ou mais colecionadores, o que
torna o Problema do Colecionador de Cupons mais próximo da realidade e mais interessante no
aspecto matemático também. Nesse contexto, é preciso determinar quantos elementos espera-se
adquirir para completar m coleções de n elementos. A resposta para esse problema já foi dada
por Newman e Shepp (NEWMAN; SHEPP, 1960), as últimas seções desse capítulo baseiam-se
nesses resultados, trazendo uma releitura de todos eles.

1.1 CARACTERÍSTICAS DO MODELO

No Problema do Colecionador de Cupons existe um experimento aleatório com caracte-
rísticas especíﬁcas. Cada aquisição aleatória de um novo elemento para a coleção apresenta dois
resultados possíveis, denominados de sucesso ou fracasso. O sucesso é quando o colecionador
consegue um elemento inédito na coleção, e o fracasso é ele obter um dos já colecionados.
Quando ocorre fracasso, a coleção não avança, ou seja, o colecionador precisa repetir o expe-
rimento até alcançar sucesso. Resumindo, tem-se um experimento aleatório com as seguintes
características:

• Resulta sucesso ou fracasso.

• Será repetido até ocorrer o primeiro sucesso.

• Todas as tentativas são independentes.

• A probabilidade de sucesso é constante em cada tentativa.

Essas características descrevem uma distribuição geométrica de probabilidades. Como
o experimento será repetido até que haja o primeiro sucesso, é interessante saber o número de
tentativas necessárias para isso. O número exato de tentativas não existe, mas uma média sim,
ela é conhecida como valor médio ou valor esperado. Uma deﬁnição de valor esperado é dada a
seguir (CARVALHO, 2010).

11

Deﬁnição 1.1. Suponha que um determinado resultado aleatório pode assumir os valores x1,
x2, x3, · · · , com probabilidades p1, p2, p3, · · · . Deﬁne-se seu valor médio (ou esperado) como:

E = p1 · x1 + p2 · x2 + p3 · x3 + · · · .

Essa deﬁnição considera a possibilidade de ter-se uma inﬁnidade de resultados possíveis.
A soma é uma média ponderada dos valores de x sendo as respectivas probabilidades os pesos.
Porém, a soma das probabilidades resulta um, assim o denominador da média não aparece.

Comparando a deﬁnição com o experimento caracterizado anteriormente, a probabilidade
pi é a probabilidade do primeiro sucesso ocorrer na tentativa de número i, i = 1, 2, 3, · · · . Basta
determinar quais são as probabilidades p1, p2, p3, · · · , e por meio da deﬁnição obter a quantidade
de tentativas necessárias, em média, até haver o primeiro sucesso.

Sendo p a probabilidade do sucesso, com 0 < p < 1, a probabilidade do fracasso será
(1−p). Com isso, a probabilidade do primeiro sucesso ocorrer na n-ésima tentativa é (1−p)n−1p,
pois certamente houve fracasso em (n − 1) tentativas e sucesso em uma, a última. Portanto, pela
deﬁnição vista anteriormente, o número médio ou esperado de tentativas até o primeiro sucesso
é dado por:

E = p + 2 · (1 − p)1p + 3 · (1 − p)2p + · · · .

Para efetuar a soma e determinar o valor esperado E, uma possibilidade é reagrupar os
termos escrevendo todos com coeﬁciente igual a 1, dispondo em linhas e colunas da seguinte
maneira:

E = p + (1 − p)1p + (1 − p)2p + (1 − p)3p + · · ·

+(1 − p)1p + (1 − p)2p + (1 − p)3p + · · ·

+(1 − p)2p + (1 − p)3p + · · ·

+(1 − p)3p + · · · .

Pode-se mostrar que a série é absolutamente convergente utilizando o teste da razão
(STEWART, 2013), portanto é possível reagrupar os termos desta forma. Na primeira coluna,
coloca-se os termos p, como só existe um ele aparece somente na primeira linha. Na segunda
coluna estão os termos (1 − p)1p, que aparecem nas duas primeiras linhas já que o coeﬁciente
desse termo é 2. Na sequência, o termo (1 − p)2p está nas três primeiras linhas já que seu
coeﬁciente é 3, e assim segue sucessivamente. Olhando para as linhas, na primeira todos os
termos de E aparecem uma vez. Na próxima, não há o termo p, em seguida, não há também o
termo (1 − p)1p, e assim por diante. Em cada linha, basta remover o primeiro termo para obter a
seguinte.

Note que em todas as linhas surge uma soma de inﬁnitos termos em progressão geomé-
trica de razão (1 − p). As somas resultam um número real pois 0 < (1 − p) < 1. Realizando as

12

somas das primeiras linhas, os resultados são:

p
1 − (1 − p)

,

(1 − p)p
1 − (1 − p)

,

(1 − p)2p
1 − (1 − p)

, · · · .

Esses números também estão em progressão geométrica, ou seja, somando todas as
linhas o resultado é uma nova soma de inﬁnitos termos em progressão geométrica, agora com o
primeiro termo igual a 1 e a razão novamente igual a (1 − p). Portanto:

E =

p
1 − (1 − p)

+

(1 − p)p
1 − (1 − p)

+

(1 − p)2p
1 − (1 − p)

+ · · ·

= 1 + (1 − p) + (1 − p)2 + · · ·

=

=

1
1 − (1 − p)
1
p

.

Conclui-se que em uma distribuição geométrica, o valor esperado correspondente ao
número médio de tentativas até conseguir o primeiro sucesso é o inverso da probabilidade do
sucesso.

Exemplo 1.2. Uma urna contém dez bolas numeradas de 1 a 10 e uma bola será retirada da urna
ao acaso, com reposição. Quantas retiradas são esperadas até que se consiga uma bola de número
múltiplo de 4?

A probabilidade do sucesso em cada retirada é 2/10, pois tanto a bola 4 como a 8 servem,

logo, são necessárias em média 10/2 = 5 retiradas.

(cid:3)

1.2 COMPLETANDO UM ÁLBUM

Completar uma coleção ﬁnita de n objetos sem trocar os adquiridos repetidamente
consiste no clássico Problema do Colecionador de Cupons. Sua solução, que corresponde ao
número de unidades que precisam ser adquiridas em média para concluir o desaﬁo, é

n ·

n
X

i=1

1
i

.

Para chegar na solução, basta observar a probabilidade de se obter um elemento ainda não
colecionado em cada etapa da coleção, tomar o inverso das probabilidades e realizar o somatório.
Seja k o número de elementos já obtidos entre os n totais da coleção, a probabilidade de se obter
um elemento ainda não colecionado na próxima aquisição é

n − k
n

.

13

Adquirido um novo elemento, ele pode ser o (k + 1)-ésimo inédito, o que representa o
sucesso do experimento, mas também pode ser um mesmo elemento dentre os k já colecionados.
Nesse caso, o colecionador repetirá o experimento, ou seja, terá que adquirir mais um elemento
e seguir assim até alcançar o sucesso. Signiﬁca que o número médio de tentativas até obter o
(k + 1)-ésimo elemento da coleção é

n
n − k

.

Por exemplo, para k = 0, é necessário somente uma tentativa para ganhar o primeiro
elemento da coleção, o que faz sentido visto que qualquer um será inédito. Vale observar que o
último valor assumido por k é n − 1, já que o próximo elemento inédito adquirido completa a
coleção. Fazendo k = 0, 1, 2, ..., n − 1, tem-se a sequência

n
n

,

n
n − 1

,

n
n − 2

, ...,

n
n − (n − 1)

.

A soma da sequência acima corresponde ao número médio ou esperado de unidades
adquiridas para se conseguir todos os n que completam a coleção. Seja E tal soma, ela é dada
por:

E =

Assim:

n
n

+

n
n − 1

+

n
n − 2

+ ... +

n
n − (n − 1)

.

E =

n−1
X

i=0

n
n − i

.

(1.1)

Uma maneira mais compacta de escrever a soma é percebendo que os denominadores

são naturais de 1 até n, logo:

E =

n
X

i=1

n
i

.

(1.2)

Porém, a forma usada em (1.1) é mais interessante para observar o número médio de
elementos a serem adquiridos até colecionar um certo número deles, ou ainda, para saber a
quantidade a ser adquirida para conseguir apenas os últimos da coleção por exemplo.

1.3 COMPLETANDO MAIS DE UM ÁLBUM

Deseja-se completar m coleções iguais de n elementos. Cada coleção pode ser interpre-
tada como um álbum cujos elementos são as ﬁgurinhas que o compõem. Seja pi a probabilidade
de não completar m álbuns após adquirir i ﬁgurinhas e Em(n) a quantidade esperada de ﬁgurinhas
compradas para completar os m álbuns de n ﬁgurinhas. Logo:

Lema 1.3.

Em(n) =

∞
X

i=0

pi.

14

Demonstração. A demonstração para o lema baseia-se em (FELLER, 1950). Pela Deﬁnição
(1.1) tem-se:

∞
X

E =

j · pj.

Fazendo pk+1 + pk+2 + · · · = qk, k ≥ 0, o valor esperado E será igual a

j=1

∞
X

k=0

qk.

Isso é facilmente veriﬁcado, pois q0 = p1+p2+p3+· · · , q1 = p2+p3+· · · , q2 = p3+· · · ,

e assim por diante. Logo

q0 + q1 + q2 + · · · = p1 + 2p2 + 3p3 + · · · .

Considerando uma distribuição geométrica de probabilidades com probabilidade p de
sucesso, já foi mostrado que o valor esperado é 1/p usando a probabilidade do sucesso para tal.
Para provar o lema basta mostrar que

∞
X

k=0

qk =

1
p

,

onde qk é a probabilidade de fracasso em cada tentativa. De fato, basta observar na igualdade
qk = pk+1 + pk+2 + · · · que qk é a probabilidade de fracasso na k-ésima tentativa. Para haver
fracasso na k-ésima tentativa, pode ocorrer sucesso na tentativa k + 1, ou k + 2, ou k + 3 e assim
por diante.

Dessa maneira, qk = (1 − p)k, já que todas as k primeiras tentativas devem fracassar, e

com isso

E =

∞
X

k=0

∞
X

qk =

(1 − p)k =

k=0

1
p

.

(cid:3)

Exemplo 1.4. Quantas vezes espera-se lançar uma moeda até obter uma coroa?

A probabilidade de obter coroa em cada lançamento é 1/2. Portanto, espera-se que sejam

necessários 2 lançamentos. Pelo Lema (1.3):

E =

(cid:19)n

∞
X

n=0

(cid:18) 1
2

= 2.

(cid:3)

A quantidade de maneiras diferentes de se adquirir i ﬁgurinhas, uma por vez, é ni, pois
existem n possibilidades em cada retirada. De todas as possibilidades, Ni representa o número
de maneiras nas quais não se completam os m álbuns desejados. Assim:

pi =

Ni
ni .

15

Exemplo 1.5. Seja n = 2 (2 ﬁgurinhas, representadas por a e b) e m = 2 (2 álbuns).

Para i = 2, tem-se N2 = 4, pois as possibilidades aa, ab, ba, bb não completam os dois
álbuns. Esses são exatamente os termos que surgem no desenvolvimento de (a + b)2. Para N4
por exemplo, basta analisar (a + b)4:

(a + b)4 = a4 + 4a3b + 6a2b2 + 4ab3 + b4.

O termo 6a2b2 indica 6 maneiras de comprar duas ﬁgurinhas a e duas ﬁgurinhas b, o que
completa os dois álbuns, eis as possibilidades: aabb, bbaa, abab, baba, abba, baab. Conclui-se que
N4 = 10, pois só contam as possibilidades que não completam os dois álbuns.

De modo geral, Ni é a soma dos coeﬁcientes de (a + b)i desconsiderando os termos onde

ambos os expoentes são maiores ou iguais a 2. Assim:

i
0
1
2
3
4
5
6
7
8
...
k

(a + b)i
1
a + b
a2 + 2ab + b2
a3 + 3a2b + 3ab2 + b3
a4 + 4a3b + 6a2b2 + 4ab3 + b4
a5 + 5a4b + 10a3b2 + 10a2b3 + 5ab4 + b5
a6 + 6a5b + 15a4b2 + 20a3b3 + 15a2b4 + 6ab5 + b6
a7 + 7a6b + · · · + 7ab6 + b7
a8 + 8a7b + · · · + 8ab7 + b8
...
ak + kak−1b + · · · + kabk−1 + bk

Ni
1
2
4
8
10
12
14
16
18
...
2k + 2

Tabela 1 – Desenvolvimento (a + b)i

Logo, pode-se determinar a quantidade esperada de ﬁgurinhas compradas para completar

2 álbuns com 2 ﬁgurinhas. Pelo Lema (1.3):

12
25 +

14
26 + · · ·

E2(2) =

1
20 +

4
2
22 +
21 +
= 1 + 1 + 1 + 1 +

8
23 +

∞
X

10
24 +
2k + 2
2k

k=4

= 4 + 1,5

= 5,5.

O somatório foi calculado utilizando o software WolframAlpha (WOLFRAM, 2009).

Mais detalhes sobre o cálculo de somatórios com essa ferramenta serão dados no Capítulo 2.

(cid:3)

16

1.4 COMPLETANDO m ÁLBUNS DE n FIGURINHAS

Generalizando para m álbuns de n ﬁgurinhas, representadas por (x1, x2, · · · , xn), Ni é a
soma dos coeﬁcientes do desenvolvimento de (x1 + x2 + · · · + xn)i após removidos os termos
com todos os expoentes ≥ m. Alternativamente, Ni é (x1 + x2 + · · · + xn)i expandido e avaliado
em x1 = · · · = xn = 1 depois que os termos com todos os expoentes ≥ m são removidos.

Deﬁnição 1.6. Para m ﬁxo, se P (x1, x2, · · · , xn) é um polinômio ou série de potências, então
{P (x1, x2, · · · , xn)} é o polinômio ou série de potências resultante quando os termos com todos
os expoentes ≥ m são removidos.

Em termos dessa deﬁnição:

pi =

{(x1 + x2 + · · · + xn)i}
ni

,

avaliado em x1 = · · · = xn = 1.

Agora faz-se necessário a utilização da série de Maclaurin da função exponencial:

et =

∞
X

k=0

tk
k!

= 1 + t +

t2
2!

+

t3
3!

+ · · · .

Deﬁnição 1.7.

Sm(t) = X

k<m

tk
k!

= 1 + t +

t2
2!

+ · · · +

tm−1
(m − 1)!

.

De acordo com a deﬁnição acima, Sm(t) é obtida removendo os termos da série et que

apresentam expoente ≥ m, ou seja, é um truncamento da série da função exponencial.

Deﬁnição 1.8. F = ex1+···+xn − (ex1 − Sm(x1))(ex2 − Sm(x2)) · · · (exn − Sm(xn)).

Para explorar a expressão F , o exemplo a seguir traz o caso m = n = 2.

Exemplo 1.9. Considere n = 2 (por exemplo, a e b) e m = 2 (ou seja S2(t) = 1 + t).

Pela Deﬁnição (1.8):

F = ea+b − [ea − (1 + a)][eb − (1 + b)].

Mas note que:

{ea+b} = {eaeb} =

1 + a +

( 

a2
2!

!  

+ · · ·

1 + b +

!)

b2
2!

+ · · ·

= (1 + a)

1 + b +

b2
2!

!

+ · · ·

+ (1 + b)

 a2
2!

+

a3
3!

!

+ · · ·

= S2(a)eb + S2(b)(ea − S2(a))
= eaeb − eaeb + S2(a)eb + S2(b)(ea − S2(a))
= ea+b − eb(ea − S2(a)) + S2(b)(ea − S2(a))
= ea+b − (ea − S2(a))(eb − S2(b))

= F.

Logo, F = {ea+b}.

17

(cid:3)

Exemplo 1.10. Suponha n = 2 (a e b) e m qualquer.

Pela Deﬁnição (1.8):

"

F = ea+b −

ea −

1 + a +

a2
2!

+ · · · +

am−1
(m − 1)!

!# "

eb −

1 + b +

b2
2!

+ · · · +

bm−1
(m − 1)!

!#

.

Mas note que:

{ea+b} = {eaeb} =

1 + a +

( 

a2
2!

!  

+ · · ·

1 + b +

!)

b2
2!

+ · · ·

=

1 + a + · · · +

+

1 + b + · · · +

!

am−1
(m − 1)!
bm−1
(m − 1)!

(1 + b + · · · )

!  am
m!

+

am+1
(m + 1)!

!

+ · · ·

= Sm(a)eb + Sm(b)(ea − Sm(a))
= eaeb − eaeb + Sm(a)eb + Sm(b)(ea − Sm(a))
= ea+b − eb(ea − Sm(a)) + Sm(b)(ea − Sm(a))
= ea+b − (ea − Sm(a))(eb − Sm(b))

= F.

Logo, F = {ea+b}.

O próximo resultado generaliza os exemplos anteriores para n e m qualquer:

(cid:3)

 
 
 
 
 
18

Lema 1.11. F = {ex1+···+xn} = ex1+···+xn − (ex1 − Sm(x1)) · · · (exn − Sm(xn)).

Demonstração. A demonstração se faz por indução sobre n. Para n = 1:

ex1 − (ex1 − Sm(x1)) = Sm(x1)

= 1 + x1 + · · · +

xm−1
1
(m − 1)!

= {ex1}.

Agora, pela hipótese de indução, suponha válido para n = k, ou seja:

{ex1+···+xk} = ex1+···+xk − (ex1 − Sm(x1)) · · · (exk − Sm(xk)).

Para n = k + 1:

{ex1+···+xk+xk+1} = ex1+···+xk+1 − (ex1 − Sm(x1)) · · · (exk+1 − Sm(xk+1)).

Pela hipótese de indução, ex1+···+xk − (ex1 − Sm(x1)) · · · (exk − Sm(xk)) não tem termos
com todos os expoentes ≥ m. Basta analisar como podem ser gerados todos os termos de
{ex1+···+xk+xk+1} por meio de {ex1+···+xk}. Inicialmente, pode-se multiplicar exk+1 por todos os
termos de {ex1+···+xk}, já que nenhum deles apresenta todos os expoentes ≥ m. Além disso,
a diferença ex1+···+xk − {ex1+···+xk} (que gera apenas os termos de ex1+···+xk com todos os
expoentes ≥ m) pode ser multiplicada por Sm(xk+1) pois esse traz os termos de exk+1 com
expoentes < m. Logo:

{ex1+···+xk+xk+1}
= exk+1{ex1+···+xk} + Sm(xk+1)[ex1+···+xk − {ex1+···+xk}]
= exk+1{ex1+···+xk} + Sm(xk+1)ex1+···+xk − Sm(xk+1){ex1+···+xk}
= {ex1+···+xk}[exk+1 − Sm(xk+1)] + Sm(xk+1)ex1+···+xk
= [ex1+···+xk − (ex1 − Sm(x1)) · · · (exk − Sm(xk))][exk+1 − Sm(xk+1)] + Sm(xk+1)ex1+···+xk
= ex1+···+xk+xk+1 − exk+1(ex1 − Sm(x1)) · · · (exk − Sm(xk)) − Sm(xk+1)ex1+···+xk

+ Sm(xk+1)(ex1 − Sm(x1)) · · · (exk − Sm(xk)) + Sm(xk+1)ex1+···+xk

= ex1+···+xk+xk+1 − exk+1(ex1 − Sm(x1)) · · · (exk − Sm(xk))

+ Sm(xk+1)(ex1 − Sm(x1)) · · · (exk − Sm(xk))

= ex1+···+xk+xk+1 − (ex1 − Sm(x1)) · · · (exk − Sm(xk))[exk+1 − Sm(xk+1)].

(cid:3)

Voltando ao problema de achar a quantidade esperada de ﬁgurinhas para completar m

álbuns de n ﬁgurinhas, pelo Lema (1.3):

Em(n) =

∞
X

i=0

pi =

∞
X

i=0

{(x1 + x2 + · · · + xn)i}
ni

,

19

avaliado em x1 = x2 = · · · = xn = 1.

Por outro lado, pelo Lema (1.11) e da série de Maclaurin da função exponencial:

F =

∞
X

i=0

{(x1 + x2 + · · · + xn)i}
i!

.

Para usar F no cálculo de Em(n) é preciso trocar 1/i! por 1/ni, e isso é obtido com a

identidade a seguir.

Lema 1.12.

n

Z ∞

0

ti
i!

e−ntdt =

1
ni , i = 0, 1, 2, . . . .

Demonstração. Para demonstrar o lema, utiliza-se a indução. Para i = 0:
t0
0!

e−ntdt = n lim
T →∞

e−ntdt

Z ∞

Z T

n

0

T

0
e−nt
−n

(cid:12)
(cid:12)
(cid:12)
(cid:12)
0
[−e−nT + e0]

= n lim

= lim
T →∞

Supondo válido para i = k:

= 1
1
n0 .

=

n

Z ∞

0

tk
k!

e−ntdt =

1
nk ,

será mostrado que continua válido para i = k + 1:

n

Z ∞

0

tk+1
(k + 1)!

e−ntdt =

1
nk+1 .

Integrando por partes,

Z

u dv = uv −

Z

v du, onde:

u =

tk+1
(k + 1)!

, du =

tk
k!

dt, v =

e−nt
−n

e dv = e−ntdt,

tem-se:

n

Z ∞

0

tk+1
(k + 1)!

e−ntdt = n lim
T →∞
"

e−ntdt

Z T

0

tk+1
(k + 1)!
tk+1
(k + 1)!

·

e−ntdt

e−nt
−n

(cid:12)
(cid:12)
(cid:12)
(cid:12)

T

0

− lim
T →∞

Z T

0

tu
u!

·

e−nt
−n

#
dt

lim
T →∞
tk
k!

0

= n

=

=

=

Z ∞

n
n
1
1
nk
n
1
nk+1 .

·

20

(cid:3)

Finalmente, agora é possível demonstrar o principal resultado desse capítulo.

Teorema 1.13. Em(n) = n

Z ∞

0

1 − [1 − e−tSm(t)]ndt.

Demonstração. Pelos Lemas (1.12) e (1.11):

∞
X

i=0

{(x1 + · · · + xn)i}
ni

=

∞
X

i=0

Z ∞

"
{(x1 + · · · + xn)i}n

ti
i!
" {(x1 + · · · + xn)i}ti
i!

Z ∞

∞
X

0

#
e−ntdt

#

e−ntdt

= n

= n

0
Z ∞

0

i=0
[et(x1+···+xn) − [etx1 − Sm(tx1)] · · · [etxn − Sm(txn)]]e−ntdt.

Avaliando em x1 = x2 = · · · = xn = 1, tem-se:

Em(n) = n

= n

= n

Z ∞

0
Z ∞

0
Z ∞

0

[ent − (et − Sm(t)) · · · (et − Sm(t))]e−ntdt

[1 − (et − Sm(t))n(e−t)n]dt

1 − [1 − e−tSm(t)]ndt.

(cid:3)

Essa é a solução para o problema do Colecionador de Cupons com trocas: a quantidade

esperada de ﬁgurinhas compradas para completar m álbuns de n ﬁgurinhas é dada por

Em(n) = n





Z ∞

0

1 −







1 −







1 + t +

t2
2!

+ · · · +

tm−1
(m − 1)!

et



n













dt.

A integral presente no teorema necessita de métodos computacionais para sua resolução,

assunto que será abordado no Capítulo 2.

2 RESULTADOS NUMÉRICOS

21

Nesse capítulo, a partir das soluções encontradas no Capítulo 1 e com o auxílio de
recursos computacionais, serão obtidos diversos resultados numéricos acerca da coleção de
ﬁgurinhas do álbum oﬁcial da Copa do Mundo de 2018.

2.1 VALOR ESPERADO SEM TROCAS

Conforme abordado no primeiro capítulo, a quantidade esperada de unidades a serem

adquiridas aleatoriamente até completar uma coleção de n elementos é dada por:

E =

n−1
X

i=0

n
n − i

.

Onde a mesma expressão pode ser escrita como:

E =

n
X

i=1

n
i

.

(2.1)

(2.2)

No álbum oﬁcial da Copa do Mundo de 2018, do grupo Panini, existem 682 ﬁgurinhas a
serem colecionadas. Dessa forma, a quantidade média ou esperada de ﬁgurinhas compradas para
completar o álbum sem trocas é dada por:

E =

682
X

i=1

682
i

≈ 4844.

Para resolver esse somatório, assim como os demais a seguir, foi utilizado o software
WolframAlpha (WOLFRAM, 2009). Para calcular somatórios nesse ambiente o comando tem
o formato sum f (x), x = a to b, onde f (x) é a expressão em x a qual deseja-se somar para
x = a até x = b. Nesse caso especíﬁco, o comando utilizado foi

sum 682/i, i = 1 to 682.

Do total de ﬁgurinhas, é interessante observar que são necessárias menos de 10% para

chegar na metade do álbum, ou seja, colar 341 ﬁgurinhas. Por (2.1):

340
X

i=0

682
682 − i

≈ 472.

Signiﬁca que mais de 90% das ﬁgurinhas são necessárias para completar a segunda parte
do álbum, algo que apesar de contraintuitivo faz sentido, pois quanto mais próximo do ﬁnal da
coleção menor a probabilidade de conseguir uma ﬁgurinha inédita, com isso é preciso comprar

cada vez mais. Para se ter uma ideia, quase duas mil ﬁgurinhas são necessárias, em média, para
obter apenas as 10 últimas da coleção:

22

681
X

i=672

682
682 − i

≈ 1998.

Para facilitar a tarefa do colecionador, a Panini (responsável pela produção dos álbuns e
ﬁgurinhas) oferece a possibilidade de encomendar as últimas 40 ﬁgurinhas faltantes. Utilizando
o serviço, é necessário coletar 642 ﬁgurinhas das 682, com isso a quantidade média de ﬁgurinhas
a serem adquiridas de maneira aleatória reduz consideravelmente. Por (2.1):

641
X

i=0

682
682 − i

≈ 1926.

As ﬁgurinhas são vendidas em pacotes com cinco unidades cada, por R$ 2,00 o pacote
no Brasil, onde o comprador não deve encontrar duplicatas em um pacote. Porém, no presente
trabalho, por questão de simplicidade, adota-se a hipótese de que as ﬁgurinhas possam ser
compradas aleatoriamente de forma unitária, por R$ 0,40 cada uma. Conclui-se que o custo para
completar o álbum sem trocas é, em média, aproximadamente 4844 · 0,40 = 1937,60 reais, sem
encomendar da Panini as últimas 40 ﬁgurinhas faltantes. Aproveitando-se do benefício, o custo é,
em média, 1926·0,40 = 770,40 reais, mais as despesas de manuseio e postagem das 40 ﬁgurinhas.
Por esse serviço, a Panini cobra 25,00 reais, logo, o preço total é de 770,40 + 25,00 = 795,40
reais.

2.2 VALOR ESPERADO COM TROCAS

A expressão Em(n) obtida no primeiro capítulo fornece a quantidade esperada de ﬁgu-
rinhas para completar m álbuns de n ﬁgurinhas. Dividindo esse valor pelo número de álbuns
tem-se a quantidade esperada de ﬁgurinhas por álbum, em média. Assim, supondo que um grupo
de amigos deseja completar m álbuns trocando as ﬁgurinhas repetidas entre si, a quantidade
média de ﬁgurinhas que cada amigo precisa para completar seu álbum é:

Em(n)
m

=

n
m

Z ∞

0

1 − [1 − e−tSm(t)]n dt.

Buscando resolver Em(n)/m em geral com a maior precisão possível, será criada uma
função no software livre Octave (EATON et al., 2018). Para criar funções no Octave, o comando
é da forma:

function resultado = nome da função(argumentos)
desenvolvimento
endfunction

Os argumentos são uma lista de valores separados por vírgula utilizados no desenvolvi-
mento da função, e o resultado é o valor que a função criada retorna. Por exemplo, uma função
que calcula a média aritmética simples entre dois números pode ser criada da seguinte maneira:

23

function m = media(a,b)
valor=(a+b)/2;
endfunction

Os argumentos de entrada são os números os quais se deseja calcular a média, represen-
tados por a e b. O desenvolvimento é a regra que calcula a média entre a e b, ou seja, a metade da
soma dos valores. Essa regra é atribuída a m pois a função deve retornar a média. Para calcular a
média entre 3 e 7 por exemplo, basta executar o comando x = media(3, 7) após criada a função
que ela retornará x = 5.

A expressão que fornece Em(n)/m depende da quantidade de álbuns/colecionadores e

do número de ﬁgurinhas. Primeiro é criada uma função relacionando Em(n) com

n

Z ∞

0

1 − [1 − e−tSm(t)]n dt,

que será representado a princípio por z. Para escrever o integrando, deﬁne-se outra função, agora
y = f (t). Em seguida, a representação de Sm(t) necessita de uma variável k que percorra os
naturais de 0 a m − 1 para gerar o somatório

m−1
X

k=0

tk
k!

.

O somatório é chamado de S e iniciado em zero. Deﬁne-se S = S + tk/k!. Na primeira etapa,
onde k = 0, S = 0 + 1. Depois, k = 1 e S = 1 + t, em seguida, k = 2 onde S = (1 + t) + t2/2!,
e assim segue sucessivamente até k = m − 1 gerando S = Sm(t). Assim, é possível escrever
y = f (t) deﬁnida anteriormente: y = 1 − (1 − e−tS)n. Finalmente, aplica-se a integração
numérica em f e o resultado é multiplicado por n/m gerando z = E(m, n) e concluindo a
aplicação. A integração numérica, que é uma aproximação do valor da integral, é realizada no
Octave por meio do comando quad, que baseia-se em quadratura gaussiana. Detalhes sobre
integração numérica via quadratura gaussiana podem ser vistos em (BURDEN; FAIRES, 2008).
O código da implementação realizada no software é o seguinte:

function z=E(m,n)
function y=f(t)
S=0;
for k=0:m-1

S=S+t^k/factorial(k);

end

24

y=1-(1-exp(-t)*S)^n;
endfunction
z=n*quad("f",0,inf)/m;
endfunction

A quantidade esperada de ﬁgurinhas por colecionador para completar o álbum da Copa
do Mundo é determinada pela função criada com a entrada E(m, 682), sendo m o número de
amigos que trocarão as ﬁgurinhas repetidas entre si. A Tabela 2 apresenta a quantidade esperada
de ﬁgurinhas e o custo por pessoa em algumas situações:

Tabela 2 – Quantidade esperada de ﬁgurinhas por colecionador

Álbuns/colecionadores Figurinhas Custo por pessoa

1 (sozinho)
2
5
10
20
50

4844
3219
2050
1563
1262
1025

R$ 1937,60
R$ 1287,60
R$ 820,00
R$ 625,20
R$ 504,80
R$ 410,00

A Figura 1 mostra o gráﬁco da quantidade esperada de ﬁgurinhas por colecionador para

1 até 50 colecionadores:

Figura 1 – Quantidade esperada por colecionador em comparação com 682

25

Por ﬁm, a Tabela 3 compara diferentes maneiras para se completar um álbum:

Tabela 3 – Custo para completar um álbum em diferentes situações

Situação
Sozinho
Com o serviço da Panini
Trocando com 1 amigo
Trocando com 9 amigos

Figurinhas
4844
1926
3219
1563

Custo
R$ 1937,60
R$ 795,40
R$ 1287,60
R$ 625,20

2.3 SIMULAÇÕES

Visando comparar os resultados teóricos com uma situação mais próxima da realidade,
será implementado no Octave um algoritmo que simula o processo de coleção das ﬁgurinhas. O
algoritmo deve gerar aleatoriamente números inteiros maiores ou iguais a 1 e menores ou iguais
a n até que sejam completados os m conjuntos desejados, computando a quantidade necessária
de números gerados para tal.

Para isso, são gerados e armazenados em uma matriz linha 20 · m · n números inteiros
aleatórios correspondentes às ﬁgurinhas, por meio do comando 1 + (f loor(rand(1, 20 ∗ m ∗
n) ∗ n)). O comando rand(a, b) gera uma matriz com a linhas e b colunas, cujos elementos são
números aleatórios entre 0 e 1. Multiplicando rand(a, b) por um inteiro n, os números gerados
aleatoriamente passam a estar entre 0 e n, e fazendo f loor((rand(1, b) ∗ n)) é gerada uma matriz
linha com b números inteiros entre 0 e n, uma vez que f loor(x) realiza o arredondamento de x
para o maior inteiro menor que x. Nesse caso, o menor número gerado é 0 e o maior (n − 1),
porém, pode-se somar uma unidade ﬁcando entre 1 e n, incluindo estes.

Na melhor das hipóteses, o número mínimo de ﬁgurinhas necessárias para completar m
álbuns de n ﬁgurinhas é m · n, portanto a análise inicia-se para os primeiros k-ésimos elementos
da matriz, com k = m · n, sendo k o contador de ﬁgurinhas utilizadas. Para cada ﬁgurinha, ou
seja, para cada f inteiro de 1 a 682, a quantidade de elementos que vale f desde o primeiro
até o k-ésimo deve ser maior ou igual a m. Caso seja menor que m, é necessário acrescentar
mais uma ﬁgurinha para as já coletadas, ou seja, k = k + 1, onde o ciclo se repete até que seja
alcançado o objetivo. Ao ﬁnal do ciclo, o valor de k indica a quantidade de ﬁgurinhas que foram
necessárias no total e, dividindo esse valor por m, tem-se a quantidade média de ﬁgurinhas por
álbum/colecionador.

Para realizar a simulação diversas vezes e obter uma média dos resultados, a implemen-

tação no Octave foi realizada com o código a seguir:

function z=simula(m,n,s)
r=zeros(1:s);
for i=1:s

26

t=1+(floor(rand(1,20*m*n)*n));
k=n*m;
for f=1:n

while sum(t(1:k)==f)<m
k=k+1;
end

end

r(i)=k/m;
end
z=mean(r);
endfunction

Os resultados obtidos com 100 simulações estão na Tabela 4.

Tabela 4 – Quantidade esperada x Média das simulações

Álbuns/colecionadores Quantidade esperada Média das simulações Variação
1,94%
0,06%
1,20%
0,45%
0,24%
0,19%

1 (sozinho)
2
5
10
20
50

4940
3217
2075
1556
1265
1023

4844
3219
2050
1563
1262
1025

Sobre o custo computacional, o maior caso testado, isto é, simula(50, 682, 100) demorou
aproximadamente 5 minutos em um computador com processador de 1.8 GHz e 6, 00 GB de
memória RAM.

Na prática, existe um cenário ainda melhor: o colecionador pode trocar as ﬁgurinhas
repetidas e ainda aproveitar-se da possibilidade de comprar as últimas 40 faltantes com o serviço
da Panini. A próxima simulação considera essa situação, computando o número necessário de
ﬁgurinhas até que o total de faltantes em todos os álbuns corresponda a quantidade que pode ser
comprada diretamente com a fabricante.

Inicialmente, funciona como na simulação anterior: são gerados 20 · m · n números
inteiros aleatórios maiores ou iguais a 1 e menores ou iguais a n, e a análise inicia-se com o
contador de ﬁgurinhas compradas k valendo (n − 40) · m, pois na melhor das hipóteses esse é
o número mínimo de ﬁgurinhas necessárias. A contagem de quantas ﬁgurinhas faltam de cada
uma para completar todos os álbuns é realizada com a diferença de duas matrizes linha com
n colunas, cada coluna indicando a quantidade de determinada ﬁgurinha. Na primeira matriz
tem-se a quantidade necessária de cada ﬁgurinha e na segunda estão as quantidades já obtidas, de
modo que a diferença dessas matrizes retorna a quantidade de faltantes da primeira até a n-ésima
ﬁgurinha. Portanto, todos os elementos da primeira matriz valem m, isso é obtido fazendo-se

27

m ∗ ones(1, n). Na segunda matriz, por meio do comando histc(t(1 : k), 1 : n) os elementos
são tais que o n-ésimo indica quantas vezes o número n apareceu entre os k primeiros sorteados.
É necessário que o valor mínimo da diferença entre as matrizes seja zero para qualquer elemento,
pois mesmo que sejam obtidas mais de m unidades de certa ﬁgurinha a quantidade de faltantes é
zero. Assim, é preciso utilizar o comando max(m ∗ ones(1, n) − histc(t(1 : k), 1 : n), 0), que
compara cada elemento com o zero retornando aquele que é maior ou igual. Finalmente, com
sum(max(m ∗ ones(1, n) − histc(t(1 : k), 1 : n), 0)) faz-se a soma dos elementos da matriz
diferença que é a soma das ﬁgurinhas faltantes. Enquanto a soma for maior que 40 · m tem-se
k = k + 1, o que equivale a adicionar mais um número para a análise ou comprar uma nova
ﬁgurinha. A implementação determina a média de ﬁgurinhas compradas por colecionador para
obter 642 ﬁgurinhas diferentes, ou seja, antes de utilizar o serviço da Panini.

function z=panini(m,n,s)
r=zeros(1,s);
for i=1:s

t=1+(floor(rand(1,20*m*n)*n));
k=(n-40)*m;
while sum(max(m*ones(1,n)-histc(t(1:k),1:n),0))>40*m

k=k+1;

end
r(i)=k/m;

end
z=mean(r);
endfunction

A Tabela 5 apresenta a média dos resultados de 100 simulações, onde o custo por pessoa
é o custo total, que inclui o gasto com as ﬁgurinhas compradas para obter as 642 mais o valor
cobrado pela Panini pelo envio das 40 faltantes:

Tabela 5 – Simulações do custo para completar um álbum com trocas e utilizando o serviço da

Panini

Álbuns/colecionadores Figurinhas Custo por pessoa

1 (sozinho)
2
5
10
20
50

1925
1337
951
811
732
678

R$ 795,00
R$ 559,80
R$ 405,40
R$ 349,40
R$ 317,80
R$ 296,20

Nessa simulação, o custo computacional com o caso panini(50, 682, 100) demorou

aproximadamente 9 minutos.

3 CONCLUSÃO

28

Este trabalho tem como objetivo determinar o custo médio para se completar o álbum
de ﬁgurinhas oﬁcial da Copa do Mundo de 2018, a partir da quantidade esperada de ﬁgurinhas
necessárias.

Para isso foi construída a solução do Problema do Colecionador de Cupons, primeiro
na versão clássica e depois na versão envolvendo as trocas, provando-se todos os resultados
de Newman e Shepp. Adotando as hipóteses de que todas as ﬁgurinhas possuem a mesma
probabilidade de aparecer e que elas podem ser compradas aleatoriamente uma a uma, juntamente
com a implementação das fórmulas, foi possível determinar computacionalmente o número de
ﬁgurinhas necessárias e consequentemente o custo médio para um colecionador completar sua
coleção em diferentes cenários, seja sozinho ou trocando as ﬁgurinhas repetidas. As simulações
realizadas comprovaram que a teoria funciona à medida que o experimento é repetido muitas
vezes. Quanto mais simulações são realizadas, mais a média tende ao valor esperado teórico.
Para ﬁm de divulgação, os principais resultados dessa dissertação estão em um vídeo disponível
em: https://youtu.be/EvO4nJ9LyjY.

Visando trabalhos futuros, é interessante olhar para o problema sob outra perspectiva, que
é a probabilidade de completar uma ou mais coleções comprando um certo número de ﬁgurinhas.
Mais precisamente, seria responder a pergunta: qual é a probabilidade de completar m álbuns
de n ﬁgurinhas ao comprar f ﬁgurinhas? Nesse contexto, uma simulação computacional foi
realizada por (TREBBIN, 2014), apresentando as probabilidades de completar 1, 2, 3, . . . , 19
coleções de 42 elementos, para 1 até 1000 objetos adquiridos aleatoriamente.

Sobre o PROFMAT, ele foi muito importante em minha formação acadêmica trazendo
novos conhecimentos e solidiﬁcando muitos outros já existentes. A graduação, sobretudo na
licenciatura, deixa muitas lacunas na formação matemática do professor, e as disciplinas desse
mestrado proporcionaram um aprofundamento dos assuntos, com todo o rigor necessário, me
tornando mais preparado e seguro para o exercício da docência.

REFERÊNCIAS

29

BASSANEZI, R. C. Problema do colecionador de ﬁgurinhas. 2018. DOI:
10.13140/RG.2.2.25234.96960.

BURDEN, R. L.; FAIRES, J. D. Análise Numérica. 8. ed. [S.l.]: Cengage Learning, 2008.

CARVALHO, P. C. P. Quantas ﬁgurinhas comprar para completar o álbum da copa? Revista do
Professor de Matemática, SBM, v. 73, 2010.

EATON, J. W. et al. GNU Octave version 4.4.0 manual: a high-level interactive language
for numerical computations. [S.l.], 2018. Disponível em: <https://www.gnu.org/software/
octave/doc/v4.4.1/>. Acesso em: 15 abr. 2019.

FELLER, W. An introduction to probability theory and its applications. [S.l.]: New York,
1950. v. 1.

FERRANTE, M.; SALTALAMACCHIA, M. The coupon collector’s problem. MATerials
MATemàtics, 2014.

FLAJOLET, P.; GARDY, D.; THIMONIER, L. Birthday paradox, coupon collectors, caching
algorithms and self-organizing search. Discrete Applied Mathematics, n. 39, p. 207–229,
1992.

KOBZA, J. E.; JACOBSON, S. H.; VAUGHAN, D. E. A survey of the coupon collector’s
problem with random sample sizes. Methodology And Computing In Applied Probability,
v. 9, p. 573–584, 2007.

MAY, R. Coupon collecting with quotas. The Electronic Journal of Combinatorics, v. 15,
n. 31, 2008.

NEWMAN, D. J.; SHEPP, L. The double dixie cup problem. The American Mathematical
Monthly, Mathematical Association of America, v. 67, n. 1, p. 58–61, 1960.

O’CONNOR, L. Entropy bounds for trafﬁc conﬁrmation. Cryptology ePrint Archive, 2008.

PAPANICOLAOU, V. G.; KOKOLAKIS, G. E.; BONEH, S. Asymptotics for the random
coupon collector problem. Journal of Computational and Applied Mathematic, n. 93, p.
95–105, 1998.

POON, A.; DAVIS, B. H.; CHAO, L. The coupon collector and the suppressor mutation:
Estimating the number of compensatory mutations by maximum likelihood. Genetics, v. 170, p.
1323–1332, 2005.

RAFFERTY, A. N.; GRIFFITHS, T. L.; KLEIN, D. Convergence bounds for language evolution
by iterated learning. Proceed. 31st Annual Conference of the Cognitive Science Society,
2009.

SASAKI, Y. et al. Coupon collector’s problem for fault analysis against aes — high tolerance for
noisy fault injections. Financial Cryptography and Data Security, 2013.

30

SCHELLING, H. V. Coupon collecting for unequal probabilities. The American Mathematical
Monthly, v. 61, n. 5, p. 306–311, 1954.

SHANK, N.; YANG, H. Coupon collector problem for non-uniform coupons and random quotas.
The electronic journal of combinatorics, v. 20, n. 33, 2013.

STADJE, W. The collector’s problem with group drawings. Advances in Applied Probability,
v. 22, p. 866–882, 1990.

STEWART, J. Cálculo. 7. ed. [S.l.]: Cengage Learning, 2013. v. 2.

TREBBIN, G. Probability of Collecting Multiple Full Sets. [S.l.], 2014. Disponível em:
<https://www.grant-trebbin.com/2014/03/probability-of-collecting-multiple-full.html>. Acesso
em: 04 jun. 2019.

WOLFRAM, S. Wolfram|Alpha. [S.l.], 2009. Disponível em: <https://www.wolframalpha.
com/>. Acesso em: 15 abr. 2019.

